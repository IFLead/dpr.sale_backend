function debugLine(e,t,n){!0===e&&(e="true"),!1===e&&(e="false");var i=e;if("object"==typeof e){i="";for(name in e){var o=e[name];i+=" "+name+": "+o}}if(1!=t||n||(i+=" "+Math.random()),1==n){var r=jQuery("#debug_line");r.width(200),r.height()>=500&&r.html(""),i=r.html()+"<br> -------------- <br>"+i}jQuery("#debug_line").show().html(i)}function debugSide(e){var t="";for(name in e){var n=e[name];t+=name+" : "+n+"<br>"}jQuery("#debug_side").show().html(t)}function trace(e){"undefined"!=typeof console&&console.log(e)}function UGFunctions(){function e(e,t,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t[e]=n}var t=null,n=this,i={starTime:0,arrThemes:[],isTouchDevice:-1,isRgbaSupported:-1,timeCache:{},dataCache:{},lastEventType:"",lastEventTime:0,lastTouchStartElement:null,touchThreshold:700,handle:null};this.debugVar="",this.z__________FULL_SCREEN___________=function(){},this.toFullscreen=function(e,t){if(e.requestFullscreen)e.requestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},this.exitFullscreen=function(){if(0==n.isFullScreen())return!1;if(document.exitFullscreen)document.exitFullscreen();else if(document.cancelFullScreen)document.cancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},this.addFullScreenChangeEvent=function(t){document.webkitCancelFullScreen?e("webkitfullscreenchange",document,t):document.msExitFullscreen?e("MSFullscreenChange",document,t):document.mozCancelFullScreen?e("mozfullscreenchange",document,t):e("fullscreenchange",document,t)},this.destroyFullScreenChangeEvent=function(){jQuery(document).unbind("fullscreenChange"),jQuery(document).unbind("mozfullscreenchange"),jQuery(document).unbind("webkitfullscreenchange"),jQuery(document).unbind("MSFullscreenChange")},this.getFullScreenElement=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},this.isFullScreen=function(){var e=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;return e=!!e},this.z__________GET_PROPS___________=function(){},this.getBrowserPrefix=function(){if(null!==t)return t;var e=["webkit","Moz","ms","O"],n=document.createElement("div");for(var i in e){var o=e[i];if(o+"Transform"in n.style)return o=o.toLowerCase(),t=o,o}return t="",""},this.getImageInsideParentDataByImage=function(e,t,i){var o=e.parent(),r=n.getImageOriginalSize(e);return n.getImageInsideParentData(o,r.width,r.height,t,i)},this.getImageInsideParentData=function(e,t,n,i,o,r,a){if(!o)var o={};var s={};if(void 0===r)var r=e.width();if(void 0===a)var a=e.height();o.padding_left&&(r-=o.padding_left),o.padding_right&&(r-=o.padding_right),o.padding_top&&(a-=o.padding_top),o.padding_bottom&&(a-=o.padding_bottom);var l=null,u="100%",c=null,d=null,f="display:block;margin:0px auto;";if(t>0&&n>0){if("down"==i&&r>t&&a>n)u=n,l=t,d=(r-l)/2,c=(a-u)/2;else if("fill"==i)r>(l=(u=a)*(g=t/n))?(l=r,u=l/g,d=0,c=Math.round((u-a)/2*-1)):(c=0,d=Math.round((l-r)/2*-1));else{var g=t/n;c=0,d=(r-(l=(u=a)*g))/2,"fitvert"!=i&&l>r&&(l=r,u=l/g,d=0,c=(a-u)/2)}l=Math.floor(l),u=Math.floor(u),c=Math.floor(c),d=Math.floor(d),f="position:absolute;"}return o.padding_top&&(c+=o.padding_top),o.padding_left&&(d+=o.padding_left),s.imageWidth=l,s.imageHeight=u,s.imageTop=c,s.imageLeft=d,s.imageRight=d+l,s.imageBottom=0==c||"100%"==u?null:c+u,s.style=f,s},this.getElementCenterPosition=function(e,t){var i=e.parent(),o=n.getElementSize(e),r=n.getElementSize(i),a=r.width,s=r.height;t&&void 0!==t.padding_top&&(s-=t.padding_top),t&&void 0!==t.padding_bottom&&(s-=t.padding_bottom),t&&void 0!==t.padding_left&&(a-=t.padding_left),t&&void 0!==t.padding_right&&(a-=t.padding_right);var l={};return l.left=Math.round((a-o.width)/2),l.top=Math.round((s-o.height)/2),t&&void 0!==t.padding_top&&(l.top+=t.padding_top),t&&void 0!==t.padding_left&&(l.left+=t.padding_left),l},this.getElementCenterPoint=function(e,t){if(!t)var t=!1;var i=n.getElementSize(e),o={};return o.x=i.width/2,o.y=i.height/2,1==t&&(o.x+=i.left,o.y+=i.top),o.x=Math.round(o.x),o.y=Math.round(o.y),o},this.getMousePosition=function(e,t){var n={pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY};if(e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(n.pageX=e.originalEvent.touches[0].pageX,n.pageY=e.originalEvent.touches[0].pageY,n.clientX=e.originalEvent.touches[0].clientX,n.clientY=e.originalEvent.touches[0].clientY),t){var i=t.offset();n.mouseX=n.pageX-i.left,n.mouseY=n.pageY-i.top}return n},this.getMouseElementPoint=function(e,t){var i={x:e.pageX,y:e.pageY};return n.getElementLocalPoint(i,t)},this.getElementLocalPoint=function(e,t){var n={},i=t.offset();return n.x=Math.round(e.x-i.left),n.y=Math.round(e.y-i.top),n},this.getImageOriginalSize=function(e,t,n){if(void 0!==t&&void 0!==n)return{width:t,height:n};var i=e[0];if(void 0===i)throw new Error("getImageOriginalSize error - Image not found");var o={};if(void 0===i.naturalWidth){if("number"==typeof e.data("naturalWidth"))return(o={}).width=e.data("naturalWidth"),o.height=e.data("naturalHeight"),o;var r=new Image;return r.src=i.src,r.complete?(o.width=r.width,o.height=r.height,e.data("naturalWidth",o.width),e.data("naturalHeight",o.height),o):{width:0,height:0}}return o.width=i.naturalWidth,o.height=i.naturalHeight,o},this.getimageRatio=function(e){var t=n.getImageOriginalSize(e);return n.getElementSize(e).width/t.width},this.isImageFitParent=function(e){var t=e.parent(),i=n.getElementSize(e),o=n.getElementSize(t);return i.width<=o.width&&i.height<=o.height},this.getElementSize=function(e){if(void 0===e)throw new Error("Can't get size, empty element");var t=e.position();return t.height=e.outerHeight(),t.width=e.outerWidth(),t.left=Math.round(t.left),t.top=Math.round(t.top),t.right=t.left+t.width,t.bottom=t.top+t.height,t},this.isElementBiggerThenParent=function(e){var t=e.parent(),i=n.getElementSize(e),o=n.getElementSize(t);return i.width>o.width||i.height>o.height},this.isPointInsideElement=function(e,t){return 0!=(e.x>=0&&e.x<t.width)&&0!=(e.y>=0&&e.y<t.height)},this.getElementRelativePos=function(e,t,i,o){if(!o)var o=e.parent();if("number"==typeof e)r={width:e,height:e};else var r=n.getElementSize(e);var a=n.getElementSize(o);switch(t){case"top":case"left":t=0,i&&(t+=i);break;case"center":t=Math.round((a.width-r.width)/2),i&&(t+=i);break;case"right":t=a.width-r.width,i&&(t-=i);break;case"middle":t=Math.round((a.height-r.height)/2),i&&(t+=i);break;case"bottom":t=a.height-r.height,i&&(t-=i)}return t},this.z_________SET_ELEMENT_PROPS_______=function(){},this.zoomImageInsideParent=function(e,t,i,o,r,a,s){if(!i)var i=1.2;if(!r)var r="fit";var l,u,c,d,f=i,g=e.parent(),p=n.getElementSize(e),h=n.getImageOriginalSize(e),m=!1,v=0,b=0,_=0,y=0;if(o){var w=n.getMouseElementPoint(o,e);m=n.isPointInsideElement(w,p),_=w.x,y=w.y}else m=!1;if(0==m){var x=n.getElementCenterPoint(e);_=x.x,y=x.y}if(1==t)l=p.height*f,u=p.width*f,0!=_&&(v=-(_*f-_)),0!=y&&(b=-(y*f-y));else{if(l=p.height/f,(u=p.width/f)<n.getImageInsideParentData(g,h.width,h.height,r,s).imageWidth)return n.scaleImageFitParent(e,h.width,h.height,r,s),!0;1==m&&(0!=_&&(v=-(_/f-_)),0!=y&&(b=-(y/f-y)))}if(a){var T=1;if(0!=h.width&&(T=u/h.width),T>a)return!1}if(n.setElementSize(e,u,l),0==t&&0==m){var S=n.getElementCenterPosition(e);c=S.left,d=S.top}else c=p.left+v,d=p.top+b;return n.placeElement(e,c,d),!0},this.placeElement=function(e,t,i,o,r,a){if(0==jQuery.isNumeric(t)||0==jQuery.isNumeric(i)){if(!a)var a=e.parent();var s=n.getElementSize(e),l=n.getElementSize(a)}if(0==jQuery.isNumeric(t))switch(t){case"left":t=0,o&&(t+=o);break;case"center":t=Math.round((l.width-s.width)/2),o&&(t+=o);break;case"right":t=l.width-s.width,o&&(t-=o)}if(0==jQuery.isNumeric(i))switch(i){case"top":i=0,r&&(i+=r);break;case"middle":case"center":i=Math.round((l.height-s.height)/2),r&&(i+=r);break;case"bottom":i=l.height-s.height,r&&(i-=r)}var u={position:"absolute",margin:"0px"};null!==t&&(u.left=t),null!==i&&(u.top=i),e.css(u)},this.placeElementInParentCenter=function(e){n.placeElement(e,"center","middle")},this.setElementSizeAndPosition=function(e,t,n,i,o){var r={width:i+"px",height:o+"px",left:t+"px",top:n+"px",position:"absolute",margin:"0px"};e.css(r)},this.setElementSize=function(e,t,n){var i={width:t+"px"};null!==n&&void 0!==n&&(i.height=n+"px"),e.css(i)},this.cloneElementSizeAndPos=function(e,t,i,o,r){var a=e.position();if(void 0==a)throw new Error("Can't get size, empty element");!0===i?(a.height=e.outerHeight(),a.width=e.outerWidth()):(a.height=e.height(),a.width=e.width()),a.left=Math.round(a.left),a.top=Math.round(a.top),o&&(a.left+=o),r&&(a.top+=r),n.setElementSizeAndPosition(t,a.left,a.top,a.width,a.height)},this.placeImageInsideParent=function(e,t,i,o,r,a){var s=n.getImageInsideParentData(t,i,o,r,a),l="<img";return null!==s.imageWidth&&(l+=" width = '"+s.imageWidth+"'",s.style+="width:"+s.imageWidth+";"),null!=s.imageHeight&&("100%"==s.imageHeight?(l+=" height = '"+s.imageHeight+"'",s.style+="height:"+s.imageHeight+";"):(l+=" height = '"+s.imageHeight+"'",s.style+="height:"+s.imageHeight+"px;")),null!==s.imageTop&&(s.style+="top:"+s.imageTop+"px;"),null!==s.imageLeft&&(s.style+="left:"+s.imageLeft+"px;"),e=n.escapeDoubleSlash(e),l+=" style='"+s.style+"'",l+=' src="'+e+'"',l+=">",t.html(l),t.children("img")},this.scaleImageCoverParent=function(e,t,i){if("number"==typeof t)var o=t,r=i;else var o=t.outerWidth(),r=t.outerHeight();var a=n.getImageOriginalSize(e),s=a.width/a.height,l=r,u=l*s,c=0,d=0;o>u?(u=o,l=u/s,d=0,c=Math.round((l-r)/2*-1)):(c=0,d=Math.round((u-o)/2*-1)),u=Math.round(u),l=Math.round(l),e.css({width:u+"px",height:l+"px",left:d+"px",top:c+"px"})},this.scaleImageFitParent=function(e,t,i,o,r){var a=e.parent(),s=n.getImageInsideParentData(a,t,i,o,r),l=!1,u={};return null!==s.imageWidth&&(l=!0,e.removeAttr("width"),u.width=s.imageWidth+"px"),null!=s.imageHeight&&(l=!0,e.removeAttr("height"),u.height=s.imageHeight+"px"),null!==s.imageTop&&(l=!0,u.top=s.imageTop+"px"),null!==s.imageLeft&&(l=!0,u.left=s.imageLeft+"px"),1==l&&(u.position="absolute",u.margin="0px 0px",e.css(u)),s},this.scaleImageByHeight=function(e,t,i,o){var r=n.getImageOriginalSize(e,i,o),a=r.width/r.height,s=Math.round(t*a);t=Math.round(t),n.setElementSize(e,s,t)},this.scaleImageByWidth=function(e,t,i,o){var r=n.getImageOriginalSize(e,i,o),a=r.width/r.height,s=Math.round(t/a);t=Math.round(t),n.setElementSize(e,t,s)},this.scaleImageExactSizeInParent=function(e,t,i,o,r,a){var s=e.parent(),l=n.getElementSize(s);l.width<o&&(o=l.width),l.height<r&&(r=l.height);var u=n.getImageInsideParentData(null,t,i,a,null,o,r),c=o,d=r,f=u.imageLeft,g=u.imageLeft,p=u.imageTop,h=u.imageTop,m=Math.round((l.width-o)/2),v=Math.round((l.height-r)/2),b=o-(u.imageWidth+f+g);0!=b&&(g+=b),0!=(b=r-(u.imageHeight+p+h))&&(h+=b),e.removeAttr("width"),e.removeAttr("height");var _={position:"absolute",margin:"0px 0px"};_.width=c+"px",_.height=d+"px",_.left=m+"px",_.top=v+"px",_["padding-left"]=f+"px",_["padding-top"]=p+"px",_["padding-right"]=g+"px",_["padding-bottom"]=h+"px",e.css(_);var y={};return y.imageWidth=c,y.imageHeight=d,y},this.showElement=function(e,t,n){e.show().fadeTo(0,1),t&&t.show().fadeTo(0,1),n&&n.show().fadeTo(0,1)},this.z_________GALLERY_RELATED_FUNCTIONS_______=function(){},this.disableButton=function(e,t){if(!t)var t="ug-button-disabled";0==n.isButtonDisabled(e,t)&&e.addClass(t)},this.convertCustomPrefixOptions=function(e,t,n){if(!t)return e;var i={};return jQuery.each(e,function(e,o){if(0===e.indexOf(t+"_"+n+"_")){var r=e.replace(t+"_"+n+"_",n+"_");i[r]=o}else i[e]=o}),i},this.enableButton=function(e,t){if(!t)var t="ug-button-disabled";1==n.isButtonDisabled(e,t)&&e.removeClass(t)},this.isButtonDisabled=function(e,t){if(!t)var t="ug-button-disabled";return!!e.hasClass(t)},this.z_________MATH_FUNCTIONS_______=function(){},this.normalizeSetting=function(e,t,n,i,o,r){if(!r)var r=!1;return o=e+(t-e)*((o-n)/(i-n)),1==r&&(e>o&&(o=e),o>t&&(o=t)),o},this.getNormalizedValue=function(e,t,n,i,o){return o=e+(i-n)*((o-e)/(t-e))},this.getDistance=function(e,t,n,i){return Math.round(Math.sqrt(Math.abs((n-e)*(n-e)+(i-t)*(i-t))))},this.getMiddlePoint=function(e,t,n,i){var o={};return o.x=e+Math.round((n-e)/2),o.y=t+Math.round((i-t)/2),o},this.getNumItemsInSpace=function(e,t,n){return Math.floor((e+n)/(t+n))},this.getNumItemsInSpaceRound=function(e,t,n){return Math.round((e+n)/(t+n))},this.getSpaceByNumItems=function(e,t,n){return e*t+(e-1)*n},this.getItemSizeInSpace=function(e,t,n){return Math.floor((e-(t-1)*n)/t)},this.getColX=function(e,t,n){return e*(t+n)},this.getColByIndex=function(e,t){return t%e},this.getColRowByIndex=function(e,t){var n=Math.floor(e/t);return{col:Math.floor(e%t),row:n}},this.getIndexByRowCol=function(e,t,n){return 0>e?-1:0>t?-1:e*n+t},this.getPrevRowSameColIndex=function(e,t){var i=n.getColRowByIndex(e,t);return n.getIndexByRowCol(i.row-1,i.col,t)},this.getNextRowSameColIndex=function(e,t){var i=n.getColRowByIndex(e,t);return n.getIndexByRowCol(i.row+1,i.col,t)},this.z_________DATA_FUNCTIONS_______=function(){},this.setGlobalData=function(e,t){jQuery.data(document.body,e,t)},this.getGlobalData=function(e){return jQuery.data(document.body,e)},this.z_________EVENT_DATA_FUNCTIONS_______=function(){},this.handleScrollTop=function(e){if(0==n.isTouchDevice())return null;var t=n.getStoredEventData(e);if(null===t.scrollDir&&(Math.abs(t.diffMouseX)>15?t.scrollDir="hor":Math.abs(t.diffMouseY)>15&&Math.abs(t.diffMouseY)>Math.abs(t.diffMouseX)&&(t.scrollDir="vert",t.scrollStartY=t.lastMouseClientY,t.scrollOrigin=jQuery(document).scrollTop(),i.dataCache[e].scrollStartY=t.lastMouseClientY,i.dataCache[e].scrollOrigin=t.scrollOrigin),i.dataCache[e].scrollDir=t.scrollDir),"vert"!==t.scrollDir)return t.scrollDir;var o=(jQuery(document).scrollTop(),t.scrollOrigin-(t.lastMouseClientY-t.scrollStartY));return o>=0&&jQuery(document).scrollTop(o),t.scrollDir},this.wasVerticalScroll=function(e){return"vert"===n.getStoredEventData(e).scrollDir},this.storeEventData=function(e,t,o){var r=n.getMousePosition(e),a=jQuery.now(),s={startTime:a,lastTime:a,startMouseX:r.pageX,startMouseY:r.pageY,lastMouseX:r.pageX,lastMouseY:r.pageY,startMouseClientY:r.clientY,lastMouseClientY:r.clientY,scrollTop:jQuery(document).scrollTop(),scrollDir:null};o&&(s=jQuery.extend(s,o)),i.dataCache[t]=s},this.updateStoredEventData=function(e,t,o){if(!i.dataCache[t])throw new Error("updateEventData error: must have stored cache object");var r=i.dataCache[t],a=n.getMousePosition(e);r.lastTime=jQuery.now(),void 0!==a.pageX&&(r.lastMouseX=a.pageX,r.lastMouseY=a.pageY,r.lastMouseClientY=a.clientY),o&&(r=jQuery.extend(r,o)),i.dataCache[t]=r},this.getStoredEventData=function(e,t){if(!i.dataCache[e])throw new Error("updateEventData error: must have stored cache object");var n=i.dataCache[e];return n.diffMouseX=n.lastMouseX-n.startMouseX,n.diffMouseY=n.lastMouseY-n.startMouseY,n.diffMouseClientY=n.lastMouseClientY-n.startMouseClientY,n.diffTime=n.lastTime-n.startTime,!0===t?(n.startMousePos=n.lastMouseY,n.lastMousePos=n.lastMouseY,n.diffMousePos=n.diffMouseY):(n.startMousePos=n.lastMouseX,n.lastMousePos=n.lastMouseX,n.diffMousePos=n.diffMouseX),n},this.isApproveStoredEventClick=function(e,t){if(!i.dataCache[e])return!0;var o=n.getStoredEventData(e,t),r=Math.abs(o.diffMousePos);return!(o.diffTime>400)&&!(r>30)},this.clearStoredEventData=function(e){i.dataCache[e]=null},this.z_________CHECK_SUPPORT_FUNCTIONS_______=function(){},this.isCanvasExists=function(){return"function"==typeof jQuery('<canvas width="500" height="500" > </canvas>')[0].getContext},this.isScrollbarExists=function(){return window.innerWidth>document.documentElement.clientWidth},this.isTouchDevice=function(){if(-1!==i.isTouchDevice)return i.isTouchDevice;try{document.createEvent("TouchEvent"),i.isTouchDevice=!0}catch(e){i.isTouchDevice=!1}return i.isTouchDevice},this.isRgbaSupported=function(){if(-1!==i.isRgbaSupported)return i.isRgbaSupported;var e=document.getElementsByTagName("script")[0],t=e.style.color;try{e.style.color="rgba(1,5,13,0.44)"}catch(e){}var n=e.style.color!=t;return e.style.color=t,i.isRgbaSupported=n,n},this.z_________GENERAL_FUNCTIONS_______=function(){},this.checkMinJqueryVersion=function(e){for(var t=jQuery.fn.jquery.split("."),n=e.split("."),i=0,o=t.length;o>i;i++){var r=parseInt(t[i]),a=parseInt(n[i]);if(void 0===n[i])return!0;if(a>r)return!1;if(r>a)return!0}return!0},this.getCssSizeParam=function(e){return jQuery.isNumeric(e)?e+"px":e},this.convertHexToRGB=function(e,t){var n=e.replace("#","");return n===e?e:(r=parseInt(n.substring(0,2),16),g=parseInt(n.substring(2,4),16),b=parseInt(n.substring(4,6),16),result="rgba("+r+","+g+","+b+","+t+")",result)},this.timestampToString=function(e){var t=new Date(e),n=t.getDate()+"/"+t.getMonth();return n+=" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+":"+t.getMilliseconds()},this.getArrTouches=function(e){var t=[];return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(t=e.originalEvent.touches),t},this.getArrTouchPositions=function(e){for(var t=[],n=0;n<e.length;n++){var i={pageX:e[n].pageX,pageY:e[n].pageY};t.push(i)}return t},this.startTimeDebug=function(){i.starTime=jQuery.now()},this.showTimeDebug=function(){debugLine({"Time Passed":jQuery.now()-i.starTime},!0)},this.initProgressIndicator=function(e,t,i){switch("bar"!=e&&0==n.isCanvasExists()&&(e="bar"),e){case"bar":(o=new UGProgressBar).putHidden(i,t);break;default:case"pie":(o=new UGProgressPie).putHidden(i,t);break;case"pie2":t.type_fill=!0;var o=new UGProgressPie;o.putHidden(i,t)}return o},this.setButtonMobileReady=function(e){e.on("touchstart",function(e){jQuery(this).addClass("ug-nohover")}),e.on("mousedown touchend",function(e){return e.stopPropagation(),e.stopImmediatePropagation(),!1})},this.registerTheme=function(e){i.arrThemes.push(e)},this.getArrThemes=function(){return i.arrThemes},this.isThemeRegistered=function(e){return-1!==jQuery.inArray(e,i.arrThemes)},this.getFirstRegisteredTheme=function(){return 0==i.arrThemes.length?"":i.arrThemes[0]},this.isTimePassed=function(e,t){if(!t)var t=100;var n=jQuery.now();0==i.timeCache.hasOwnProperty(e)?lastTime=0:lastTime=i.timeCache[e];var o=n-lastTime;return i.timeCache[e]=n,!(t>=o)},this.whenContiniousEventOver=function(e,t,n){if(!n)var n=300;1==i.timeCache.hasOwnProperty(e)&&null!=i.timeCache[e]&&(clearTimeout(i.timeCache[e]),i.timeCache[e]=null),i.timeCache[e]=setTimeout(t,n)},this.validateClickTouchstartEvent=function(e){var t=!0,n=jQuery.now()-i.lastEventTime;return"click"==e&&"touchstart"==i.lastEventType&&1e3>n&&(t=!1),i.lastEventTime=jQuery.now(),i.lastEventType=e,t},this.addClassOnHover=function(e,t){if(!t)var t="ug-button-hover";e.hover(function(){jQuery(this).addClass(t)},function(){jQuery(this).removeClass(t)})},this.destroyButton=function(e){e.off("mouseenter"),e.off("mouseleave"),e.off("click"),e.off("touchstart"),e.off("touchend"),e.off("mousedown"),e.off("tap")},this.setButtonOnClick=function(e,t){n.setButtonMobileReady(e),e.on("click touchstart",function(e){return objThis=jQuery(this),e.stopPropagation(),e.stopImmediatePropagation(),0==n.validateClickTouchstartEvent(e.type)||void t(objThis,e)})},this.setButtonOnTap=function(e,t){e.on("tap",t),0==n.isTouchDevice()?e.on("click",function(e){var t=jQuery(this);return 0==n.validateClickTouchstartEvent(e.type)||void t.trigger("tap")}):(e.on("touchstart",function(e){jQuery(this).addClass("ug-nohover"),i.lastTouchStartElement=jQuery(this),i.lastEventTime=jQuery.now()}),e.on("touchend",function(e){var t=jQuery(this);return 0==t.is(i.lastTouchStartElement)||(!i.lastEventTime||(jQuery.now()-i.lastEventTime>i.touchThreshold||void t.trigger("tap")))}))},this.loadJs=function(e,t){!0===t&&(e=location.protocol+"//"+e);var n=document.createElement("script");n.src=e;var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)},this.loadCss=function(e,t){!0===t&&(e=location.protocol+"//"+e);var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(n)},this.addEvent=function(e,t,n){void 0!==e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},this.checkImagesLoaded=function(e,t,n){function i(e,i){o++,"function"==typeof n&&setTimeout(function(){n(e,i)}),o==r&&"function"==typeof t&&setTimeout(function(){t()})}var o=0,r=e.length;return 0==r&&t?(t(),!1):void setTimeout(function(){for(var t=0;r>t;t++){var n=e[t];if(void 0!==n.naturalWidth&&0!==n.naturalWidth)i(e[t],!1);else{var o=jQuery("<img/>");o.data("index",t),o.on("load",function(){var t=jQuery(this).data("index");i(e[t],!1)}),o.on("error",function(){var t=jQuery(this).data("index");i(e[t],!0)}),o.attr("src",n.src)}}})},this.waitForWidth=function(e,t){var n=e.width();return 0!=n?(t(),!1):void(i.handle=setInterval(function(){0!=(n=e.width())&&(clearInterval(i.handle),t())},300))},this.arrayShuffle=function(e){if("object"!=typeof e)return e;for(var t,n,i=e.length;i;t=parseInt(Math.random()*i),n=e[--i],e[i]=e[t],e[t]=n);return e},this.getObjectLength=function(e){var t=0;for(var n in e)t++;return t},this.normalizePercent=function(e){return 0>e&&(e=0),e>1&&(e=1),e},this.stripTags=function(e){return e.replace(/(<([^>]+)>)/gi,"")},this.escapeDoubleSlash=function(e){return e.replace('"','"')},this.htmlentitles=function(e){return jQuery("<div/>").text(e).html()},this.z_________END_GENERAL_FUNCTIONS_______=function(){}}function UGThumbsGeneral(){function e(e,t){var n=x[e],i="";0==k.customThumbs&&(i=" ug-thumb-generated");a="<div class='ug-thumb-wrapper"+i+"' "+("style='z-index:"+(n.index+1)+";'")+"></div>";if(1==P.thumb_wrapper_as_link){var o=n.link;""==n.link&&(o="javascript:void(0)");var r="";1==P.thumb_link_newpage&&n.link&&(r=" target='_blank'");var a="<a href='"+o+"'"+r+" class='ug-thumb-wrapper"+i+"'></a>"}var s=jQuery(a),l=n.objThumbImage;if(0==k.customThumbs){if(1==P.thumb_show_loader&&l){var u="ug-thumb-loader-dark";"bright"==P.thumb_loader_type&&(u="ug-thumb-loader-bright"),s.append("<div class='ug-thumb-loader "+u+"'></div>"),s.append("<div class='ug-thumb-error' style='display:none'></div>")}if(l){if(l.addClass("ug-thumb-image"),1==P.thumb_image_overlay_effect){var c=l.clone().appendTo(s);c.addClass("ug-thumb-image-overlay "+t).removeClass("ug-thumb-image"),c.fadeTo(0,0),n.objImageOverlay=c}s.append(l)}}return k.isEffectBorder&&s.append("<div class='ug-thumb-border-overlay'></div>"),k.isEffectOverlay&&s.append("<div class='ug-thumb-overlay'></div>"),T.append(s),k.customThumbs&&k.funcSetCustomThumbHtml(s,n),x[e].objThumbWrapper=s,s}function t(e,t,n,i){var o={width:e+"px",height:t+"px"},r={width:e-k.thumbInnerReduce+"px",height:t-k.thumbInnerReduce+"px"},a=".ug-thumb-loader, .ug-thumb-error, .ug-thumb-border-overlay, .ug-thumb-overlay";n?(!0!==i&&n.css(o),n.find(a).css(r)):(T.children(".ug-thumb-wrapper").css(o),T.find(a).css(r))}function n(e,t,n,i){if(!i)var i=!1;E.isFakeFullscreen()&&(i=!0);var o=e.children(".ug-thumb-border-overlay"),r={};r["border-width"]=t+"px",0!=t&&(r["border-color"]=n),i&&!0===i?(o.css(r),0==t?o.hide():o.show()):(0==t?o.stop().fadeOut(P.thumb_transition_duration):o.show().stop().fadeIn(P.thumb_transition_duration),l(o,r))}function i(e,t,n){var i=e.children(".ug-thumb-overlay"),o=P.thumb_transition_duration;n&&!0===n&&(o=0),t?i.stop(!0).fadeTo(o,k.colorOverlayOpacity):i.stop(!0).fadeTo(o,0)}function o(e,t,n){var i=e.children("img.ug-thumb-image"),o=e.children("img.ug-thumb-image-overlay"),r=P.thumb_transition_duration;n&&!0===n&&(r=0),t?o.stop(!0).fadeTo(r,1):(i.fadeTo(0,1),o.stop(!0).fadeTo(r,0))}function r(e,t){k.isEffectBorder&&n(e,P.thumb_selected_border_width,P.thumb_selected_border_color,t),k.isEffectOverlay&&i(e,1==P.thumb_overlay_reverse,t),k.isEffectImage&&o(e,!1,t),C.trigger(S.events.SETSELECTEDSTYLE,e)}function a(e){var t=S.getItemByThumb(e);return t.isLoaded=!0,t.isThumbImageLoaded=!1,1==k.customThumbs?(C.trigger(S.events.IMAGELOADERROR,e),!0):(e.children(".ug-thumb-loader").hide(),void e.children(".ug-thumb-error").show())}function s(e){if(P.thumb_round_corners_radius<=0)return!1;var t={"border-radius":P.thumb_round_corners_radius+"px"};e?(e.css(t),e.find(".ug-thumb-border-overlay").css(t)):T.find(".ug-thumb-wrapper, .ug-thumb-wrapper .ug-thumb-border-overlay").css(t)}function l(e,t){e.stop(!0).animate(t,{duration:P.thumb_transition_duration,easing:P.thumb_transition_easing,queue:!1})}function u(e){1==g(e)?r(e,!0,"redraw"):S.setThumbNormalStyle(e,!0,"redraw")}function c(e,n,i){if(1==P.thumb_fixed_size)I.scaleImageCoverParent(n,e);else{"height"==P.thumb_resize_by?I.scaleImageByHeight(n,P.thumb_height):I.scaleImageByWidth(n,P.thumb_width);var o=I.getElementSize(n);I.placeElement(n,0,0),t(o.width,o.height,e)}e.children(".ug-thumb-loader").hide(),n.show(),0==P.thumb_image_overlay_effect?n.fadeTo(0,1):(1==P.thumb_image_overlay_effect&&d(n),n.fadeTo(0,0),u(e)),C.trigger(S.events.AFTERPLACEIMAGE,e)}function d(e){var t=e.siblings(".ug-thumb-image-overlay");if(0==t.length)return!1;var n=I.getElementSize(e),i={width:n.width+"px",height:n.height+"px",left:n.left+"px",top:n.top+"px"};t.css(i),0==k.customThumbs&&t.fadeTo(0,1)}function f(){var e="",t=P.thumb_image_overlay_type.split(",");for(var n in t)switch(t[n]){case"bw":e+=" ug-bw-effect";break;case"blur":e+=" ug-blur-effect";break;case"sepia":e+=" ug-sepia-effect"}return e}function g(e){return!!e.hasClass("ug-thumb-selected")}function p(e,n){n=jQuery(n);var i=(S.getItemByThumb(n),I.getElementSize(n));t(i.width,i.height,n,!0),u(n)}function h(e){return 1==k.touchEnabled?(objThumbs.off("mouseenter").off("mouseleave"),!0):void(0==g(e)&&S.setThumbOverStyle(e))}function m(e){return 1==k.touchEnabled||void(0==g(e)&&S.setThumbNormalStyle(e,!1))}function v(e,t){if(!t)var t=!1;var n=jQuery(e),i=n.parents(".ug-thumb-wrapper");return 0!=i.parent().length&&(objItem=S.getItemByThumb(i),(1!=objItem.isLoaded||!1!==t)&&(S.triggerImageLoadedEvent(i,n),void(1==k.customThumbs?C.trigger(S.events.PLACEIMAGE,[i,n]):c(i,n,objItem))))}function b(e,t,n){objItem=S.getItemByThumb(t),objItem.isLoaded=!0,objItem.isThumbImageLoaded=!0;var i=I.getImageOriginalSize(n);objItem.thumbWidth=i.width,objItem.thumbHeight=i.height,objItem.thumbRatioByWidth=i.width/i.height,objItem.thumbRatioByHeight=i.height/i.width,t.addClass("ug-thumb-ratio-set")}var _,y,w,x,T,S=this,C=jQuery(S),E=new UniteGalleryMain,I=new UGFunctions;this.type={GET_THUMBS_ALL:"all",GET_THUMBS_RATIO:"ratio",GET_THUMBS_NO_RATIO:"no_ratio",GET_THUMBS_NEW:"new"},this.events={SETOVERSTYLE:"thumbmouseover",SETNORMALSTYLE:"thumbmouseout",SETSELECTEDSTYLE:"thumbsetselected",PLACEIMAGE:"thumbplaceimage",AFTERPLACEIMAGE:"thumb_after_place_image",IMAGELOADERROR:"thumbimageloaderror",THUMB_IMAGE_LOADED:"thumb_image_loaded"};var P={thumb_width:88,thumb_height:50,thumb_fixed_size:!0,thumb_resize_by:"height",thumb_border_effect:!0,thumb_border_width:0,thumb_border_color:"#000000",thumb_over_border_width:0,thumb_over_border_color:"#d9d9d9",thumb_selected_border_width:1,thumb_selected_border_color:"#d9d9d9",thumb_round_corners_radius:0,thumb_color_overlay_effect:!0,thumb_overlay_color:"#000000",thumb_overlay_opacity:.4,thumb_overlay_reverse:!1,thumb_image_overlay_effect:!1,thumb_image_overlay_type:"bw",thumb_transition_duration:200,thumb_transition_easing:"easeOutQuad",thumb_show_loader:!0,thumb_loader_type:"dark",thumb_wrapper_as_link:!1,thumb_link_newpage:!1},k={touchEnabled:!1,num_thumbs_checking:0,customThumbs:!1,funcSetCustomThumbHtml:null,isEffectBorder:!1,isEffectOverlay:!1,isEffectImage:!1,colorOverlayOpacity:1,thumbInnerReduce:0,allowOnResize:!0,classNewThumb:"ug-new-thumb"},A={timeout_thumb_check:100,thumb_max_check_times:600,eventSizeChange:"thumb_size_change"};this.init=function(e,t){y=e.getObjects(),E=e,_=jQuery(e),w=y.g_objWrapper,x=y.g_arrItems,P=jQuery.extend(P,t),k.isEffectBorder=P.thumb_border_effect,k.isEffectOverlay=P.thumb_color_overlay_effect,k.isEffectImage=P.thumb_image_overlay_effect},this._____________EXTERNAL_SETTERS__________=function(){},this.setHtmlThumbs=function(t,n){if(T=t,1==k.isEffectImage)var i=f();if(!0!==n)for(var o=E.getNumItems(),r=0;o>r;r++)e(r,i);else{S.getThumbs().removeClass(k.classNewThumb);var a=E.getNewAddedItemsIndexes();jQuery.each(a,function(t,n){e(n,i).addClass(k.classNewThumb)})}},this.setThumbNormalStyle=function(e,t,r){1==k.customThumbs&&e.removeClass("ug-thumb-over"),k.isEffectBorder&&n(e,P.thumb_border_width,P.thumb_border_color,t),k.isEffectOverlay&&i(e,1!=P.thumb_overlay_reverse,t),k.isEffectImage&&o(e,!0,t),C.trigger(S.events.SETNORMALSTYLE,e)},this.setThumbOverStyle=function(e){1==k.customThumbs&&e.addClass("ug-thumb-over"),k.isEffectBorder&&n(e,P.thumb_over_border_width,P.thumb_over_border_color),k.isEffectOverlay&&i(e,1==P.thumb_overlay_reverse),1==k.isEffectImage&&o(e,!1),C.trigger(S.events.SETOVERSTYLE,e)},this.setHtmlProperties=function(e){if(!e)var e=S.getThumbs();if(0==k.customThumbs&&(1==P.thumb_fixed_size&&t(P.thumb_width,P.thumb_height,e),s(e)),e.each(function(){u(jQuery(this))}),k.isEffectOverlay&&P.thumb_overlay_color){var n={};if(I.isRgbaSupported()){var i=I.convertHexToRGB(P.thumb_overlay_color,P.thumb_overlay_opacity);n["background-color"]=i}else n["background-color"]=P.thumb_overlay_color,k.colorOverlayOpacity=P.thumb_overlay_opacity;e.find(".ug-thumb-overlay").css(n)}},this.setThumbSelected=function(e){return 1==k.customThumbs&&e.removeClass("ug-thumb-over"),1==g(e)||(e.addClass("ug-thumb-selected"),void r(e))},this.setThumbUnselected=function(e){e.removeClass("ug-thumb-selected"),S.setThumbNormalStyle(e,!1,"set unselected")},this.setOptions=function(e){P=jQuery.extend(P,e)},this.setThumbInnerReduce=function(e){k.thumbInnerReduce=e},this.setCustomThumbs=function(e,t,n){if(k.customThumbs=!0,"function"!=typeof e)throw new Error("The argument should be function");k.funcSetCustomThumbHtml=e,-1==jQuery.inArray("overlay",t)&&(k.isEffectOverlay=!1),-1==jQuery.inArray("border",t)&&(k.isEffectBorder=!1),k.isEffectImage=!1,n&&!1===n.allow_onresize&&(k.allowOnResize=!1)},this._____________EXTERNAL_GETTERS__________=function(){},this.getOptions=function(){return P},this.getNumThumbs=function(){return x.length},this.getThumbImage=function(e){return e.find(".ug-thumb-image")},this.getThumbByIndex=function(e){var t=S.getThumbs();if(e>=t.length||0>e)throw new Error("Wrong thumb index");return jQuery(t[e])},this.getThumbs=function(e){var t=".ug-thumb-wrapper",n=".ug-thumb-ratio-set";switch(e){default:case S.type.GET_THUMBS_ALL:i=T.children(t);break;case S.type.GET_THUMBS_NO_RATIO:i=T.children(t).not(n);break;case S.type.GET_THUMBS_RATIO:i=T.children(t+n);break;case S.type.GET_THUMBS_NEW:var i=T.children("."+k.classNewThumb)}return i},this.getItemByThumb=function(e){var t=e.data("index");return void 0===t&&(t=e.index()),x[t]},this.isThumbLoaded=function(e){return S.getItemByThumb(e).isLoaded},this.getGlobalThumbSize=function(){return{width:P.thumb_width,height:P.thumb_height}},this._____________EXTERNAL_OTHERS__________=function(){},this.initEvents=function(){var e=".ug-thumb-wrapper";1==k.allowOnResize&&w.on(A.eventSizeChange,p),C.on(S.events.THUMB_IMAGE_LOADED,b),T.on("touchstart",e,function(){k.touchEnabled=!0,T.off("mouseenter").off("mouseleave")}),T.on("mouseenter",e,function(e){h(jQuery(this))}),T.on("mouseleave",e,function(e){m(jQuery(this))})},this.destroy=function(){var e=".ug-thumb-wrapper";T.off("touchstart",e),w.off(A.eventSizeChange),T.off("mouseenter",e),T.off("mouseleave",e),C.off(S.events.THUMB_IMAGE_LOADED)},this.loadThumbsImages=function(){var e=T.find(".ug-thumb-image");I.checkImagesLoaded(e,null,function(e,t){0==t?v(e,!0):a(jQuery(e).parent())})},this.triggerImageLoadedEvent=function(e,t){C.trigger(S.events.THUMB_IMAGE_LOADED,[e,t])},this.hideThumbs=function(){T.find(".ug-thumb-wrapper").hide()}}function UGThumbsStrip(){function e(e,n){C=e.getObjects(),(M=e).attachThumbsPanel("strip",O),S=jQuery(e),E=C.g_objWrapper,I=C.g_arrItems,z=jQuery.extend(z,n),1==(D=z.strip_vertical_type)&&(z=jQuery.extend(z,F),z=jQuery.extend(z,n),n.thumb_resize_by="width"),N.init(e,n),t()}function t(){var e=N.getOptions();L.isNotFixedThumbs=!1===e.thumb_fixed_size,D=z.strip_vertical_type}function n(){N.setHtmlProperties(),r(),l(),s(),0==L.isRunOnce&&(1==z.strip_control_touch&&(j=new UGTouchThumbsControl).init(O),1==z.strip_control_avia&&(A=new UGAviaControl).init(O),h(),N.loadThumbsImages(),y()),L.isRunOnce=!0}function o(e){H.stripSize=e,H.stripActiveSize=0==D?H.stripSize-z.strip_padding_left-z.strip_padding_right:H.stripSize-z.strip_padding_top-z.strip_padding_bottom,H.stripActiveSize<0&&(H.stripActiveSize=0)}function r(){var e=k.children(".ug-thumb-wrapper"),t=jQuery(e[0]),n=t.outerWidth(),i=t.outerHeight(),r=N.getOptions();0==D?(H.thumbSize=n,1==r.thumb_fixed_size?H.thumbSecondSize=i:H.thumbSecondSize=r.thumb_height,o(P.width()),H.stripInnerSize=k.width()):(H.thumbSize=i,1==r.thumb_fixed_size?H.thumbSecondSize=n:H.thumbSecondSize=r.thumb_width,o(P.height()),H.stripInnerSize=k.height())}function a(e){0==D?k.width(e):k.height(e),H.stripInnerSize=e,h(),jQuery(O).trigger(O.events.INNER_SIZE_CHANGE)}function s(){var e=k.children(".ug-thumb-wrapper"),t=0,n=0;for(0==D&&(n=z.strip_padding_top),i=0;i<e.length;i++){var o=jQuery(e[i]);if(1==L.isNotFixedThumbs){if(objItem=N.getItemByThumb(o),0==objItem.isLoaded)continue;o.show()}R.placeElement(o,t,n),0==D?t+=o.outerWidth()+z.strip_space_between_thumbs:n+=o.outerHeight()+z.strip_space_between_thumbs}if(0==D)r=t-z.strip_space_between_thumbs;else var r=n-z.strip_space_between_thumbs;a(r)}function l(){if(0==D){var e=H.thumbSecondSize;(n={}).height=e+"px",(i={}).height=e+"px"}else{var t=H.thumbSecondSize,n={};n.width=t+"px";var i={};i.width=t+"px"}P.css(n),k.css(i)}function u(e){var t=O.getInnerStripPos()+e;t=O.fixInnerStripLimits(t),O.positionInnerStrip(t,!0)}function c(e){var t=-1*T(e).min;t=O.fixInnerStripLimits(t),O.positionInnerStrip(t,!0)}function d(e){var t=-1*T(e).max+H.stripSize;t=O.fixInnerStripLimits(t),O.positionInnerStrip(t,!0)}function f(e){if(0==w())return!1;var t=x(),n=T(e);if(n.min<t.minPosThumbs){var i=e.prev();c(i.length?i:e)}else if(n.max>t.maxPosThumbs){var o=e.next();d(o.length?o:e)}}function g(){var e=M.getSelectedItem();if(null==e)return!0;var t=e.objThumbWrapper;t&&f(t)}function p(){if(0==w())return!1;var e=O.getInnerStripPos(),t=O.fixInnerStripLimits(e);e!=t&&O.positionInnerStrip(t,!0)}function h(){1==w()?(A&&A.enable(),j&&j.enable()):(A&&A.disable(),j&&j.disable())}function m(){return!w()&&void(0==D?R.placeElement(k,z.strip_thumbs_align,0):R.placeElement(k,0,z.strip_thumbs_align))}function v(e){if(O.isTouchMotionActive()&&1==j.isSignificantPassed())return!0;var t=N.getItemByThumb(e);M.selectItem(t)}function b(){clearTimeout(L.handle),L.handle=setTimeout(function(){s()},50)}function _(){var e=M.getSelectedItem();N.setThumbSelected(e.objThumbWrapper),f(e.objThumbWrapper)}function y(){N.initEvents(),P.find(".ug-thumb-wrapper").on("click touchend",function(e){v(jQuery(this))}),S.on(M.events.ITEM_CHANGE,_),L.isNotFixedThumbs&&jQuery(N).on(N.events.AFTERPLACEIMAGE,b)}function w(){return H.stripInnerSize>H.stripActiveSize}function x(){var e={},t=O.getInnerStripPos();return e.minPosThumbs=-1*t+1,e.maxPosThumbs=-1*t+H.stripSize-1,e}function T(e){var t={},n=e.position();return 0==D?(t.min=n.left,t.max=n.left+H.thumbSize):(t.min=n.top,t.max=n.top+H.thumbSize),t}var S,C,E,I,P,k,A,j,O=this,M=new UniteGalleryMain,R=new UGFunctions,D=!1,N=new UGThumbsGeneral,R=new UGFunctions,z={strip_vertical_type:!1,strip_thumbs_align:"left",strip_space_between_thumbs:6,strip_thumb_touch_sensetivity:15,strip_scroll_to_thumb_duration:500,strip_scroll_to_thumb_easing:"easeOutCubic",strip_control_avia:!0,strip_control_touch:!0,strip_padding_top:0,strip_padding_bottom:0,strip_padding_left:0,strip_padding_right:0},L={isRunOnce:!1,is_placed:!1,isNotFixedThumbs:!1,handle:null},H={stripSize:0,stripActiveSize:0,stripInnerSize:0,thumbSize:0,thumbSecondSize:0};this.events={STRIP_MOVE:"stripmove",INNER_SIZE_CHANGE:"size_change"};var F={strip_thumbs_align:"top",thumb_resize_by:"width"};this.setHtml=function(e){if(!e){var e=E;null!=z.parent_container&&(e=z.parent_container)}e.append("<div class='ug-thumbs-strip'><div class='ug-thumbs-strip-inner'></div></div>"),P=e.children(".ug-thumbs-strip"),k=P.children(".ug-thumbs-strip-inner"),N.setHtmlThumbs(k),1==L.isNotFixedThumbs&&N.hideThumbs()},this.destroy=function(){var e=P.find(".ug-thumb-wrapper");e.off("click"),e.off("touchend"),S.off(M.events.ITEM_CHANGE),jQuery(N).off(N.events.AFTERPLACEIMAGE),j&&j.destroy(),A&&A.destroy(),N.destroy()},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(t,n){e(t,n)},this.run=function(){n()},this.positionInnerStrip=function(e,t){if(void 0===t)var t=!1;if(0==D)n={left:e+"px"};else var n={top:e+"px"};0==t?(k.css(n),O.triggerStripMoveEvent()):(O.triggerStripMoveEvent(),k.stop(!0).animate(n,{duration:z.strip_scroll_to_thumb_duration,easing:z.strip_scroll_to_thumb_easing,queue:!1,progress:function(){O.triggerStripMoveEvent()},always:function(){O.triggerStripMoveEvent()}}))},this.triggerStripMoveEvent=function(){jQuery(O).trigger(O.events.STRIP_MOVE)},this.isTouchMotionActive=function(){return!!j&&j.isTouchActive()},this.isItemThumbVisible=function(e){var t=e.objThumbWrapper,n=t.position(),i=-1*O.getInnerStripPos();if(0==D)var o=i+H.stripSize,r=n.left,a=n.left+t.width();else var o=i+H.stripSize,r=n.top,a=n.top+t.height();var s=!1;return a>=i&&o>=r&&(s=!0),s},this.getInnerStripPos=function(){return 0==D?k.position().left:k.position().top},this.getInnerStripLimits=function(){var e={};return e.maxPos=0==D?z.strip_padding_left:z.strip_padding_top,e.minPos=-(H.stripInnerSize-H.stripActiveSize),e},this.fixInnerStripLimits=function(e){var t=O.getInnerStripLimits();return e>t.maxPos&&(e=t.maxPos),e<t.minPos&&(e=t.minPos),e},this.scrollForeward=function(){u(-H.stripSize)},this.scrollBack=function(){u(H.stripSize)},this.________EXTERNAL_SETTERS___________=function(){},this.setOptions=function(e){z=jQuery.extend(z,e),N.setOptions(e),t()},this.setSizeVertical=function(e){if(0==D)throw new Error("setSizeVertical error, the strip size is not vertical");var t=H.thumbSecondSize,n={};n.width=t+"px",n.height=e+"px",P.css(n),o(e);var i={};i.width=t+"px",i.left="0px",i.top="0px",k.css(i),L.is_placed=!0,h()},this.setSizeHorizontal=function(e){if(1==D)throw new Error("setSizeHorizontal error, the strip size is not horizontal");var t=H.thumbSecondSize+z.strip_padding_top+z.strip_padding_bottom,n={};n.width=e+"px",n.height=t+"px",P.css(n),o(e);var i=z.strip_padding_left,r={};r.height=t+"px",r.left=i+"px",r.top="0px",k.css(r),L.is_placed=!0,h()},this.setPosition=function(e,t,n,i){R.placeElement(P,e,t,n,i)},this.resize=function(e){0==D?(P.width(e),H.stripActiveSize=e-z.strip_padding_left-z.strip_padding_right):(P.height(e),H.stripActiveSize=e-z.strip_padding_top-z.strip_padding_bottom),o(e),h(),p(),m(),g()},this.setThumbUnselected=function(e){N.setThumbUnselected(e)},this.setCustomThumbs=function(e){N.setCustomThumbs(e)},this.________EXTERNAL_GETTERS___________=function(){},this.getObjects=function(){var e=N.getOptions(),t=jQuery.extend(z,e);return{g_gallery:M,g_objGallery:S,g_objWrapper:E,g_arrItems:I,g_objStrip:P,g_objStripInner:k,g_aviaControl:A,g_touchThumbsControl:j,isVertical:D,g_options:t,g_thumbs:N}},this.getObjThumbs=function(){return N},this.getSelectedThumb=function(){var e=M.getSelectedItemIndex();return-1==e?null:N.getThumbByIndex(e)},this.getSizeAndPosition=function(){return R.getElementSize(P)},this.getHeight=function(){return P.outerHeight()},this.getWidth=function(){return P.outerWidth()},this.getSizes=function(){return H},this.isVertical=function(){return D},this.isPlaced=function(){return L.is_placed},this.isMoveEnabled=function(){return w()}}function UGTouchThumbsControl(){function e(){var e=jQuery.now(),t={};return t.passedTime=S.lastTime-S.startTime,t.lastActiveTime=e-S.buttonReleaseTime,t.passedDistance=S.lastPos-S.startPos,t.passedDistanceAbs=Math.abs(t.passedDistance),t}function t(){T.thumb_touch_slowFactor=x.normalizeSetting(5e-5,.01,1,100,y.strip_thumb_touch_sensetivity,!0)}function n(e){return 0==w?x.getMousePosition(e).pageX:x.getMousePosition(e).pageY}function i(e){var t=S.mousePos-e,n=S.innerPos-t,i=p.getInnerStripLimits();if(n>i.maxPos){o=n-i.maxPos;n=i.maxPos+o/3}if(n<i.minPos){var o=i.minPos-n;n=i.minPos-o/3}p.positionInnerStrip(n)}function o(e){var t=p.getInnerStripPos();S.mousePos=e,S.innerPos=t,S.lastPortionPos=t,S.lastDeltaTime=0,S.lastDeltaPos=0,S.startTime=jQuery.now(),S.startPos=S.innerPos,S.lastTime=S.startTime,S.lastPos=S.startPos,S.speed=0}function r(){var e=jQuery.now();e-S.lastTime>=T.touch_portion_time&&(S.lastDeltaTime=e-S.lastTime,S.lastDeltaTime>T.touch_portion_time&&(S.lastDeltaTime=T.touch_portion_time),S.lastDeltaPos=S.lastPos-S.lastPortionPos,S.lastPortionPos=S.lastPos,S.lastTime=e)}function a(){var e=T.thumb_touch_slowFactor,t=T.minDeltaTime,n=T.minPath,i=p.getInnerStripPos(),o=jQuery.now()-S.lastTime,r=i-S.lastPortionPos;t>o&&S.lastDeltaTime>0&&(o=S.lastDeltaTime,r=S.lastDeltaPos+r),t>o&&(o=t);var a=r>0?1:-1,l=0;o>0&&(l=r/o);var u=l*l/(2*e)*a;Math.abs(u)<=n&&(u=0);var c=p.getInnerStripPos(),d=c+u,f=p.fixInnerStripLimits(d),g=p.getInnerStripLimits(),h=T.limitsBreakAddition,m=!1,v=f;if(d>g.maxPos&&(m=!0,f=h,h>d&&(f=d)),d<g.minPos){m=!0;var b=g.minPos-h;f=b,d>b&&(f=d)}var y=f-c,x=Math.abs(Math.round(l/e));if(0!=u&&(x=x*y/u),c!=f){var C={left:f+"px"};1==w&&(C={top:f+"px"}),_.animate(C,{duration:x,easing:T.animationEasing,queue:!0,progress:s})}if(1==m){var E=T.returnAnimateSpeed,I={left:v+"px"};1==w&&(I={top:v+"px"}),_.animate(I,{duration:E,easing:T.returnAnimationEasing,queue:!0,progress:s})}}function s(){S.lastPos=p.getInnerStripPos(),p.triggerStripMoveEvent()}function l(){return 1==S.loop_active||(S.loop_active=!0,void(S.handle=setInterval(r,10)))}function u(e){if(0==S.loop_active)return!0;e&&a(n(e)),S.loop_active=!1,S.handle=clearInterval(S.handle)}function c(e){return 0==S.isControlEnabled||(S.buttonReleaseTime=jQuery.now(),0==S.touch_active?(u(e),!0):(e.preventDefault(),S.touch_active=!1,u(e),void b.removeClass("ug-dragging")))}function d(e){if(0==S.isControlEnabled)return!0;e.preventDefault(),S.touch_active=!0;var t=n(e);_.stop(!0),o(t),l(),b.addClass("ug-dragging")}function f(e){if(0==S.isControlEnabled)return!0;if(0==S.touch_active)return!0;if(e.preventDefault(),0==e.buttons)return S.touch_active=!1,u(e),!0;var t=n(e);S.lastPos=p.getInnerStripPos(),i(t),r()}function g(){b.bind("mousedown touchstart",d),jQuery(window).add("body").bind("mouseup touchend",c),jQuery("body").bind("mousemove touchmove",f)}var p,h,m,v,b,_,y,w,x=new UGFunctions,T={touch_portion_time:200,thumb_touch_slowFactor:0,minDeltaTime:70,minPath:10,limitsBreakAddition:30,returnAnimateSpeed:500,animationEasing:"easeOutCubic",returnAnimationEasing:"easeOutCubic"},S={touch_active:!1,loop_active:!1,mousePos:0,innerPos:0,startPos:0,startTime:0,lastTime:0,buttonReleaseTime:0,lastPos:0,lastPortionPos:0,lastDeltaTime:0,lastDeltaPos:0,speed:0,handle:"",touchEnabled:!1,isControlEnabled:!0};this.enable=function(){S.isControlEnabled=!0},this.disable=function(){S.isControlEnabled=!1},this.init=function(e){p=e,v=e.getObjects(),h=v.g_gallery,m=v.g_objGallery,b=v.g_objStrip,_=v.g_objStripInner,y=v.g_options,w=v.isVertical,t(),g()},this.isSignificantPassed=function(){var t=e();return t.passedTime>300||t.passedDistanceAbs>30},this.isTouchActive=function(){return 1==S.touch_active||(1==_.is(":animated")||e().lastActiveTime<50)},this.destroy=function(){b.unbind("mousedown"),b.unbind("touchstart"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),jQuery("body").unbind("mousemove").unbind("touchmove")}}function UGPanelsBase(){function e(e,t){switch(i.orientation){case"right":case"left":n={left:e+"px"};break;case"top":case"bottom":var n={top:e+"px"}}r.stop(!0).animate(n,{duration:300,easing:"easeInOutQuad",queue:!1,complete:function(){t&&t()}})}function t(e){switch(i.orientation){case"right":case"left":f.placeElement(r,e,null);break;case"top":case"bottom":f.placeElement(r,null,e)}}function n(){s.trigger(o.events.FINISH_MOVE)}var i,o,r,a,s,l,u,c=new UniteGalleryMain,d=this,f=new UGFunctions;this.init=function(e,t,n,r,l){i=t,o=n,c=e,a=r,s=l,u=jQuery(c)},this.setHtml=function(e){if(r=e,"strip"==i.panelType)t=a.strippanel_enable_handle;else var t=a.gridpanel_enable_handle;if(1==t&&((l=new UGPanelHandle).init(o,r,a,i.panelType,c),l.setHtml()),!0===i.isDisabledAtStart){r.append("<div class='ug-overlay-disabled'></div>"),setTimeout(function(){r.children(".ug-overlay-disabled").hide()},i.disabledAtStartTimeout)}},this.placeElements=function(){l&&l.placeHandle()},this.initEvents=function(){l&&(l.initEvents(),u.on(c.events.SLIDER_ACTION_START,function(){l.hideHandle()}),u.on(c.events.SLIDER_ACTION_END,function(){l.showHandle()}))},this.destroy=function(){l&&(l.destroy(),u.off(c.events.SLIDER_ACTION_START),u.off(c.events.SLIDER_ACTION_END))},this.openPanel=function(a){if(!a)var a=!1;return!r.is(":animated")&&(0!=i.isClosed&&(i.isClosed=!1,s.trigger(o.events.OPEN_PANEL),void(!1===a?e(i.originalPos,n):(t(i.originalPos),n()))))},this.closePanel=function(a){if(!a)var a=!1;if(r.is(":animated"))return!1;if(1==i.isClosed)return!1;var l=d.getClosedPanelDest();i.isClosed=!0,s.trigger(o.events.CLOSE_PANEL),!1===a?e(l,n):(t(l),n())},this.setClosedState=function(e){i.originalPos=e,s.trigger(o.events.CLOSE_PANEL),i.isClosed=!0},this.setOpenedState=function(e){s.trigger(o.events.OPEN_PANEL),i.isClosed=!1},this.getClosedPanelDest=function(){var e,t=f.getElementSize(r);switch(i.orientation){case"left":i.originalPos=t.left,e=-i.panelWidth;break;case"right":i.originalPos=t.left,e=(n=c.getSize()).width;break;case"top":i.originalPos=t.top,e=-i.panelHeight;break;case"bottom":i.originalPos=t.top;var n=c.getSize();e=n.height}return e},this.isPanelClosed=function(){return i.isClosed},this.setDisabledAtStart=function(e){return!(0>=e)&&(i.isDisabledAtStart=!0,void(i.disabledAtStartTimeout=e))}}function UGPanelHandle(){function e(){s.removeClass("ug-button-hover")}function t(){s.addClass("ug-button-closed")}function n(){s.removeClass("ug-button-closed")}function i(e){return e.stopPropagation(),e.stopImmediatePropagation(),0==l.validateClickTouchstartEvent(e.type)||void(a.isPanelClosed()?a.openPanel():a.closePanel())}function o(){switch(a.getOrientation()){case"right":case"left":"top"!=u.panel_handle_align&&"bottom"!=u.panel_handle_align&&(u.panel_handle_align="top");break;case"bottom":"left"!=u.panel_handle_align&&"right"!=u.panel_handle_align&&(u.panel_handle_align="left");break;case"top":"left"!=u.panel_handle_align&&"right"!=u.panel_handle_align&&(u.panel_handle_align="right")}}var r,a,s,l=new UGFunctions,u={panel_handle_align:"top",panel_handle_offset:0,panel_handle_skin:0};this.init=function(e,t,n,i,o){switch(a=e,r=t,i){case"grid":u.panel_handle_align=n.gridpanel_handle_align,u.panel_handle_offset=n.gridpanel_handle_offset,u.panel_handle_skin=n.gridpanel_handle_skin;break;case"strip":u.panel_handle_align=n.strippanel_handle_align,u.panel_handle_offset=n.strippanel_handle_offset,u.panel_handle_skin=n.strippanel_handle_skin;break;default:throw new Error("Panel handle error: wrong panel type: "+i)}var s=o.getOptions().gallery_skin;""==u.panel_handle_skin&&(u.panel_handle_skin=s)},this.setHtml=function(){var e="ug-panel-handle-tip";switch(a.getOrientation()){case"right":e+=" ug-handle-tip-left";break;case"left":e+=" ug-handle-tip-right";break;case"bottom":e+=" ug-handle-tip-top";break;case"top":e+=" ug-handle-tip-bottom"}r.append("<div class='"+e+" ug-skin-"+u.panel_handle_skin+"'></div>"),s=r.children(".ug-panel-handle-tip")},this.initEvents=function(){l.addClassOnHover(s),s.bind("click touchstart",i),jQuery(a).on(a.events.OPEN_PANEL,function(){e(),n()}),jQuery(a).on(a.events.CLOSE_PANEL,function(){e(),t()})},this.destroy=function(){l.destroyButton(s),jQuery(a).off(a.events.OPEN_PANEL),jQuery(a).off(a.events.CLOSE_PANEL)},this.placeHandle=function(){var e=l.getElementSize(s);o();var t=a.getOrientation();switch(t){case"left":l.placeElement(s,"right",u.panel_handle_align,-e.width);break;case"right":l.placeElement(s,-e.width,u.panel_handle_align,0,u.panel_handle_offset);break;case"top":l.placeElement(s,u.panel_handle_align,"bottom",u.panel_handle_offset,-e.height);break;case"bottom":l.placeElement(s,u.panel_handle_align,"top",u.panel_handle_offset,-e.height);break;default:throw new Error("Wrong panel orientation: "+t)}},this.hideHandle=function(){1==s.is(":visible")&&s.hide()},this.showHandle=function(){0==s.is(":visible")&&s.show()}}function UGStripPanel(){function e(e,t){S=e,v=jQuery(S);var n=!1;1==(P=jQuery.extend(P,t)).strippanel_vertical_type&&(P=jQuery.extend(P,k),n=!0),0==P.strippanel_enable_buttons&&(P=jQuery.extend(P,A),n=!0),1==n&&(P=jQuery.extend(P,t));var i=S.getOptions().gallery_skin;""==P.strippanel_buttons_skin&&(P.strippanel_buttons_skin=i),b=S.getElement(),I.init(S,j,x,P,T),(E=new UGThumbsStrip).init(S,P)}function t(){if(0==P.strippanel_vertical_type){if(0==j.panelWidth)throw new Error("Strip panel error: The width not set, please set width")}else if(0==j.panelHeight)throw new Error("Strip panel error: The height not set, please set height");if(null==j.orientation)throw new Error("Wrong orientation, please set panel orientation before run");return!0}function n(){return(1!=j.isFirstRun||0!=t())&&(E.run(),s(),c(),m(),j.isFirstRun=!1,void g())}function i(e){if(!e)var e=b;if(e.append("<div class='ug-strip-panel'></div>"),_=e.children(".ug-strip-panel"),1==P.strippanel_enable_buttons){var t="ug-strip-arrow-left",n="ug-strip-arrow-right";1==P.strippanel_vertical_type&&(t="ug-strip-arrow-up",n="ug-strip-arrow-down"),_.append("<div class='ug-strip-arrow "+t+" ug-skin-"+P.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>"),_.append("<div class='ug-strip-arrow "+n+" ug-skin-"+P.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>")}I.setHtml(_),E.setHtml(_),1==P.strippanel_enable_buttons&&(w=_.children("."+t),y=_.children("."+n)),o()}function o(){""!=P.strippanel_background_color&&_.css("background-color",P.strippanel_background_color)}function r(){var e=E.getHeight(),t=j.panelWidth;if(y){w.height(e),y.height(e);var n=w.children(".ug-strip-arrow-tip");C.placeElement(n,"center","middle");var i=y.children(".ug-strip-arrow-tip");C.placeElement(i,"center","middle")}var o=e+P.strippanel_padding_top+P.strippanel_padding_bottom;_.width(t),_.height(o),j.panelHeight=o;var r=t-P.strippanel_padding_left-P.strippanel_padding_right;y&&(r=r-2*y.outerWidth()-2*P.strippanel_padding_buttons),E.resize(r)}function a(){var e=E.getWidth(),t=j.panelHeight;if(y){w.width(e),y.width(e);var n=w.children(".ug-strip-arrow-tip");C.placeElement(n,"center","middle");var i=y.children(".ug-strip-arrow-tip");C.placeElement(i,"center","middle")}var o=e+P.strippanel_padding_left+P.strippanel_padding_right;_.width(o),_.height(t),j.panelWidth=o;var r=t-P.strippanel_padding_top-P.strippanel_padding_bottom;y&&(r=r-2*y.outerHeight()-2*P.strippanel_padding_buttons),E.resize(r)}function s(){0==P.strippanel_vertical_type?r():a()}function l(){y&&(C.placeElement(w,"left","top",P.strippanel_padding_left,P.strippanel_padding_top),C.placeElement(y,"right","top",P.strippanel_padding_right,P.strippanel_padding_top));var e=P.strippanel_padding_left;y&&(e+=y.outerWidth()+P.strippanel_padding_buttons),E.setPosition(e,P.strippanel_padding_top)}function u(){y&&(C.placeElement(w,"left","top",P.strippanel_padding_left,P.strippanel_padding_top),C.placeElement(y,"left","bottom",P.strippanel_padding_left,P.strippanel_padding_bottom));var e=P.strippanel_padding_top;y&&(e+=y.outerHeight()+P.strippanel_padding_buttons),E.setPosition(P.strippanel_padding_left,e)}function c(){0==P.strippanel_vertical_type?l():u(),I.placeElements()}function d(e){return!!C.isButtonDisabled(e)||void("advance_item"==P.strippanel_buttons_role?S.nextItem():E.scrollForeward())}function f(e){return!!C.isButtonDisabled(e)||void("advance_item"==P.strippanel_buttons_role?S.prevItem():E.scrollBack())}function g(){if(!y)return!0;if(0==E.isMoveEnabled())return C.disableButton(w),C.disableButton(y),!0;var e=E.getInnerStripLimits(),t=E.getInnerStripPos();t>=e.maxPos?C.disableButton(w):C.enableButton(w),t<=e.minPos?C.disableButton(y):C.enableButton(y)}function p(){g()}function h(){S.isLastItem()?C.disableButton(y):C.enableButton(y),S.isFirstItem()?C.disableButton(w):C.enableButton(w)}function m(){if(1==j.isEventsInited)return!1;j.isEventsInited=!0,y&&(C.addClassOnHover(y,"ug-button-hover"),C.addClassOnHover(w,"ug-button-hover"),C.setButtonOnClick(w,f),C.setButtonOnClick(y,d),"advance_item"!=P.strippanel_buttons_role?(jQuery(E).on(E.events.STRIP_MOVE,p),jQuery(E).on(E.events.INNER_SIZE_CHANGE,g),v.on(S.events.SIZE_CHANGE,g)):0==S.getOptions().gallery_carousel&&jQuery(S).on(S.events.ITEM_CHANGE,h)),I.initEvents()}var v,b,_,y,w,x=this,T=jQuery(this),S=new UniteGalleryMain,C=new UGFunctions,E=new UGThumbsStrip,I=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var P={strippanel_vertical_type:!1,strippanel_padding_top:8,strippanel_padding_bottom:8,strippanel_padding_left:0,strippanel_padding_right:0,strippanel_enable_buttons:!0,strippanel_buttons_skin:"",strippanel_padding_buttons:2,strippanel_buttons_role:"scroll_strip",strippanel_enable_handle:!0,strippanel_handle_align:"top",strippanel_handle_offset:0,strippanel_handle_skin:"",strippanel_background_color:""},k={strip_vertical_type:!0,strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:0,strippanel_padding_bottom:0},A={strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:8,strippanel_padding_bottom:8},j={panelType:"strip",panelWidth:0,panelHeight:0,isEventsInited:!1,isClosed:!1,orientation:null,originalPos:null,isFirstRun:!0};this.destroy=function(){y&&(C.destroyButton(y),C.destroyButton(w),jQuery(E).off(E.events.STRIP_MOVE),jQuery(S).off(S.events.ITEM_CHANGE),jQuery(S).off(S.events.SIZE_CHANGE)),I.destroy(),E.destroy()},this.getOrientation=function(){return j.orientation},this.setOrientation=function(e){j.orientation=e},this.init=function(t,n){e(t,n)},this.run=function(){n()},this.setHtml=function(e){i(e)},this.getElement=function(){return _},this.getSize=function(){return C.getElementSize(_)},this.setWidth=function(e){j.panelWidth=e},this.setHeight=function(e){j.panelHeight=e},this.resize=function(e){x.setWidth(e),s(),c()},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return I.isPanelClosed()},this.getClosedPanelDest=function(){return I.getClosedPanelDest()},this.openPanel=function(e){I.openPanel(e)},this.closePanel=function(e){I.closePanel(e)},this.setOpenedState=function(e){I.setOpenedState(e)},this.setClosedState=function(e){I.setClosedState(e)},this.setCustomThumbs=function(e){E.setCustomThumbs(e)},this.setDisabledAtStart=function(e){I.setDisabledAtStart(e)}}function UGGridPanel(){function e(e,n){I=e,t(),n&&n.vertical_scroll&&(j.gridpanel_vertical_scroll=n.vertical_scroll),j=jQuery.extend(j,n),1==R.isHorType?(j=jQuery.extend(j,M),j=jQuery.extend(j,n)):1==j.gridpanel_vertical_scroll&&(j=jQuery.extend(j,O),j=jQuery.extend(j,n),j.grid_panes_direction="bottom");var i=I.getOptions().gallery_skin;""==j.gridpanel_arrows_skin&&(j.gridpanel_arrows_skin=i);var o=e.getObjects();w=o.g_objWrapper,A.init(I,R,C,j,E),(k=new UGThumbsGrid).init(I,j)}function t(){if(null==R.orientation)throw new Error("Wrong orientation, please set panel orientation before run")}function n(){t(),r(),k.run(),l(),u(),y(),c()}function i(){w.append("<div class='ug-grid-panel'></div>"),x=w.children(".ug-grid-panel"),R.isHorType?(x.append("<div class='grid-arrow grid-arrow-left-hortype ug-skin-"+j.gridpanel_arrows_skin+"'></div>"),x.append("<div class='grid-arrow grid-arrow-right-hortype ug-skin-"+j.gridpanel_arrows_skin+"'></div>"),S=x.children(".grid-arrow-left-hortype"),T=x.children(".grid-arrow-right-hortype")):0==j.gridpanel_vertical_scroll?(x.append("<div class='grid-arrow grid-arrow-left ug-skin-"+j.gridpanel_arrows_skin+"'></div>"),x.append("<div class='grid-arrow grid-arrow-right ug-skin-"+j.gridpanel_arrows_skin+"'></div>"),S=x.children(".grid-arrow-left"),T=x.children(".grid-arrow-right")):(x.append("<div class='grid-arrow grid-arrow-up ug-skin-"+j.gridpanel_arrows_skin+"'></div>"),x.append("<div class='grid-arrow grid-arrow-down ug-skin-"+j.gridpanel_arrows_skin+"'></div>"),S=x.children(".grid-arrow-up"),T=x.children(".grid-arrow-down")),A.setHtml(x),S.fadeTo(0,0),T.fadeTo(0,0),k.setHtml(x),o()}function o(){""!=j.gridpanel_background_color&&x.css("background-color",j.gridpanel_background_color)}function r(){"center"==j.gridpanel_grid_align&&(j.gridpanel_grid_align="middle")}function a(){var e=j.gridpanel_padding_border_top+j.gridpanel_padding_border_bottom,t=R.panelHeight-e;if(0==j.gridpanel_arrows_always_on&&1==k.getNumPanesEstimationByHeight(t))return t;e=P.getElementSize(T).height+j.gridpanel_arrows_padding_vert;return 1==j.gridpanel_vertical_scroll&&(e*=2),e+=j.gridpanel_padding_border_top+j.gridpanel_padding_border_bottom,t=R.panelHeight-e}function s(){var e=j.gridpanel_padding_border_left+j.gridpanel_padding_border_right,t=R.panelWidth-e;return 0==j.gridpanel_arrows_always_on&&1==k.getNumPanesEstimationByWidth(t)?t:(e+=2*(P.getElementSize(T).width+j.gridpanel_arrows_padding_hor),t=R.panelWidth-e)}function l(){var e=!1;1==j.gridpanel_arrows_always_on?e=!0:k.getNumPanes()>1&&(e=!0),1==e?(T.show().fadeTo(0,1),S.show().fadeTo(0,1),R.arrowsVisible=!0):(T.hide(),S.hide(),R.arrowsVisible=!1)}function u(){var e=k.getSize();1==R.isHorType?R.panelHeight=e.height+j.gridpanel_padding_border_top+j.gridpanel_padding_border_bottom:R.panelWidth=e.width+j.gridpanel_padding_border_left+j.gridpanel_padding_border_right,P.setElementSize(x,R.panelWidth,R.panelHeight)}function c(){return 1!=R.isEventsInited&&(R.isEventsInited=!0,S&&(P.addClassOnHover(S),k.attachPrevPaneButton(S)),T&&(P.addClassOnHover(T),k.attachNextPaneButton(T)),void A.initEvents())}function d(){return j.gridpanel_padding_border_left}function f(){var e=j.gridpanel_grid_align,t=0;switch(e){case"top":t=j.gridpanel_padding_border_top;break;case"bottom":t=j.gridpanel_padding_border_bottom}var n=d(),i=k.getElement();P.placeElement(i,n,e,0,t)}function g(){var e,t,n,i,o=P.getElementSize(S),r=k.getSize();switch(j.gridpanel_grid_align){default:case"top":e=j.gridpanel_padding_border_top+o.height+j.gridpanel_arrows_padding_vert;break;case"middle":e="middle";break;case"bottom":e=R.panelHeight-r.height-o.height-j.gridpanel_padding_border_bottom-j.gridpanel_arrows_padding_vert}var a=d(),s=k.getElement();P.placeElement(s,a,e);r=k.getSize();switch(j.gridpanel_arrows_align_vert){default:case"center":case"middle":t=(r.top-o.height)/2,n=r.bottom+(R.panelHeight-r.bottom-o.height)/2,i=0;break;case"grid":t=r.top-o.height-j.gridpanel_arrows_padding_vert_vert,n=r.bottom+j.gridpanel_arrows_padding_vert,i=0;break;case"border":case"borders":t=j.gridpanel_padding_border_top,n="bottom",i=j.gridpanel_padding_border_bottom}P.placeElement(S,"center",t),P.placeElement(T,"center",n,0,i)}function p(){1==R.arrowsVisible?g():f()}function h(){var e,t,n,i=P.getElementSize(S),o=k.getSize(),r=j.gridpanel_padding_border_top;switch(j.gridpanel_grid_align){case"middle":switch(j.gridpanel_arrows_align_vert){default:a=o.height+j.gridpanel_arrows_padding_vert+i.height;r=(R.panelHeight-a)/2;break;case"border":case"borders":r=(R.panelHeight-i.height-j.gridpanel_padding_border_bottom-o.height)/2}break;case"bottom":var a=o.height+i.height+j.gridpanel_arrows_padding_vert;r=R.panelHeight-a-j.gridpanel_padding_border_bottom}var s=k.getElement(),l=d();P.placeElement(s,l,r);o=k.getSize();switch(j.gridpanel_arrows_align_vert){default:case"center":case"middle":e=o.bottom+(R.panelHeight-o.bottom-i.height)/2,n=0;break;case"grid":e=o.bottom+j.gridpanel_arrows_padding_vert,n=0;break;case"border":case"borders":e="bottom",n=j.gridpanel_padding_border_bottom}t=-i.width/2-j.gridpanel_space_between_arrows/2,P.placeElement(S,"center",e,t,n);var u=Math.abs(t);P.placeElement(T,"center",e,u,n)}function m(){1==R.arrowsVisible?h():f()}function v(){var e,t,n,i,o=P.getElementSize(S),r=k.getSize();switch(j.gridpanel_grid_align){default:case"left":e=j.gridpanel_padding_border_left+j.gridpanel_arrows_padding_hor+o.width;break;case"middle":case"center":e="center";break;case"right":e=R.panelWidth-r.width-o.width-j.gridpanel_padding_border_right-j.gridpanel_arrows_padding_hor}var a=k.getElement();switch(P.placeElement(a,e,j.gridpanel_padding_border_top),r=k.getSize(),j.gridpanel_arrows_align_vert){default:case"center":case"middle":i=(r.height-o.height)/2+r.top;break;case"top":i=j.gridpanel_padding_border_top+j.gridpanel_arrows_padding_vert;break;case"bottom":i=R.panelHeight-j.gridpanel_padding_border_bottom-j.gridpanel_arrows_padding_vert-o.height}switch(j.gridpanel_arrows_align_hor){default:case"borders":t=j.gridpanel_padding_border_left,n=R.panelWidth-j.gridpanel_padding_border_right-o.width;break;case"grid":t=r.left-j.gridpanel_arrows_padding_hor-o.width,n=r.right+j.gridpanel_arrows_padding_hor;break;case"center":t=(r.left-o.width)/2,n=r.right+(R.panelWidth-r.right-o.width)/2}P.placeElement(S,t,i),P.placeElement(T,n,i)}function b(){var e,t=k.getSize();switch(j.gridpanel_grid_align){default:case"left":e=j.gridpanel_padding_border_left;break;case"middle":case"center":e="center";break;case"right":e=R.panelWidth-t.width-j.gridpanel_padding_border_right}var n=k.getElement();P.placeElement(n,e,j.gridpanel_padding_border_top)}function _(){1==R.arrowsVisible?v():b()}function y(){0==R.isHorType?1==j.gridpanel_vertical_scroll?p():m():_(),A.placeElements()}var w,x,T,S,C=this,E=jQuery(this),I=new UniteGalleryMain,P=new UGFunctions,k=new UGThumbsGrid,A=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var j={gridpanel_vertical_scroll:!0,gridpanel_grid_align:"middle",gridpanel_padding_border_top:10,gridpanel_padding_border_bottom:4,gridpanel_padding_border_left:10,gridpanel_padding_border_right:10,gridpanel_arrows_skin:"",gridpanel_arrows_align_vert:"middle",gridpanel_arrows_padding_vert:4,gridpanel_arrows_align_hor:"center",gridpanel_arrows_padding_hor:10,gridpanel_space_between_arrows:20,gridpanel_arrows_always_on:!1,gridpanel_enable_handle:!0,gridpanel_handle_align:"top",gridpanel_handle_offset:0,gridpanel_handle_skin:"",gridpanel_background_color:""},O={gridpanel_grid_align:"middle",gridpanel_padding_border_top:2,gridpanel_padding_border_bottom:2},M={gridpanel_grid_align:"center"},R={panelType:"grid",isHorType:!1,arrowsVisible:!1,panelHeight:0,panelWidth:0,originalPosX:null,isEventsInited:!1,isClosed:!1,orientation:null};this.destroy=function(){S&&P.destroyButton(S),T&&P.destroyButton(T),A.destroy(),k.destroy()},this.getOrientation=function(){return R.orientation},this.setOrientation=function(e){switch(R.orientation=e,e){case"right":case"left":R.isHorType=!1;break;case"top":case"bottom":R.isHorType=!0;break;default:throw new Error("Wrong grid panel orientation: "+e)}},this.setHeight=function(e){if(1==R.isHorType)throw new Error("setHeight is not appliable to this orientatio ("+R.orientation+"). Please use setWidth");R.panelHeight=e;var t=a();k.setMaxHeight(t)},this.setWidth=function(e){if(0==R.isHorType)throw new Error("setWidth is not appliable to this orientatio ("+R.orientation+"). Please use setHeight");R.panelWidth=e;var t=s();k.setMaxWidth(t)},this.init=function(t,n){e(t,n)},this.setHtml=function(){i()},this.run=function(){n()},this.getElement=function(){return x},this.getSize=function(){return P.getElementSize(x)},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return A.isPanelClosed()},this.getClosedPanelDest=function(){return A.getClosedPanelDest()},this.openPanel=function(e){A.openPanel(e)},this.closePanel=function(e){A.closePanel(e)},this.setOpenedState=function(e){A.setOpenedState(e)},this.setClosedState=function(e){A.setClosedState(e)},this.setDisabledAtStart=function(e){A.setDisabledAtStart(e)}}function UGThumbsGrid(){function e(e,t,n){if(N=e.getObjects(),(Q=e).attachThumbsPanel("grid",W),D=jQuery(e),z=N.g_objWrapper,L=N.g_arrItems,!0===n&&(Y.isTilesMode=!0),Y.numThumbs=L.length,d(t),1==Y.isTilesMode){U.setFixedMode(),U.setApproveClickFunction(I),U.init(e,V);var i=U.getOptions();Y.tileMaxHeight=i.tile_height,Y.tileMaxWidth=i.tile_width,q=U.getObjThumbs()}else t.thumb_fixed_size=!0,q.init(e,t)}function t(e){var t=z;e&&(t=e),t.append("<div class='ug-thumbs-grid'><div class='ug-thumbs-grid-inner'></div></div>"),H=t.children(".ug-thumbs-grid"),F=H.children(".ug-thumbs-grid-inner"),1==Y.isTilesMode?U.setHtml(F):q.setHtmlThumbs(F)}function n(){if(0==Y.isHorizontal){if(0==Y.gridHeight)throw new Error("You must set height before run.")}else if(0==Y.gridWidth)throw new Error("You must set width before run.")}function o(){var e=Q.getSelectedItem();if(n(),1==Y.isFirstTimeRun?(R(),1==Y.isTilesMode?(a(),u(),U.run()):(q.setHtmlProperties(),u(),q.loadThumbsImages())):1==Y.isTilesMode&&1==a()&&(u(),U.run()),h(),1==Y.isFirstTimeRun&&Y.isTilesMode){var t=q.getThumbs();t.each(function(e,t){z.trigger(Y.eventSizeChange,jQuery(t))}),t.fadeTo(0,1)}null!=e&&c(e.index),G.trigger(W.events.PANE_CHANGE,Y.currentPane),Y.isFirstTimeRun=!1}function r(){if(1==Y.isTilesMode)e=U.getGlobalTileSize();else var e=q.getGlobalThumbSize();return e}function a(){if(0==Y.isTilesMode)throw new Error("Dynamic size can be set only in tiles mode");var e=!1,t=Q.isMobileMode(),n=Y.spaceBetweenCols;1==t?(Y.spaceBetweenCols=V.grid_space_between_mobile,Y.spaceBetweenRows=V.grid_space_between_mobile):(Y.spaceBetweenCols=V.grid_space_between_cols,Y.spaceBetweenRows=V.grid_space_between_rows),Y.spaceBetweenCols!=n&&(e=!0);var i=r().width,o=Y.tileMaxWidth;return B.getNumItemsInSpace(Y.gridWidth,Y.tileMaxWidth,Y.spaceBetweenCols)<V.grid_min_cols&&(o=B.getItemSizeInSpace(Y.gridWidth,V.grid_min_cols,Y.spaceBetweenCols)),U.setTileSizeOptions(o),o!=i&&(e=!0),e}function s(){var e=r().height,t=Y.gridWidth,n=V.grid_num_rows*e+(V.grid_num_rows-1)*Y.spaceBetweenRows+2*V.grid_padding;Y.gridHeight=n,B.setElementSize(H,t,n),B.setElementSize(F,t,n),Y.innerWidth=t,Y.innerHeight=n}function l(){var e=r().width,t=V.grid_num_cols*e+(V.grid_num_cols-1)*Y.spaceBetweenCols+2*V.grid_padding,n=Y.gridHeight;Y.gridWidth=t,B.setElementSize(H,t,n),B.setElementSize(F,t,n),Y.innerWidth=t,Y.innerHeight=n}function u(){0==Y.isHorizontal?l():s()}function c(e){var t=S(e);return-1!=t&&void W.gotoPane(t,"scroll")}function d(e){V=jQuery.extend(V,e),q.setOptions(e),Y.isNavigationVertical="top"==V.grid_panes_direction||"bottom"==V.grid_panes_direction,Y.spaceBetweenCols=V.grid_space_between_cols,Y.spaceBetweenRows=V.grid_space_between_rows}function f(){var e=F.children(".ug-thumb-wrapper"),t=0,n=0,o=0,r=0,a=0,s=0;Y.innerWidth=0,Y.numPanes=1,Y.arrPanes=[],Y.numThumbsInPane=0,Y.arrPanes.push(r);var l=e.length;for(i=0;i<l;i++){var u=jQuery(e[i]);B.placeElement(u,t,n);var c=u.outerWidth(),d=u.outerHeight();t>a&&(a=t);var f=n+d;f>s&&(s=f);var g=a+c;g>Y.innerWidth&&(Y.innerWidth=g),t+=c+Y.spaceBetweenCols,++o>=V.grid_num_cols&&(n+=d+Y.spaceBetweenRows,t=r,o=0),1==Y.numPanes&&Y.numThumbsInPane++,n+d>Y.gridHeight&&(n=0,r=Y.innerWidth+Y.spaceBetweenCols,t=r,o=0,1==Y.isMaxHeight&&1==Y.numPanes&&(Y.gridHeight=s,H.height(Y.gridHeight)),i<l-1&&(Y.numPanes++,Y.arrPanes.push(r)))}F.width(Y.innerWidth),1==Y.isMaxHeight&&1==Y.numPanes&&(Y.gridHeight=s,H.height(s))}function g(){var e=F.children(".ug-thumb-wrapper"),t=0,n=0,o=0,r=0,a=0,s=0;Y.innerWidth=0,Y.numPanes=1,Y.arrPanes=[],Y.numThumbsInPane=0,Y.arrPanes.push(a);var l=e.length;for(i=0;i<l;i++){var u=jQuery(e[i]);B.placeElement(u,t,n);var c=u.outerWidth(),d=u.outerHeight();t+=c+Y.spaceBetweenCols;var f=n+d;f>o&&(o=f),++r>=V.grid_num_cols&&(n+=d+Y.spaceBetweenRows,t=a,r=0),1==Y.numPanes&&Y.numThumbsInPane++,f=n+d;var g=s+Y.gridHeight;f>g&&(1==Y.isMaxHeight&&1==Y.numPanes&&(Y.gridHeight=o,H.height(Y.gridHeight),g=Y.gridHeight),n=g+Y.spaceBetweenRows,s=n,a=0,t=a,r=0,i<l-1&&(Y.numPanes++,Y.arrPanes.push(n)))}F.height(o),Y.innerHeight=o,1==Y.isMaxHeight&&1==Y.numPanes&&(Y.gridHeight=o,H.height(o))}function p(){var e=F.children(".ug-thumb-wrapper"),t=V.grid_padding,n=V.grid_padding,o=n,r=t,a=0,s=0,l=0,u=0,c=0;Y.innerWidth=0,Y.numPanes=1,Y.arrPanes=[],Y.numThumbsInPane=0,Y.arrPanes.push(t-V.grid_padding);var d=e.length;for(i=0;i<d;i++){var f=jQuery(e[i]),g=f.outerWidth(),p=f.outerHeight();r-t+g>Y.gridWidth&&(c++,o=0,c>=V.grid_num_rows?(c=0,t=r,o=n,l=0,1==Y.numPanes&&(Y.gridWidth=a+V.grid_padding,H.width(Y.gridWidth),Y.gridHeight=u+V.grid_padding,H.height(Y.gridHeight)),Y.numPanes++,Y.arrPanes.push(t-V.grid_padding)):(r=t,o=l+Y.spaceBetweenRows)),B.placeElement(f,r,o);var h=r+g;h>a&&(a=h);var m=o+p;m>l&&(l=m),m>u&&(u=m),m>s&&(s=m),(h=a+g)>Y.innerWidth&&(Y.innerWidth=h),r+=g+Y.spaceBetweenCols,1==Y.numPanes&&Y.numThumbsInPane++}Y.innerWidth=a+V.grid_padding,Y.innerHeight=u+V.grid_padding,F.width(Y.innerWidth),F.height(Y.innerHeight),1==Y.numPanes&&(Y.gridWidth=a+V.grid_padding,Y.gridHeight=u+V.grid_padding,H.width(Y.gridWidth),H.height(Y.gridHeight))}function h(){0==Y.isHorizontal?Y.isNavigationVertical?g():f():p()}function m(e){if(0>e||e>=Y.numThumbs)throw new Error("Thumb not exists: "+e);return!0}function v(e){if(e>=Y.numPanes||0>e)throw new Error("Pane "+index+" doesn't exists.");return!0}function b(e){var t=x(e);return 0!=t&&void F.css(t)}function _(e){var t=x(e);return 0!=t&&void F.stop(!0).animate(t,{duration:V.grid_transition_duration,easing:V.grid_transition_easing,queue:!1})}function y(){_(-Y.arrPanes[Y.currentPane])}function w(){return 1==Y.isNavigationVertical?Y.gridHeight:Y.gridWidth}function x(e){var t={};return 1==Y.isNavigationVertical?t.top=e+"px":t.left=e+"px",t}function T(){var e=B.getElementSize(F);return 1==Y.isNavigationVertical?e.top:e.left}function S(e){return 0==m(e)?-1:Math.floor(e/Y.numThumbsInPane)}function C(){if(1==Y.numPanes)return!1;var e=B.getStoredEventData(Y.storedEventID),t=e.diffTime,n=T(),i=Math.abs(n-e.startInnerPos);return i>30||i>5&&t>300}function E(){var e=B.getStoredEventData(Y.storedEventID),t=T();diffPos=Math.abs(e.startInnerPos-t);var n=w(),i=Math.round(3*n/8);return diffPos>=i||e.diffTime<300&&diffPos>25}function I(){return 1==Y.numPanes||B.isApproveStoredEventClick(Y.storedEventID,Y.isNavigationVertical)}function P(e){if(1==C())return!0;var t=jQuery(this),n=q.getItemByThumb(t);Q.selectItem(n)}function k(e){if(1==Y.numPanes)return!0;if(1==Y.touchActive)return!0;0==Y.isTilesMode&&e.preventDefault(),Y.touchActive=!0;var t={startInnerPos:T()};B.storeEventData(e,Y.storedEventID,t)}function A(){return 0!=V.grid_vertical_scroll_ondrag&&(1!=Y.isNavigationVertical&&"vert"===B.handleScrollTop(Y.storedEventID))}function j(e){if(0==Y.touchActive)return!0;e.preventDefault(),B.updateStoredEventData(e,Y.storedEventID);var t=B.getStoredEventData(Y.storedEventID,Y.isNavigationVertical);if(A())return!0;var n=t.diffMousePos,i=t.startInnerPos+n,o=n>0?"prev":"next",r=Y.arrPanes[Y.numPanes-1];0==V.grid_carousel&&i>0&&"prev"==o&&(i/=3),0==V.grid_carousel&&-r>i&&"next"==o&&(i=t.startInnerPos+n/3),b(i)}function O(e){if(0==Y.touchActive)return!0;B.updateStoredEventData(e,Y.storedEventID);var t=B.getStoredEventData(Y.storedEventID,Y.isNavigationVertical);if(Y.touchActive=!1,0==E())return y(),!0;"next"==(T()-t.startInnerPos>0?"prev":"next")?0==V.grid_carousel&&W.isLastPane()?y():W.nextPane():0==V.grid_carousel&&W.isFirstPane()?y():W.prevPane()}function M(){var e=Q.getSelectedItem();q.setThumbSelected(e.objThumbWrapper),c(e.index)}function R(){0==Y.isTilesMode?(q.initEvents(),H.find(".ug-thumb-wrapper").on("click touchend",P),D.on(Q.events.ITEM_CHANGE,M)):U.initEvents(),H.bind("mousedown touchstart",k),jQuery("body").bind("mousemove touchmove",j),jQuery(window).add("body").bind("mouseup touchend",O)}var D,N,z,L,H,F,W=this,G=jQuery(this),Q=new UniteGalleryMain,B=new UGFunctions,q=new UGThumbsGeneral,U=new UGTileDesign,V={grid_panes_direction:"left",grid_num_cols:2,grid_min_cols:2,grid_num_rows:2,grid_space_between_cols:10,grid_space_between_rows:10,grid_space_between_mobile:10,grid_transition_duration:300,grid_transition_easing:"easeInOutQuad",grid_carousel:!1,grid_padding:0,grid_vertical_scroll_ondrag:!1};this.events={PANE_CHANGE:"pane_change"};var Y={eventSizeChange:"thumb_size_change",isHorizontal:!1,isMaxHeight:!1,isMaxWidth:!1,gridHeight:0,gridWidth:0,innerWidth:0,innerHeight:0,numPanes:0,arrPanes:0,numThumbs:0,currentPane:0,numThumbsInPane:0,isNavigationVertical:!1,touchActive:!1,startScrollPos:0,isFirstTimeRun:!0,isTilesMode:!1,storedEventID:"thumbsgrid",tileMaxWidth:null,tileMaxHeight:null,spaceBetweenCols:null,spaceBetweenRows:null};this.destroy=function(){if(0==Y.isTilesMode){var e=H.find(".ug-thumb-wrapper");e.off("click"),e.off("touchend"),D.on(Q.events.ITEM_CHANGE),q.destroy()}else U.destroy();H.unbind("mousedown"),H.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("touchend"),jQuery(window).add("body").unbind("mouseup"),G.off(W.events.PANE_CHANGE)},this.__________EXTERNAL_GENERAL_________=function(){},this.setThumbUnselected=function(e){q.setThumbUnselected(e)},this.isItemThumbVisible=function(e){return S(e.index)==Y.currentPane},this.__________EXTERNAL_API_________=function(){},this.getNumPanesEstimationByHeight=function(e){if(1==Y.isTilesMode)n=V.tile_height;else var t=q.getOptions(),n=t.thumb_height;var i=q.getNumThumbs(),o=Math.ceil(i/V.grid_num_cols),r=o*n+(o-1)*Y.spaceBetweenRows;return Math.ceil(r/e)},this.getNumPanesEstimationByWidth=function(e){if(Y.isTilesMode)n=V.tile_width;else var t=q.getOptions(),n=t.thumb_width;var i=q.getNumThumbs(),o=Math.ceil(i/V.grid_num_rows),r=o*n+(o-1)*Y.spaceBetweenCols;return Math.ceil(r/e)},this.getHeightEstimationByWidth=function(e){if(0==Y.isTilesMode)throw new Error("This function works only with tiles mode");var t=q.getNumThumbs(),n=B.getNumItemsInSpace(e,V.tile_width,Y.spaceBetweenCols),i=Math.ceil(t/n);i>V.grid_num_rows&&(i=V.grid_num_rows);var o=B.getSpaceByNumItems(i,V.tile_height,Y.spaceBetweenRows);return o+=2*V.grid_padding},this.getElement=function(){return H},this.getSize=function(){return B.getElementSize(H)},this.getNumPanes=function(){return Y.numPanes},this.isFirstPane=function(){return 0==Y.currentPane},this.isLastPane=function(){return Y.currentPane==Y.numPanes-1},this.getPaneInfo=function(){return{pane:Y.currentPane,total:Y.numPanes}},this.getPane=function(){return Y.currentPane},this.setWidth=function(e){Y.gridWidth=e,Y.isHorizontal=!0},this.setMaxWidth=function(e){Y.gridWidth=e,Y.isMaxWidth=!0,Y.isHorizontal=!0},this.setHeight=function(e){Y.gridHeight=e,Y.isHorizontal=!1},this.setMaxHeight=function(e){Y.gridHeight=e,Y.isMaxHeight=!0,Y.isHorizontal=!1},this.gotoPane=function(e,t){if(0==v(e))return!1;if(e==Y.currentPane)return!1;var n=-Y.arrPanes[e];Y.currentPane=e,_(n),G.trigger(W.events.PANE_CHANGE,e)},this.nextPane=function(){var e=Y.currentPane+1;if(e>=Y.numPanes){if(0==V.grid_carousel)return!0;e=0}W.gotoPane(e,"next")},this.prevPane=function(){var e=Y.currentPane-1;return!(0>e&&(e=Y.numPanes-1,0==V.grid_carousel))&&void W.gotoPane(e,"prev")},this.attachNextPaneButton=function(e){return B.setButtonOnClick(e,W.nextPane),1==V.grid_carousel||(W.isLastPane()&&e.addClass("ug-button-disabled"),void G.on(W.events.PANE_CHANGE,function(){W.isLastPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")}))},this.attachPrevPaneButton=function(e){return B.setButtonOnClick(e,W.prevPane),1==V.grid_carousel||(W.isFirstPane()&&e.addClass("ug-button-disabled"),void G.on(W.events.PANE_CHANGE,function(){W.isFirstPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")}))},this.attachBullets=function(e){e.setActive(Y.currentPane),jQuery(e).on(e.events.BULLET_CLICK,function(t,n){W.gotoPane(n,"theme"),e.setActive(n)}),jQuery(W).on(W.events.PANE_CHANGE,function(t,n){e.setActive(n)})},this.getObjTileDesign=function(){return U},this.init=function(t,n,i){e(t,n,i)},this.run=function(){o()},this.setHtml=function(e){t(e)}}function UGTiles(){function e(e,n){g_objects=e.getObjects(),re=e,Z=jQuery(e),K=g_objects.g_objWrapper,ee=g_objects.g_arrItems,ce=jQuery.extend(ce,n),t(),se.init(e,ce),le=se.getObjThumbs()}function t(){ce.tiles_min_columns<1&&(ce.tiles_min_columns=1),0!=ce.tiles_max_columns&&ce.tiles_max_columns<ce.tiles_min_columns&&(ce.tiles_max_columns=ce.tiles_min_columns)}function n(e){if(!e)if(J)e=J;else var e=K;J=e;var t=ce.tiles_type;e.addClass("ug-tiletype-"+t),se.setHtml(e),e.children(".ug-thumb-wrapper").hide()}function i(){if(J.addClass("ug-tiles-rest-mode"),de.isTransInited=!0,1==ce.tiles_enable_transition){J.addClass("ug-tiles-transit");var e=se.getOptions();1==e.tile_enable_image_effect&&0==e.tile_image_effect_reverse&&J.addClass("ug-tiles-transit-overlays"),de.isTransActive=!0}}function o(){return ae.getElementSize(J).width}function r(){return 0!=de.isTransInited&&(J.addClass("ug-tiles-transition-active"),J.removeClass("ug-tiles-rest-mode"),0!=de.isTransActive&&void se.disableEvents())}function a(){return 0!=de.isTransInited&&(J.removeClass("ug-tiles-transition-active"),void J.addClass("ug-tiles-rest-mode"))}function s(){1==de.isTransActive?(setTimeout(function(){se.enableEvents(),se.triggerSizeChangeEventAllTiles(),a()},800),de.handle&&clearTimeout(de.handle),de.handle=setTimeout(function(){a(),se.triggerSizeChangeEventAllTiles(),de.handle=null},2e3)):(se.triggerSizeChangeEventAllTiles(),a())}function l(){ue.colWidth=(ue.availWidth-ue.colGap*(ue.numCols-1))/ue.numCols,ue.colWidth=Math.floor(ue.colWidth),ue.totalWidth=ae.getSpaceByNumItems(ue.numCols,ue.colWidth,ue.colGap)}function u(){if(ue.colWidth=ce.tiles_col_width,ue.minCols=ce.tiles_min_columns,ue.maxCols=ce.tiles_max_columns,0==re.isMobileMode()?ue.colGap=ce.tiles_space_between_cols:ue.colGap=ce.tiles_space_between_cols_mobile,ue.galleryWidth=o(),ue.availWidth=ue.galleryWidth,1==ce.tiles_include_padding&&(ue.availWidth=ue.galleryWidth-2*ue.colGap),1==ce.tiles_exact_width)ue.numCols=ae.getNumItemsInSpace(ue.availWidth,ue.colWidth,ue.colGap),ue.maxCols>0&&ue.numCols>ue.maxCols&&(ue.numCols=ue.maxCols),ue.numCols<ue.minCols?(ue.numCols=ue.minCols,l()):ue.totalWidth=ue.numCols*(ue.colWidth+ue.colGap)-ue.colGap;else{var e=ae.getNumItemsInSpaceRound(ue.availWidth,ue.colWidth,ue.colGap);e<ue.minCols?e=ue.minCols:0!=ue.maxCols&&e>ue.maxCols&&(e=ue.maxCols),ue.numCols=e,l()}switch(ce.tiles_align){case"center":default:ue.addX=Math.round((ue.galleryWidth-ue.totalWidth)/2);break;case"left":ue.addX=0;break;case"right":ue.addX=ue.galleryWidth-ue.totalWidth}for(ue.arrPosx=[],col=0;col<ue.numCols;col++){var t=ae.getColX(col,ue.colWidth,ue.colGap);ue.arrPosx[col]=t+ue.addX}}function c(){ue.maxColHeight=0,ue.colHeights=[0]}function d(){var e=0,t=999999999;for(col=0;col<ue.numCols;col++){if(void 0==ue.colHeights[col]||0==ue.colHeights[col])return col;ue.colHeights[col]<t&&(e=col,t=ue.colHeights[col])}return e}function f(e,t,n,i){if(null===i||void 0===i)var i=d();var o=0;void 0!==ue.colHeights[i]&&(o=ue.colHeights[i]);var r=se.getTileHeightByWidth(ue.colWidth,e);if(null===r){if(1==ce.tiles_enable_transition)throw new Error("Can't know tile height, please turn off transition");r=ae.getElementSize(e).height}var a=ue.arrPosx[i];ae.placeElement(e,a,o);var s=o+r;ue.colHeights[i]=s+ue.colGap,ue.maxColHeight<s&&(ue.maxColHeight=s),1==t&&e.show().fadeTo(0,1),1==n&&J.height(ue.maxColHeight)}function g(e){e||(e=!1),u(),c();var t=le.getThumbs(le.type.GET_THUMBS_RATIO);r(),se.resizeAllTiles(ue.colWidth,se.resizemode.VISIBLE_ELEMENTS,t);for(var n=0;n<t.length;n++){var i=jQuery(t[n]),o=void 0;1==ce.tiles_keep_order&&(o=ae.getColByIndex(ue.numCols,n)),f(i,e,!1,o)}s();var a=J.height();1==de.isTransActive&&a>ue.maxColHeight?setTimeout(function(){J.height(ue.maxColHeight)},700):J.height(ue.maxColHeight)}function p(e){var t=e.index();if(!0===re.getItem(t).ordered_placed)return!1;var n=ae.getPrevRowSameColIndex(t,ue.numCols);return 0>n||!0===re.getItem(n).ordered_placed}function h(e,t){if(!0!==t&&0==p(e))return!1;var n=e.index(),i=ae.getColByIndex(ue.numCols,n),o=re.getItem(n);se.resizeTile(e,ue.colWidth),f(e,!0,!0,i),o.ordered_placed=!0;var r=re.getNumItems(),a=ae.getNextRowSameColIndex(n,ue.numCols);if(a>=r)return!1;var s=le.getThumbByIndex(a),l=re.getItem(a);le.isThumbLoaded(s),le.isThumbLoaded(s)&&!l.ordered_placed&&h(s,!0)}function m(e,t){if(1==t)return!1;e=jQuery(e);var n=jQuery(e).parent();le.triggerImageLoadedEvent(n,e),1==ce.tiles_keep_order?h(n):(se.resizeTile(n,ue.colWidth),f(n,!0,!0))}function v(){var e=le.getThumbs(le.type.GET_THUMBS_NO_RATIO);if(!e||0==e.length)return!1;if(de.isAllLoaded=!1,1==de.isFirstPlaced){u(),c();var t=Math.abs(ue.galleryWidth-ue.totalWidth);if(1==ce.tiles_set_initial_height&&0==ae.isScrollbarExists()&&25>t){var n=(e.length,Math.ceil(e.length/ue.numCols))*ce.tiles_col_width*.75;J.height(n),u()}}e.fadeTo(0,0);var o=e.find("img.ug-thumb-image"),r=ue.numCols,a=ue.galleryWidth;ae.checkImagesLoaded(o,function(){u(),(r!=ue.numCols||a!=ue.galleryWidth)&&g(!1),i(),oe.trigger(ie.events.ALL_TILES_LOADED)},function(e,t){1==de.isFirstPlaced&&re.triggerEvent(ie.events.TILES_FIRST_PLACED),m(e,t)})}function b(){var e=o(),t=le.getThumbs(!0),n=ce.tiles_justified_row_height,i=[],r=0,a=ce.tiles_justified_space_between,s=t.length;jQuery.each(t,function(e,t){t=jQuery(t);var o=le.getItemByThumb(t),a=o.thumbWidth;o.thumbHeight!==n&&(a=Math.floor(o.thumbRatioByWidth*n)),i[e]=a,r+=a});var l=Math.ceil(r/e);l>s&&(l=s);var u=r/l,c=[],d=0,f=[],g=[],p=0,h=0;jQuery.each(t,function(e,t){var n=i[e];p+n/2>(h+1)*u&&(f[c.length]=d,c.push(g),g=[],d=0,h++),p+=n,d+=n,g.push(t)}),f[c.length]=d,c.push(g);var m=[],v=[],b=0;return jQuery.each(c,function(t,o){var r=(o.length,f[t]),s=(o.length-1)*a,l=(e-s)/r,u=Math.round(n*l);b+=u,t>0&&(b+=a),v.push(u);var c=u/n,d=[],g=s;jQuery.each(o,function(e,t){var n=jQuery(t).index(),o=i[n],r=Math.round(o*c);d[e]=r,g+=r});var p=g-e;jQuery.each(d,function(e,t){return 0!=p&&(0>p?(d[e]=t+1,p++):(d[e]=t-1,p--),void(e==d.length-1&&0!=p&&(d[e]-=p)))}),m[t]=d}),{arrRows:c,arrRowWidths:m,arrRowHeights:v,gap:a,totalHeight:b}}function _(e){if(!e)var e=!1;var t=o(),n=b();J.height(n.totalHeight),o()!=t&&(n=b()),r();var i=0,a=0;jQuery.each(n.arrRows,function(t,o){var r=n.arrRowWidths[t],s=n.arrRowHeights[t],l=0;jQuery.each(o,function(t,o){var u=jQuery(o),c=s,d=r[t];se.resizeTile(u,d,c,se.resizemode.VISIBLE_ELEMENTS),ae.placeElement(u,l,i),(l+=d)>a&&(a=l),l+=n.gap,1==e&&jQuery(o).show()}),i+=s+n.gap}),s()}function y(){var e=jQuery(K).find("img.ug-thumb-image"),t=le.getThumbs();de.isAllLoaded=!1,t.fadeTo(0,0),ae.checkImagesLoaded(e,function(){setTimeout(function(){_(!0),t.fadeTo(0,1),re.triggerEvent(ie.events.TILES_FIRST_PLACED),i(),oe.trigger(ie.events.ALL_TILES_LOADED)})},function(e,t){e=jQuery(e);var n=jQuery(e).parent();le.triggerImageLoadedEvent(n,e)})}function w(){var e=jQuery(K).find("img.ug-thumb-image"),t=le.getThumbs();de.isAllLoaded=!1,t.fadeTo(0,0),ae.checkImagesLoaded(e,function(){1==re.isMobileMode()?g(!0):T(!0),re.triggerEvent(ie.events.TILES_FIRST_PLACED),i(),oe.trigger(ie.events.ALL_TILES_LOADED)},function(e,t){e=jQuery(e);var n=jQuery(e).parent();le.triggerImageLoadedEvent(n,e)})}function x(){var e=o();switch(fe.galleryWidth=e,te={},fe.colWidth=ce.tiles_nested_col_width,fe.optimalTileWidth=ce.tiles_nested_optimal_tile_width,fe.currentGap=ce.tiles_space_between_cols,1==re.isMobileMode()&&(fe.currentGap=ce.tiles_space_between_cols_mobile),null==fe.colWidth?fe.colWidth=Math.floor(fe.optimalTileWidth/fe.nestedOptimalCols):fe.optimalTileWidth>fe.colWidth?fe.nestedOptimalCols=Math.ceil(fe.optimalTileWidth/fe.colWidth):fe.nestedOptimalCols=1,fe.maxColumns=ae.getNumItemsInSpace(e,fe.colWidth,fe.currentGap),fe.colWidth=ae.getItemSizeInSpace(e,fe.maxColumns,fe.currentGap),fe.gridY=0,ne=[],le.getThumbs(!0).each(function(){var e=S(jQuery(this));ne.push(e)}),fe.optimalTileWidth>fe.colWidth?fe.nestedOptimalCols=Math.ceil(fe.optimalTileWidth/fe.colWidth):fe.nestedOptimalCols=1,fe.totalWidth=fe.maxColumns*(fe.colWidth+fe.currentGap)-fe.currentGap,ce.tiles_align){case"center":default:fe.addX=Math.round((fe.galleryWidth-fe.totalWidth)/2);break;case"left":fe.addX=0;break;case"right":fe.addX=fe.galleryWidth-fe.totalWidth}fe.maxGridY=0}function T(e){var t=o();x(),I();var n=fe.maxGridY*(fe.colWidth+fe.currentGap)-fe.currentGap;J.height(n),o()!=t&&(x(),I()),0==ce.tiles_nested_debug&&U(e)}function S(e){var t,n,i={},o=fe.colWidth,r=fe.currentGap,a=se.getTileImageSize(e),s=e.index(),l=Math.ceil(C(s)*(1*fe.nestedOptimalCols/3)+2*fe.nestedOptimalCols/3),u=a.width,c=a.height,d=u/c;return u>c?(t=l,0==(n=Math.round(t/d))&&(n=1)):(n=l,0==(t=Math.round(n*d))&&(t=1)),i.dimWidth=t,i.dimHeight=n,i.width=t*o+r*(t-1),i.height=n*o+r*(n-1),i.imgWidth=u,i.imgHeight=c,i.left=0,i.top=0,i}function C(e){return Math.abs(Math.sin(Math.abs(1e3*Math.sin(e))))}function E(e,t){if(0==t){for(n=fe.currentItem;n<ne.length;n++)P(n,!0);fe.currentItem=ne.length-1}else P(fe.currentItem,!0);for(var n=0;n<=fe.currentItem;n++)V(n,!0);fe.currentItem++}function I(e){if(1==ce.tiles_nested_debug)return void 0===e&&(e=!0),E(!0,e),!1;for(var t=0;t<ne.length;t++)P(t,!0)}function P(e,t){if(!t)var t=!1;fe.maxColHeight=0;for(var n=ae.getObjectLength(te),i=fe.gridY;n+1>=i;i++){for(var o=0;o<fe.maxColumns;o++)if(0==W(fe.gridY)||0==B(fe.gridY,o))return void k(e,F(o),o);fe.gridY++}}function k(e,t,n){var i=jQuery.extend(!0,{},ne[e]),o=i.dimWidth,r=t-i.dimWidth,a=fe.nestedOptimalCols;if(t<=i.dimWidth||.33*a>=r||a>=t)N(e,t);else if(a>=r)a>=4?1==H(Math.floor(t/2),n)?N(e,Math.floor(t/2)+1):N(e,Math.floor(t/2)):N(objImage,t);else if(1==H(o,n))switch(o>=a){case!0:N(e,o-1);break;case!1:N(e,o+1)}var s=R(e,(i=jQuery.extend(!0,{},ne[e])).dimWidth,n);if(fe.columnsValueToEnableHeightResize<=s[0]&&fe.maxColumns>=2*fe.nestedOptimalCols){var l=D(n,i),u=z(e,l.newHeight,!0);ne[e].dimHeight=u.dimHeight;var c=M(s,u.dimWidth),d=!1;A(c)>=2&&(d=!0),l.newHeight>=i.dimHeight&&(i=z(e,l.newHeight,!0));var f=j(l.idToResize,l.newHeight,i.dimHeight);i.top=fe.gridY,i.left=n,f.push({tileID:e,sizes:i});var g=L(f);return L(c)>g||1==d?void O(f):void O(c)}i.left=n,i.top=fe.gridY,ne[e]=i,G(e,i,n,fe.gridY),fe.maxGridY=i.top+i.dimHeight}function A(e){for(var t=0,n=0,i=0;i<e.length-1;i++){var o=-1,r=-1;W((a=e[i].sizes).top+a.dimHeight)&&fe.maxColumns>a.left+a.dimWidth&&(o=te[a.top+a.dimHeight-1][a.left+a.dimWidth],r=te[a.top+a.dimHeight][a.left+a.dimWidth]),o!=r&&t++}for(i=0;i<e.length-1;i++){var a=e[i].sizes,o=-1,r=-1;W(a.top+a.dimHeight)&&a.left-1>=0&&(o=te[a.top+a.dimHeight-1][a.left-1],r=te[a.top+a.dimHeight][a.left-1]),o!=r&&n++}return Math.max(n,t)}function j(e,t,n){var i=ne[e],o=i.dimHeight,r=(i.dimWidth,i.left),a=i.top,s=z(e,(parseInt(a/(fe.colWidth+fe.currentGap)),parseInt(r/(fe.colWidth+fe.currentGap)),o-t+n),!0),l=[];return l.push({tileID:e,sizes:s}),l}function O(e){for(var t=0;t<e.length;t++){var n=e[t].sizes,i=e[t].tileID;ne[i]=jQuery.extend(!0,{},n),G(i,n,n.left,n.top)}}function M(e,t){for(var n=0,i=0,o=[],r=0,a=0,s=0;s<e[1].length;s++){var l=e[1][s],u=ne[e[1][s]];if(i+=u.dimHeight,0!=s)n+=u.dimHeight,o.push([l,u.dimHeight]);else{var c=N(l,t,!0);n+=c.dimHeight,o.push([e[1][s],c.dimHeight])}}r=u.left,a=u.top;for(var d=i,f=[],s=o.length-1;s>=0;s--){var g,l=o[s][0];0!=s?(g=Math.max(Math.round(1*i/3),Math.floor(o[s][1]*(i/n))),d-=g,c=z(l,g,!0),c.left=r,c.top=a,f.push({tileID:l,sizes:c}),a+=c.dimHeight):(g=d,c=z(l,g,!0),c.left=r,c.top=a,f.push({tileID:l,sizes:c}))}return f}function R(e,t,n){var i=fe.gridY-1,o=0,r=0,a=1,s=[],l=[];if(s.push(e),i>=0){for(r=0;i>=0;){if(o=te[i][n],void 0!==te[i][n-1]&&te[i][n-1]==te[i][n]||void 0!==te[i][n+t]&&te[i][n+t-1]==te[i][n+t]||te[i][n]!=te[i][n+t-1])return l.push(a),l.push(s),l;r!=o&&(a++,s.push(o)),i--,r=o}return l.push(a),l.push(s),l}return[0,[]]}function D(e,t){var n=0,i=0,o=t.dimWidth,r=t.dimHeight,a=0,s=0,l=jQuery.map(te,function(e,t){return[e]});if(void 0===l[fe.gridY]||void 0===l[fe.gridY][e-1])i=0;else for(var u=0;void 0!==te[fe.gridY+u]&&-1!=te[fe.gridY+u][e-1];)a=te[fe.gridY+u][e-2],u++,i++;if(void 0===l[fe.gridY]||void 0===l[fe.gridY][e+o])n=0;else for(u=0;void 0!==te[fe.gridY+u]&&-1!=te[fe.gridY+u][e+o];)s=te[fe.gridY+u][e+o+1],u++,n++;var c=0,d=0;return Math.abs(r-i)<Math.abs(r-n)&&0!=i?(c=i,d=a):0!=n?(c=n,d=s):c=r,{newHeight:c,idToResize:d}}function N(e,t,n){n||(n=!1);var i=fe.colWidth,o=fe.currentGap,r=ne[e],a=r.imgWidth/r.imgHeight;if(dimWidth=t,dimHeight=Math.round(dimWidth/a),1==n){var s=jQuery.extend(!0,{},r);return s.dimWidth=dimWidth,s.dimHeight=dimHeight,s.width=dimWidth*i+o*(dimWidth-1),s.height=dimHeight*i+o*(dimHeight-1),s}r.dimWidth=dimWidth,r.dimHeight=dimHeight,r.width=dimWidth*i+o*(dimWidth-1),r.height=dimHeight*i+o*(dimHeight-1)}function z(e,t,n){n||(n=!1);var i=ne[e],o=i.dimWidth,r=fe.colWidth,a=fe.currentGap;if(1==n){var s=jQuery.extend(!0,{},i);return s.dimHeight=t,s.width=o*r+a*(o-1),s.height=t*r+a*(t-1),s}i.dimHeight=t,i.width=o*r+a*(o-1),i.height=t*r+a*(t-1)}function L(e){for(var t=0,n=0,i=0;i<e.length;i++){var o=ne[e[i].tileID];if(0==o.dimHeight||0==o.height)return;resizeVal=o.dimWidth/o.dimHeight/(o.imgWidth/o.imgHeight),resizeVal<1&&(resizeVal=1/resizeVal),t+=resizeVal,n++}return t/n}function H(e,t){var n=fe.gridY-1;return!(0>=n||0==W(n))&&te[n][t+e-1]!=te[n][t+e]}function F(e){var t=e,n=0;if(1==W(fe.gridY))for(;0==B(fe.gridY,t);)n++,t++;else n=fe.maxColumns;return n}function W(e){return void 0!==te[e]}function G(e,t,n,i){for(var o=0;o<t.dimHeight;o++)for(var r=0;r<t.dimWidth;r++)0==W(i+o)&&Q(i+o),q(i+o,n+r,e)}function Q(e){te[e]=new Object;for(var t=0;t<fe.maxColumns;t++)te[e][t]=-1}function B(e,t){return-1!=te[e][t]}function q(e,t,n){te[e][t]=n}function U(e){if(!e)var e=!1;r();for(var t=0;t<ne.length;t++)V(t,e);J.height(fe.maxColHeight),s()}function V(e,t){var n=le.getThumbByIndex(e),i=ne[e],o=i.top*(fe.colWidth+fe.currentGap),r=fe.addX+i.left*(fe.colWidth+fe.currentGap);se.resizeTile(n,i.width,i.height,se.resizemode.VISIBLE_ELEMENTS),ae.placeElement(n,r,o),o+i.height>fe.maxColHeight&&(fe.maxColHeight=o+i.height),1==t&&n.fadeTo(0,1)}function Y(){if(1==de.isFirstTimeRun)return!0;if(0==de.isAllLoaded)return!1;switch(ce.tiles_type){case"columns":g(!1);break;case"justified":_(!1);break;case"nested":1==re.isMobileMode()?g(!1):T(!1)}}function $(){oe.on(ie.events.ALL_TILES_LOADED,function(){de.isAllLoaded=!0}),Z.on(re.events.SIZE_CHANGE,Y),Z.on(ie.events.TILES_FIRST_PLACED,function(){de.isFirstPlaced=!1}),se.initEvents()}function X(){switch(K.children(".ug-tile").show(),1==de.isFirstTimeRun&&$(),se.run(),ce.tiles_type){default:case"columns":v();break;case"justified":y();break;case"nested":w()}de.isFirstTimeRun=!1}var Z,K,J,ee,te,ne,ie=this,oe=jQuery(this),re=new UniteGalleryMain,ae=new UGFunctions,se=new UGTileDesign,le=new UGThumbsGeneral,ue={},ce={tiles_type:"columns",tiles_col_width:250,tiles_align:"center",tiles_exact_width:!1,tiles_space_between_cols:3,tiles_space_between_cols_mobile:3,tiles_include_padding:!0,tiles_min_columns:2,tiles_max_columns:0,tiles_keep_order:!1,tiles_set_initial_height:!0,tiles_justified_row_height:150,tiles_justified_space_between:3,tiles_nested_optimal_tile_width:250,tiles_nested_col_width:null,tiles_nested_debug:!1,tiles_enable_transition:!0};this.events={THUMB_SIZE_CHANGE:"thumb_size_change",TILES_FIRST_PLACED:"tiles_first_placed",ALL_TILES_LOADED:"all_tiles_loaded"};var de={isFirstTimeRun:!0,handle:null,isTransActive:!1,isTransInited:!1,isFirstPlaced:!0,isAllLoaded:!1},fe={colWidth:null,nestedOptimalCols:5,gridY:0,maxColumns:0,columnsValueToEnableHeightResize:3,resizeLeftRightToColumn:!0,currentItem:0,currentGap:null,optimalTileWidth:null,maxGridY:0};this.destroy=function(){Z.off(re.events.SIZE_CHANGE),se.destroy(),Z.off(ie.events.TILES_FIRST_PLACED)},this.init=function(t,n){e(t,n)},this.setHtml=function(e){n(e)},this.getObjTileDesign=function(){return se},this.run=function(){X()},this.runNewItems=function(){if(!J)throw new Error("Can't run new items - parent not set");switch(se.setHtml(J,!0),se.run(!0),ce.tiles_type){case"columns":v();break;default:case"justified":case"nested":throw new Error("Tiles type: "+ce.tiles_type+" not support load more yet")}}}function UGTileDesign(){function e(e,n){F=e,R=jQuery(e);var o=F.getObjects();N=o.g_objWrapper,z=F.getArrItems(),Q=jQuery.extend(Q,B),Q=jQuery.extend(Q,n),t(),G.init(e,Q);var r={allow_onresize:!1},a=["overlay"];q.funcCustomTileHtml&&(a=[]),G.setCustomThumbs(i,a,r);var s=G.getOptions();Q=jQuery.extend(Q,s),q.ratioByWidth=Q.tile_width/Q.tile_height,q.ratioByHeight=Q.tile_height/Q.tile_width,Q.tile_size_by==L.sizeby.GLOBAL_RATIO&&q.isTextpanelOutside&&(q.hasImageContainer=!0)}function t(){if(1==Q.tile_enable_overlay?(Q.thumb_overlay_opacity=Q.tile_overlay_opacity,Q.thumb_overlay_color=Q.tile_overlay_color):0==Q.tile_enable_icons?Q.thumb_color_overlay_effect=!1:Q.thumb_overlay_opacity=0,Q.tile_as_link&&(Q.thumb_wrapper_as_link=!0,Q.thumb_link_newpage=Q.tile_link_newpage),1==Q.tile_enable_outline&&0==Q.tile_enable_border&&(Q.tile_enable_outline=!1),q.tileInnerReduce=0,Q.tile_enable_border&&(q.tileInnerReduce=2*Q.tile_border_width,G.setThumbInnerReduce(q.tileInnerReduce)),q.isSaparateIcons=!W.isRgbaSupported(),1==Q.tile_enable_textpanel){switch(Q.tile_textpanel_position){case"top":Q.tile_textpanel_align="top";case"bottom":q.isTextpanelOutside=!0,Q.tile_textpanel_always_on=!0,Q.tile_textpanel_offset=0;break;case"inside_top":Q.tile_textpanel_align="top";break;case"middle":Q.tile_textpanel_align="middle",Q.tile_textpanel_appear_type="fade"}0==Q.tile_textpanel_always_on&&(q.isSaparateIcons=!0)}0!=Q.tile_textpanel_offset&&(Q.tile_textpanel_appear_type="fade",Q.tile_textpanel_margin=Q.tile_textpanel_offset),"title_and_desc"==Q.tile_textpanel_source&&(Q.tile_textpanel_enable_description=!0,Q.tile_textpanel_desc_style_as_title=!0)}function n(){var e=F.isMobileMode();switch(q.isTextPanelHidden=!1,1==e&&0==Q.tile_textpanel_always_on&&(q.isTextPanelHidden=!0),q.isVideoplayIconAlwaysOn=Q.tile_videoplay_icon_always_on,Q.tile_videoplay_icon_always_on){case"always":q.isVideoplayIconAlwaysOn=!0;break;case"never":q.isVideoplayIconAlwaysOn=!1;break;case"mobile_only":q.isVideoplayIconAlwaysOn=1==e;break;case"desktop_only":q.isVideoplayIconAlwaysOn=0==e}}function i(e,t){if(e.addClass("ug-tile"),q.funcCustomTileHtml)return q.funcCustomTileHtml(e,t),!1;var n="";1==q.hasImageContainer&&(n+="<div class='ug-image-container ug-trans-enabled'>");var i="ug-thumb-image";(0==Q.tile_enable_image_effect||1==Q.tile_image_effect_reverse)&&(i+=" ug-trans-enabled");var o=W.stripTags(t.title);o=W.htmlentitles(o),n+='<img src="'+W.escapeDoubleSlash(t.urlThumb)+"\" alt='"+o+"' class='"+i+"'>",1==q.hasImageContainer&&(n+="</div>"),e.append(n),Q.tile_size_by==L.sizeby.GLOBAL_RATIO&&e.fadeTo(0,0);var r={};if(1==Q.tile_enable_background&&(r["background-color"]=Q.tile_background_color),1==Q.tile_enable_border&&(r["border-width"]=Q.tile_border_width+"px",r["border-style"]="solid",r["border-color"]=Q.tile_border_color,Q.tile_border_radius&&(r["border-radius"]=Q.tile_border_radius+"px")),1==Q.tile_enable_outline&&(r.outline="1px solid "+Q.tile_outline_color),1==Q.tile_enable_shadow){var a=Q.tile_shadow_h+"px ";a+=Q.tile_shadow_v+"px ",a+=Q.tile_shadow_blur+"px ",a+=Q.tile_shadow_spread+"px ",a+=Q.tile_shadow_color,r["box-shadow"]=a}e.css(r);var s="";if(Q.tile_enable_icons){if(0==Q.tile_as_link&&1==Q.tile_enable_action){var l="ug-button-play ug-icon-zoom";"image"!=t.type&&(l="ug-button-play ug-icon-play"),s+="<div class='ug-tile-icon "+l+"' style='display:none'></div>"}if(t.link&&1==Q.tile_show_link_icon||1==Q.tile_as_link)if(0==Q.tile_as_link){var u="";1==Q.tile_link_newpage&&(u=" target='_blank'"),s+="<a href='"+t.link+"'"+u+" class='ug-tile-icon ug-icon-link'></a>"}else s+="<div class='ug-tile-icon ug-icon-link' style='display:none'></div>";var d=q.isSaparateIcons;if(0==d&&"image"!=t.type&&1==q.isVideoplayIconAlwaysOn&&(d=!0),d)f=e;else var f=e.children(".ug-thumb-overlay");f.append(s);var g=f.children("."+l);0==g.length?g=null:g.hide();var p=f.children(".ug-icon-link");0==p.length?p=null:p.hide(),p||1!=Q.tile_enable_action||e.addClass("ug-tile-clickable")}else 1==Q.tile_enable_action&&e.addClass("ug-tile-clickable");if(1==Q.tile_enable_image_effect){var h="";0==Q.tile_image_effect_reverse&&(h=" ug-trans-enabled");var m="<div class='ug-tile-image-overlay"+h+"' >",v=" ug-"+Q.tile_image_effect_type+"-effect";m+='<img src="'+W.escapeDoubleSlash(t.urlThumb)+"\" alt='"+t.title+"' class='"+v+h+"'>",m+="</div>",e.append(m),1==Q.tile_image_effect_reverse&&e.children(".ug-tile-image-overlay").fadeTo(0,0)}if(1==Q.tile_enable_textpanel){var b=new UGTextPanel;b.init(F,Q,"tile");var _="";(1==Q.tile_textpanel_always_on||1==q.isTextpanelOutside)&&(_="ug-trans-enabled"),b.appendHTML(e,_);var y=t.title,w="";switch(Q.tile_textpanel_source){case"desc":case"description":y=t.description;break;case"desc_title":""!=t.description&&(y=t.description);break;case"title_and_desc":y=t.title,w=t.description}if(b.setTextPlain(y,w),0==Q.tile_textpanel_always_on&&b.getElement().fadeTo(0,0),e.data("objTextPanel",b),1==Q.tile_textpanel_always_on&&c(e).css("z-index",2),1==q.isTextpanelOutside){e.append("<div class='ug-tile-cloneswrapper'></div>");var x=e.children(".ug-tile-cloneswrapper"),T=new UGTextPanel;T.init(F,Q,"tile"),T.appendHTML(x),T.setTextPlain(y,w),e.data("objTextPanelClone",T)}}null!==t.addHtml&&e.append(t.addHtml)}function o(e){return e.children(".ug-tile-image-overlay")}function r(e){return e.children(".ug-thumb-overlay")}function a(e){return 0==q.hasImageContainer?null:e.children(".ug-image-container")}function s(e){return e.find(".ug-tile-image-overlay img")}function l(e){return e.data("objTextPanel")}function u(e){return e.data("objTextPanelClone")}function c(e){return e.children(".ug-textpanel")}function d(e){var t=e.find(".ug-tile-cloneswrapper .ug-textpanel");if(0==t.length)throw new Error("text panel cloned element not found");return t}function f(e){if(1==q.isTextpanelOutside)t=d(e);else var t=c(e);return t?W.getElementSize(t).height:0}function g(e){var t=e.find(".ug-icon-link");return 0==t.length?null:t}function p(e){var t=q.ratioByHeight;switch(Q.tile_size_by){default:t=q.ratioByHeight;break;case L.sizeby.IMAGE_RATIO:if(!e)throw new Error("tile should be given for tile ratio");var n=L.getItemByTile(e);if(void 0!==n.thumbRatioByHeight){if(0==n.thumbRatioByHeight)throw trace(n),new Error("the item ratio not inited yet");t=n.thumbRatioByHeight}break;case L.sizeby.CUSTOM:return null}return t}function h(e){var t=e.find(".ug-button-play");return 0==t.length?null:t}function m(e){return!!e.hasClass("ug-thumb-over")}function v(e){return e.hasClass("ug-tile-clickable")}function b(e){return 1==Q.tile_enable_icons&&1==q.isVideoplayIconAlwaysOn&&"image"!=e.type}function _(e,t,n,i){var r=o(e),l=L.getTileImage(e),u=s(e);t-=q.tileInnerReduce,n-=q.tileInnerReduce;var c=null;if(1==q.isTextpanelOutside){var d=f(e);if(n-=d,"top"==Q.tile_textpanel_position&&(c=d),1==q.hasImageContainer){var g=a(e);W.setElementSize(g,t,n),null!==c&&W.placeElement(g,0,c)}}if(0==Q.tile_enable_image_effect)W.scaleImageCoverParent(l,t,n),0==q.hasImageContainer&&null!==c&&W.placeElement(l,0,c);else{var p="nothing";!0===i&&0==q.isTextpanelOutside&&(p=1==Q.tile_image_effect_reverse?"effect":"image"),"effect"!=p&&(W.setElementSize(r,t,n),null!==c&&W.placeElement(r,0,c),W.scaleImageCoverParent(u,t,n)),"image"!=p&&(1==q.hasImageContainer?W.scaleImageCoverParent(l,t,n):"effect"==p?(W.scaleImageCoverParent(l,t,n),null!==c&&W.placeElement(l,0,c)):W.cloneElementSizeAndPos(u,l,!1,null,c))}}function y(e,t,n,i){var o=null;if(n&&(o=n-q.tileInnerReduce),i&&(i-=q.tileInnerReduce),"clone"==t)return u(e).refresh(!0,!0,o),L.getItemByTile(e).textPanelCloneSizeSet=!0,!1;var r=l(e);if(!r)return!1;var a=null;if(1==q.isTextpanelOutside&&(a=f(e)),r.refresh(!1,!0,o,a),1==Q.tile_textpanel_always_on||"fade"==Q.tile_textpanel_appear_type)if(1==q.isTextpanelOutside&&i&&"bottom"==Q.tile_textpanel_position){var s=i-a;r.positionPanel(s)}else r.positionPanel()}function w(e){var t=(L.getItemByTile(e),h(e)),n=g(e),i=W.getElementSize(e);_(e,i.width,i.height),1==Q.tile_enable_textpanel&&y(e,"regular",i.width,i.height);var o=i.width-q.tileInnerReduce,a=i.height-q.tileInnerReduce,s=0;if(1==q.isTextpanelOutside){var l=f(e);a-=l,"top"==Q.tile_textpanel_position&&(s=l)}var u=r(e);if(W.setElementSizeAndPosition(u,0,s,o,a),t||n){var d=0;if(1==Q.tile_enable_textpanel&&0==q.isTextPanelHidden&&0==q.isTextpanelOutside){var p=c(e),m=W.getElementSize(p);m.height>0&&(d=Math.floor(m.height/2*-1))}}if(t&&n){var v=W.getElementSize(t),b=W.getElementSize(n),w=Q.tile_space_between_icons,x=v.width+w+b.width,T=Math.floor((i.width-x)/2);w>T&&(w=Math.floor((i.width-v.width-b.width)/3),x=v.width+w+b.width,T=Math.floor((i.width-x)/2)),W.placeElement(t,T,"middle",0,d),W.placeElement(n,T+v.width+w,"middle",0,d)}else t&&W.placeElement(t,"center","middle",0,d),n&&W.placeElement(n,"center","middle",0,d);t&&t.show(),n&&n.show()}function x(e,t){var n=(L.getItemByTile(e),o(e)),i=Q.thumb_transition_duration;if(0==Q.tile_image_effect_reverse){var r=L.getTileImage(e);t?(r.fadeTo(0,1),n.stop(!0).fadeTo(i,0)):n.stop(!0).fadeTo(i,1)}else t?n.stop(!0).fadeTo(i,1):n.stop(!0).fadeTo(i,0)}function T(e,t){var n=Q.thumb_transition_duration,i=c(e);if(!i)return!0;if("slide"==Q.tile_textpanel_appear_type){var o=W.getElementSize(i);if(0==o.width)return!1;var r=-o.height,a={},s={},l="bottom";"inside_top"==Q.tile_textpanel_position&&(l="top"),a[l]=r+"px",s[l]="0px",1==t?(i.fadeTo(0,1),0==i.is(":animated")&&i.css(a),s.opacity=1,i.stop(!0).animate(s,n)):i.stop(!0).animate(a,n)}else 1==t?i.stop(!0).fadeTo(n,1):i.stop(!0).fadeTo(n,0)}function S(e,t,n){var i=Q.thumb_transition_duration;n&&!0===n&&(i=0);var o=h(e),r=g(e),a=t?1:0;o&&o.stop(!0).fadeTo(i,a),r&&r.stop(!0).fadeTo(i,a)}function C(e,t){if(t=jQuery(t),Q.tile_enable_image_effect&&x(t,!0),1==Q.tile_enable_textpanel&&0==Q.tile_textpanel_always_on&&0==q.isTextPanelHidden&&T(t,!0),q.isSaparateIcons&&1==Q.tile_enable_icons){var n=1==Q.thumb_overlay_reverse;0==b(L.getItemByTile(t))&&S(t,n,!1)}}function E(e,t){if(t=jQuery(t),Q.tile_enable_image_effect&&x(t,!1),1==Q.tile_enable_textpanel&&0==Q.tile_textpanel_always_on&&T(t,!1),1==q.isSaparateIcons&&1==Q.tile_enable_icons){var n=1!=Q.thumb_overlay_reverse;0==b(L.getItemByTile(t))?S(t,n,!1):S(t,!0,!0)}}function I(e){G.getThumbs().not(e).each(function(e,t){G.setThumbNormalStyle(jQuery(t))})}function P(e,t,n){return t=jQuery(t),1==Q.tile_visible_before_image&&!0!==t.data("image_placed")&&!0!==n||(w(t),void G.setThumbNormalStyle(t))}function k(e,t,n){w(t),n.fadeTo(0,1),t.data("image_placed",!0)}function A(e){return 1==v(e)?(H.trigger(L.events.TILE_CLICK,e),!0):void(0==m(e)&&(I(e),G.setThumbOverStyle(e)))}function j(e){var t=jQuery(this),n=t.prop("tagName").toLowerCase(),i=!0;if(q.funcParentApproveClick&&0==q.funcParentApproveClick()&&(i=!1),"a"==n)0==i&&e.preventDefault();else if(0==m(t))1==i&&A(t);else{if(0==v(t))return!0;1==i&&H.trigger(L.events.TILE_CLICK,t)}}function O(e){e.stopPropagation();var t=jQuery(this).parents(".ug-tile"),n=!0;return q.funcParentApproveClick&&0==q.funcParentApproveClick()&&(n=!1),0==m(t)?(A(t),!0):1==n?(H.trigger(L.events.TILE_CLICK,t),!1):void 0}function M(e){var t=jQuery(this).parents(".ug-tile");q.funcParentApproveClick&&0==q.funcParentApproveClick()&&e.preventDefault(),0==m(t)&&0==Q.tile_as_link&&(e.preventDefault(),A(t))}var R,D,N,z,L=this,H=jQuery(this),F=new UniteGalleryMain,W=new UGFunctions,G=new UGThumbsGeneral;this.resizemode={FULL:"full",WRAPPER_ONLY:"wrapper_only",VISIBLE_ELEMENTS:"visible_elements"},this.sizeby={GLOBAL_RATIO:"global_ratio",TILE_RATIO:"tile_ratio",IMAGE_RATIO:"image_ratio",CUSTOM:"custom"},this.events={TILE_CLICK:"tile_click"};var Q={tile_width:250,tile_height:200,tile_size_by:L.sizeby.IMAGE_RATIO,tile_visible_before_image:!1,tile_enable_background:!0,tile_background_color:"#F0F0F0",tile_enable_border:!1,tile_border_width:3,tile_border_color:"#F0F0F0",tile_border_radius:0,tile_enable_outline:!1,tile_outline_color:"#8B8B8B",tile_enable_shadow:!1,tile_shadow_h:1,tile_shadow_v:1,tile_shadow_blur:3,tile_shadow_spread:2,tile_shadow_color:"#8B8B8B",tile_enable_action:!0,tile_as_link:!1,tile_link_newpage:!0,tile_enable_overlay:!0,tile_overlay_opacity:.4,tile_overlay_color:"#000000",tile_enable_icons:!0,tile_show_link_icon:!1,tile_videoplay_icon_always_on:"never",tile_space_between_icons:26,tile_enable_image_effect:!1,tile_image_effect_type:"bw",tile_image_effect_reverse:!1,tile_enable_textpanel:!1,tile_textpanel_source:"title",tile_textpanel_always_on:!1,tile_textpanel_appear_type:"slide",tile_textpanel_position:"inside_bottom",tile_textpanel_offset:0},B={thumb_color_overlay_effect:!0,thumb_overlay_reverse:!0,thumb_image_overlay_effect:!1,tile_textpanel_enable_description:!1,tile_textpanel_bg_opacity:.6,tile_textpanel_padding_top:8,tile_textpanel_padding_bottom:8},q={ratioByHeight:0,ratioByWidth:0,eventSizeChange:"thumb_size_change",funcCustomTileHtml:null,funcCustomPositionElements:null,funcParentApproveClick:null,isSaparateIcons:!1,tileInnerReduce:0,isTextpanelOutside:!1,hasImageContainer:!1,isVideoplayIconAlwaysOn:!1,isTextPanelHidden:!1};this.loadTileImage=function(e){var t=L.getTileImage(e);W.checkImagesLoaded(t,null,function(t,n){k(0,e,jQuery(t))})},this.setHtml=function(e,t){D=e,!0!==t&&n(),G.setHtmlThumbs(e,t)},this.initEvents=function(){G.initEvents(),jQuery(G).on(G.events.SETOVERSTYLE,C),jQuery(G).on(G.events.SETNORMALSTYLE,E),jQuery(G).on(G.events.PLACEIMAGE,k),N.on(q.eventSizeChange,P),D.on("click",".ug-tile",j),D.on("click",".ug-tile .ug-button-play",O),D.on("click",".ug-tile .ug-icon-link",M)},this.destroy=function(){if(D.off("click",".ug-tile"),D.off("click",".ug-tile .ug-button-play"),D.off("click",".ug-tile .ug-icon-link"),jQuery(G).off(G.events.SETOVERSTYLE),jQuery(G).off(G.events.SETNORMALSTYLE),jQuery(G).off(G.events.PLACEIMAGE),N.off(q.eventSizeChange),1==Q.tile_enable_textpanel){var e=G.getThumbs();jQuery.each(e,function(e,t){var n=l(jQuery(t));n&&n.destroy()})}G.destroy()},this.init=function(t,n,i){e(t,n)},this.setFixedMode=function(){Q.tile_size_by=L.sizeby.GLOBAL_RATIO,Q.tile_visible_before_image=!0},this.setApproveClickFunction=function(e){q.funcParentApproveClick=e},this.resizeTile=function(e,t,n,i){if(1==q.isTextpanelOutside&&y(e,"clone",t),t){if(!n)n=L.getTileHeightByWidth(t,e)}else var t=Q.tile_width,n=Q.tile_height;switch(W.setElementSize(e,t,n),i){default:case L.resizemode.FULL:L.triggerSizeChangeEvent(e,!0);break;case L.resizemode.WRAPPER_ONLY:return!0;case L.resizemode.VISIBLE_ELEMENTS:if(q.funcCustomTileHtml)return L.triggerSizeChangeEvent(e,!0),!0;_(e,t,n,!0),1==Q.tile_enable_textpanel&&1==Q.tile_textpanel_always_on&&t&&y(e,"regular",t,n)}},this.resizeAllTiles=function(e,t,i){n();var o=null;if(Q.tile_size_by==L.sizeby.GLOBAL_RATIO&&(o=L.getTileHeightByWidth(e)),!i)var i=G.getThumbs();i.each(function(n,i){L.resizeTile(jQuery(i),e,o,t)})},this.triggerSizeChangeEvent=function(e,t){if(!e)return!1;if(!t)var t=!1;N.trigger(q.eventSizeChange,[e,t])},this.triggerSizeChangeEventAllTiles=function(e){G.getThumbs().each(function(){var t=jQuery(this);L.triggerSizeChangeEvent(t,e)})},this.disableEvents=function(){G.getThumbs().css("pointer-events","none")},this.enableEvents=function(){G.getThumbs().css("pointer-events","auto")},this.setOptions=function(e){Q=jQuery.extend(Q,e),G.setOptions(e)},this.setTileSizeOptions=function(e){if(Q.tile_size_by!==L.sizeby.GLOBAL_RATIO)throw new Error("setNewTileOptions works with global ration only");Q.tile_width=e,Q.tile_height=Math.floor(e*q.ratioByHeight)},this.setCustomFunctions=function(e,t){q.funcCustomTileHtml=e,q.funcCustomPositionElements=t},this.run=function(e){var t=G.type.GET_THUMBS_ALL;!0===e&&(t=G.type.GET_THUMBS_NEW);var n=G.getThumbs(t);Q.tile_size_by==L.sizeby.GLOBAL_RATIO&&L.resizeAllTiles(Q.tile_width,L.resizemode.WRAPPER_ONLY,n),1==Q.tile_enable_image_effect&&0==Q.tile_image_effect_reverse&&n.children(".ug-thumb-image").fadeTo(0,0),G.setHtmlProperties(n),1==Q.tile_visible_before_image&&(n.children(".ug-thumb-image").fadeTo(0,0),G.loadThumbsImages())},this._____________EXTERNAL_GETTERS____________=function(){},this.getObjThumbs=function(){return G},this.getOptions=function(){return Q},this.getTileImage=function(e){return e.find("img.ug-thumb-image")},this.getItemByTile=function(e){return G.getItemByThumb(e)},this.getTileHeightByWidth=function(e,t){var n=p(t);if(null===n)return null;var i=Math.floor((e-q.tileInnerReduce)*n)+q.tileInnerReduce;return t&&1==q.isTextpanelOutside&&Q.tile_size_by==L.sizeby.IMAGE_RATIO&&(i+=f(t)),i},this.getTileImageSize=function(e){var t=L.getItemByTile(e);if(!t.thumbWidth||!t.thumbHeight)throw new Error("Can't get image size - image not inited.");return{width:t.thumbWidth,height:t.thumbHeight}},this.getGlobalTileSize=function(){if(Q.tile_size_by!=L.sizeby.GLOBAL_RATIO)throw new Error("The size has to be global ratio");return{width:Q.tile_width,height:Q.tile_height}}}function UGAviaControl(){function e(e){return 0==h?e.pageX:e.pageY}function t(t){jQuery("body").on("touchstart",function(e){return 0==m.isControlEnabled||void(m.touchEnabled=!0)}),jQuery("body").mousemove(function(t){if(0==m.isControlEnabled)return!0;if(1==m.touchEnabled)return jQuery("body").off("mousemove"),!0;m.isMouseInsideStrip=f.ismouseover();var n=u.isTouchMotionActive();1==m.isMouseInsideStrip&&0==n?l(e(t)):a()})}function n(e){var t=p.strip_padding_top,n=(p.strip_padding_bottom,f.height()),i=g.height();if(n>i)return null;var o=e-f.offset().top-t;if(0>o)return null;var r=p.thumb_height,a=n-p.thumb_height,s=a-r;r>o&&(o=r),o>a&&(o=a);var l=(i-n)*((o-r)/s);return l=-1*Math.round(l)+t}function i(e){var t=p.strip_padding_left,n=p.strip_padding_right,i=f.width()-t-n,o=g.width();if(i>o)return null;var r=e-f.offset().left-t,a=p.thumb_width,s=i-p.thumb_width,l=s-a;a>r&&(r=a),r>s&&(r=s);var u=(o-i)*((r-a)/l);return u=-1*Math.round(u)+t}function o(){if(0==m.is_strip_moving)return!1;var e=u.getInnerStripPos();Math.floor(e)==Math.floor(m.strip_finalPos)&&a();var t,n=Math.abs(m.strip_finalPos-e);1>n?t=n:(t=n/4)>0&&1>t&&(t=1),m.strip_finalPos<e&&(t*=-1);var i=e+t;u.positionInnerStrip(i)}function r(){return 1!=m.isStripMoving&&(m.isStripMoving=!0,void(m.handle_timeout=setInterval(o,10)))}function a(){return 0!=m.isStripMoving&&(m.isStripMoving=!1,void(m.handle_timeout=clearInterval(m.handle_timeout)))}function s(e){return 0==h?i(e):n(e)}function l(e){var t=s(e);return null!==t&&(m.is_strip_moving=!0,m.strip_finalPos=t,void r())}var u,c,d,f,g,p,h,m={touchEnabled:!1,isMouseInsideStrip:!1,strip_finalPos:0,handle_timeout:"",isStripMoving:!1,isControlEnabled:!0};this.enable=function(){m.isControlEnabled=!0},this.disable=function(){m.isControlEnabled=!1},this.init=function(e){u=e,d=e.getObjects(),c=d.g_gallery,f=d.g_objStrip,g=d.g_objStripInner,p=d.g_options,h=d.isVertical,t()},this.destroy=function(){jQuery("body").off("touchstart"),jQuery("body").off("mousemove")}}function UGSlider(){function e(e,t,i){ve=e,i&&(pe=i,t=xe.convertCustomPrefixOptions(t,pe,"slider")),te=jQuery(e);var o=ve.getObjects();if(ne=o.g_objWrapper,ie=o.g_objThumbs,t.hasOwnProperty("slider_progress_indicator_type")&&(Ce.slider_progress_indicator_type=t.slider_progress_indicator_type),"bar"==Ce.slider_progress_indicator_type&&(Ce=jQuery.extend(Ce,Ee)),t&&he.setOptions(t),n(),1==Ce.slider_enable_bullets){ye=new UGBullets;var r={bullets_skin:Ce.slider_bullets_skin,bullets_space_between:Ce.slider_bullets_space_between};ye.init(ve,r)}Ce.slider_enable_text_panel&&(Se=new UGTextPanel).init(ve,Ce,"slider"),Ce.slider_enable_zoom_panel&&(ge=new UGZoomButtonsPanel).init(he,Ce);var a=ve.getGalleryID();we.init(Ce,!1,a)}function t(){if(1==Ie.isRunOnce)return!1;if(Ie.isRunOnce=!0,Ce.slider_background_color){var e=Ce.slider_background_color;1!=Ce.slider_background_opacity&&(e=xe.convertHexToRGB(e,Ce.slider_background_opacity)),oe.css("background-color",e)}else 1!=Ce.slider_background_opacity&&(e=xe.convertHexToRGB("#000000",Ce.slider_background_opacity),oe.css("background-color",e));1==Ce.slider_control_swipe&&(de=new UGTouchSliderControl).init(he,Ce),1==Ce.slider_control_zoom&&(fe=new UGZoomSliderControl).init(he,Ce),Se&&Se.run(),Y()}function n(){var e=ve.getOptions(),t=e.gallery_skin;""==Ce.slider_bullets_skin&&(Ce.slider_bullets_skin=t),""==Ce.slider_arrows_skin&&(Ce.slider_arrows_skin=t),""==Ce.slider_zoompanel_skin&&(Ce.slider_zoompanel_skin=t),""==Ce.slider_play_button_skin&&(Ce.slider_play_button_skin=t),""==Ce.slider_fullscreen_button_skin&&(Ce.slider_fullscreen_button_skin=t),Ce.video_enable_closebutton=Ce.slider_video_enable_closebutton,"zoom"!=e.gallery_mousewheel_role&&(Ce.slider_zoom_mousewheel=!1)}function i(e,t){var n="ug-type-square";"round"==Ce.slider_videoplay_button_type&&(n="ug-type-round");var i="";return i+="<div class='ug-slide-wrapper ug-slide"+t+"'>",i+="<div class='ug-item-wrapper'></div>",i+="<div class='ug-slider-preloader "+e+"'></div>",i+="<div class='ug-button-videoplay "+n+"' style='display:none'></div>",i+="</div>"}function o(e){e&&(ne=e);var t=$(),n=(ve.getOptions(),"<div class='ug-slider-wrapper'>");n+="<div class='ug-slider-inner'>",n+=i(t,1),n+=i(t,2),n+=i(t,3),n+="</div>",1==Ce.slider_enable_arrows&&(n+="<div class='ug-slider-control ug-arrow-left ug-skin-"+Ce.slider_arrows_skin+"'></div>",n+="<div class='ug-slider-control ug-arrow-right ug-skin-"+Ce.slider_arrows_skin+"'></div>"),1==Ce.slider_enable_play_button&&(n+="<div class='ug-slider-control ug-button-play ug-skin-"+Ce.slider_play_button_skin+"'></div>"),1==Ce.slider_enable_fullscreen_button&&(n+="<div class='ug-slider-control ug-button-fullscreen ug-skin-"+Ce.slider_fullscreen_button_skin+"'></div>"),n+="</div>",ne.append(n),oe=ne.children(".ug-slider-wrapper"),re=oe.children(".ug-slider-inner"),ae=re.children(".ug-slide1"),se=re.children(".ug-slide2"),le=re.children(".ug-slide3"),ae.data("slidenum",1),se.data("slidenum",2),le.data("slidenum",3),ye&&ye.appendHTML(oe),1==Ce.slider_enable_arrows&&(ue=oe.children(".ug-arrow-left"),ce=oe.children(".ug-arrow-right")),1==Ce.slider_enable_play_button&&(be=oe.children(".ug-button-play")),1==Ce.slider_enable_fullscreen_button&&(_e=oe.children(".ug-button-fullscreen")),1==Ce.slider_enable_progress_indicator&&("bar"==(Te=xe.initProgressIndicator(Ce.slider_progress_indicator_type,Ce,oe)).getType()&&"pie"==Ce.slider_progress_indicator_type&&(Ce.slider_progress_indicator_type="bar",Ce=jQuery.extend(Ce,Ee)),ve.setProgressIndicator(Te)),1==Ce.slider_enable_text_panel&&(Se.appendHTML(oe),0==Ce.slider_textpanel_always_on)&&(Se.getElement().hide().data("isHidden",!0),Ie.isTextPanelSaparateHover=!0),1==Ce.slider_enable_zoom_panel&&ge.appendHTML(oe),we.setHtml(re)}function r(e){var t=K(e);xe.placeElementInParentCenter(t);var n=J(e);xe.placeElementInParentCenter(n)}function a(){if(ye&&(objBullets=ye.getElement(),xe.placeElement(objBullets,Ce.slider_bullets_align_hor,Ce.slider_bullets_align_vert,Ce.slider_bullets_offset_hor,Ce.slider_bullets_offset_vert),xe.placeElement(objBullets,Ce.slider_bullets_align_hor,Ce.slider_bullets_align_vert,Ce.slider_bullets_offset_hor,Ce.slider_bullets_offset_vert)),1==Ce.slider_enable_arrows&&(xe.placeElement(ue,Ce.slider_arrow_left_align_hor,Ce.slider_arrow_left_align_vert,Ce.slider_arrow_left_offset_hor,Ce.slider_arrow_left_offset_vert),xe.placeElement(ce,Ce.slider_arrow_right_align_hor,Ce.slider_arrow_left_align_vert,Ce.slider_arrow_right_offset_hor,Ce.slider_arrow_right_offset_vert)),0==Ce.slider_controls_always_on&&j(!0),Te){var e=Te.getElement();if("bar"==Ce.slider_progress_indicator_type){var t=oe.width();Te.setSize(t),xe.placeElement(e,"left",Ce.slider_progress_indicator_align_vert,0,Ce.slider_progress_indicator_offset_vert)}else xe.placeElement(e,Ce.slider_progress_indicator_align_hor,Ce.slider_progress_indicator_align_vert,Ce.slider_progress_indicator_offset_hor,Ce.slider_progress_indicator_offset_vert)}Se&&Se.positionPanel(),s(),r(ae),r(se),r(le),k()}function s(){if(be&&xe.placeElement(be,Ce.slider_play_button_align_hor,Ce.slider_play_button_align_vert,Ce.slider_play_button_offset_hor,Ce.slider_play_button_offset_vert),_e&&xe.placeElement(_e,Ce.slider_fullscreen_button_align_hor,Ce.slider_fullscreen_button_align_vert,Ce.slider_fullscreen_button_offset_hor,Ce.slider_fullscreen_button_offset_vert),ge){var e=ge.getElement();xe.placeElement(e,Ce.slider_zoompanel_align_hor,Ce.slider_zoompanel_align_vert,Ce.slider_zoompanel_offset_hor,Ce.slider_zoompanel_offset_vert)}}function l(){var e,t,n,i,o=he.getSlidesReference(),r=0;n=he.isSlideHasItem(o.objNextSlide),(i=he.isSlideHasItem(o.objPrevSlide))?(r=o.objPrevSlide.outerWidth(),o.objPrevSlide.css("z-index",1)):o.objPrevSlide.hide(),e=t=r+o.objCurrentSlide.outerWidth(),n?(e=t+o.objNextSlide.outerWidth(),o.objPrevSlide.css("z-index",2)):o.objNextSlide.hide(),o.objCurrentSlide.css("z-index",3),xe.placeElement(o.objCurrentSlide,r,0),re.css({left:-r+"px",width:e+"px"}),i&&(xe.placeElement(o.objPrevSlide,0,0),xe.showElement(o.objPrevSlide)),n&&(xe.showElement(o.objNextSlide),xe.placeElement(o.objNextSlide,t,0))}function u(e){var t=e.data("index");if(void 0===t||null==t)return!1;var n=ve.getItem(t);return!!n&&void m(e,n)}function c(e){e.stop(!0).show(100)}function d(e){e.stop(!0).hide(100)}function f(e,t){if(10>=(a=Ce.slider_image_border_width))return a;var n=xe.getElementSize(e),i=n.width,o=n.height;if(t&&(t.hasOwnProperty("imageWidth")&&(i=t.imageWidth),t.hasOwnProperty("imageHeight")&&(o=t.imageHeight)),0>=i)return a;var r=o>i?i:o;if(2*a/r<Ce.slider_image_border_maxratio)return a;var a=r*Ce.slider_image_border_maxratio/2;return a=Math.round(a)}function g(e,t,n){var i={};if(1==Ce.slider_image_border){i["border-style"]="solid";var o=f(e,n);i["border-width"]=o+"px",i["border-color"]=Ce.slider_image_border_color,i["border-radius"]=Ce.slider_image_border_radius}"image"!=t&&1==Ce.slider_video_constantsize&&(i["background-color"]="#000000"),1==Ce.slider_image_shadow&&(i["box-shadow"]="3px 3px 10px 0px #353535"),e.css(i)}function p(e,t){var n=Ce.slider_video_constantsize_width,i=Ce.slider_video_constantsize_height,o=Ce.slider_video_constantsize_scalemode;return xe.scaleImageExactSizeInParent(e,t.imageWidth,t.imageHeight,n,i,o)}function h(e,t,n){var i=e.children(".ug-item-wrapper"),o=K(e);if(void 0===t.urlImage||""==t.urlImage)throw new Error("The slide don't have big image defined ( data-image='imageurl' ). Please check gallery items.","showbig");var r=t.urlImage,a=e.data("urlImage");e.data("urlImage",r);var s=he.getScaleMode(e),l=he.getSlideType(e);if(objPadding=he.getObjImagePadding(),a==r&&!0!==n){var u=i.children("img");(0==t.imageWidth||0==t.imageHeight)&&ve.checkFillImageSize(u,t);f={};g(u,l,f="image"!=l&&1==Ce.slider_video_constantsize?p(u,t):xe.scaleImageFitParent(u,t.imageWidth,t.imageHeight,s,objPadding)),me.trigger(he.events.AFTER_PUT_IMAGE,e)}else if(u=xe.placeImageInsideParent(r,i,t.imageWidth,t.imageHeight,s,objPadding),1==t.isBigImageLoaded){if(u.fadeTo(0,1),d(o),"image"!=l&&1==Ce.slider_video_constantsize)f=p(u,t);else var f=xe.getImageInsideParentData(i,t.imageWidth,t.imageHeight,s,objPadding);u.css("width",f.imageWidth+"px"),g(u,l,f),me.trigger(he.events.AFTER_PUT_IMAGE,e)}else u.fadeTo(0,0),c(o),e.data("isLoading",!0),he.isSlideCurrent(e)&&me.trigger(he.events.CURRENTSLIDE_LOAD_START),u.data("itemIndex",t.index),u.on("load",function(){var e=jQuery(this),t=e.data("itemIndex");e.fadeTo(0,1);var n=e.parent().parent(),i=he.getSlideType(n),o=K(n),r=he.getObjImagePadding(),a=he.getScaleMode(n);d(o),n.data("isLoading",!1),he.isSlideCurrent(n)&&me.trigger(he.events.CURRENTSLIDE_LOAD_END),ve.onItemBigImageLoaded(null,e);var s=ve.getItem(t),l={};"image"!=i&&1==Ce.slider_video_constantsize?p(e,s):l=xe.scaleImageFitParent(e,s.imageWidth,s.imageHeight,a,r),e.fadeTo(0,1),g(e,i,l),me.trigger(he.events.AFTER_PUT_IMAGE,n)})}function m(e,t){try{var n=e.children(".ug-item-wrapper");if(null==t)return n.html(""),e.removeData("index"),e.removeData("type"),e.removeData("urlImage"),!1;e.data("index"),e.data("index",t.index),e.data("type",t.type),1==Ce.slider_enable_links&&"image"==t.type&&(t.link?e.addClass("ug-slide-clickable"):e.removeClass("ug-slide-clickable")),h(e,t);var i=J(e);switch(t.type){case"image":i.hide();break;default:i.show()}}catch(e){throw void 0!==e.fileName&&"showbig"==e.fileName&&ve.showErrorMessageReplaceGallery(e.message),n.html(""),new Error(e)}}function v(){if(!Se)return!1;if(1==_())return!1;var e=Se.getElement(),t=0;(1==Ie.isTextPanelSaparateHover||1==Ce.slider_textpanel_always_on)&&(t=Ce.slider_controls_appear_duration),e.stop().fadeTo(t,0),e.data("isHidden",!0)}function b(){if(!Se)return!1;if(0==_())return!1;var e=Se.getElement(),t=0;(1==Ie.isTextPanelSaparateHover||1==Ce.slider_textpanel_always_on)&&(e.show(),Se.positionElements(),t=Ce.slider_controls_appear_duration),e.stop().show().fadeTo(t,1),e.data("isHidden",!1)}function _(){return!1!==Se.getElement().data("isHidden")}function y(e,t){if(void 0==t)var t=he.getCurrentSlide();var n=he.getSlideType(t);if(n!=e)throw new Error("Wrong slide type: "+n+", should be: "+e);return!0}function w(){var e=he.getCurrentSlide(),t=he.getSlideImage(e),n=xe.getElementSize(e),i=n.left,o=n.top;if(1==Ce.slider_video_constantsize){var r=xe.getElementSize(t);i+=r.left,o+=r.top}else i+=Ce.slider_video_padding_left,o+=Ce.slider_video_padding_top;we.setPosition(i,o)}function x(){var e=Ce.slider_video_constantsize_width,t=Ce.slider_video_constantsize_height;we.setSize(e,t),g(we.getObject(),"video")}function T(e,t,n){me.trigger(he.events.TRANSITION_START);var i=Ce.slider_transition;switch(n&&(i=n),he.stopSlideAction(null,!0),i){default:case"fade":E(t);break;case"slide":S(e,t);break;case"lightbox_open":E(t,!1,!0)}}function S(e,t){if(1==he.isAnimating())return Ie.itemWaiting=t,!0;null!=Ie.itemWaiting&&(Ie.itemWaiting=null);var n=he.getSlidesReference();switch(e){case"right":m(n.objPrevSlide,t),l();i=-xe.getElementSize(n.objPrevSlide).left;he.switchSlideNums("right");break;case"left":m(n.objNextSlide,t),l();var i=-xe.getElementSize(n.objNextSlide).left;he.switchSlideNums("left");break;default:throw new Error("wrong direction: "+e)}var o={duration:Ce.slider_transition_speed,easing:Ce.slider_transition_easing,queue:!1,always:function(){he.stopSlideAction(),we.hide(),null!=Ie.itemWaiting?S(Z(Ie.itemWaiting),Ie.itemWaiting):(he.placeNabourItems(),me.trigger(he.events.TRANSITION_END))}};re.animate({left:i+"px"},o)}function C(e,t,n){n?e.fadeTo(Ce.slider_transition_speed,t,n):e.fadeTo(Ce.slider_transition_speed,t)}function E(e,t,n){if(!t)var t=!1;var i=he.getSlidesReference();m(i.objNextSlide,e);var o=xe.getElementSize(i.objCurrentSlide);xe.placeElement(i.objNextSlide,o.left,o.top);var r=Ie.numCurrent;Ie.numCurrent=Ie.numNext,Ie.numNext=r,me.trigger(he.events.ITEM_CHANGED),i.objNextSlide.stop(!0),i.objCurrentSlide.stop(!0),1==t?(i.objCurrentSlide.fadeTo(0,0),i.objNextSlide.fadeTo(0,1),he.placeNabourItems(),me.trigger(he.events.TRANSITION_END),!0!==n&&we.hide()):(i.objNextSlide.fadeTo(0,0),C(i.objCurrentSlide,0,function(){he.placeNabourItems(),me.trigger(he.events.TRANSITION_END),!0!==n&&we.hide()}),1==we.isVisible()&&C(we.getObject(),0),C(i.objNextSlide,1))}function I(){1==Ce.slider_fullscreen_button_mobilehide&&_e&&_e.hide(),1==Ce.slider_play_button_mobilehide&&be&&be.hide(),1==Ce.slider_zoompanel_mobilehide&&ge&&ge.getElement().hide()}function P(){1==Ce.slider_fullscreen_button_mobilehide&&_e&&_e.show(),1==Ce.slider_play_button_mobilehide&&be&&be.show(),1==Ce.slider_zoompanel_mobilehide&&ge&&ge.getElement().show()}function k(){ve.isMobileMode()?I():P()}function A(){return oe.children(".ug-slider-control")}function j(e){if(0==xe.isTimePassed("sliderControlsToggle"))return!1;if(0==Ie.isControlsVisible)return!1;if(!e)var e=!1;var t=A();!0===e?t.stop().fadeTo(0,0).hide():t.stop().fadeTo(Ce.slider_controls_appear_duration,0,function(){t.hide()}),Ie.isControlsVisible=!1}function O(e){if(0==xe.isTimePassed("sliderControlsToggle"))return!1;if(1==Ie.isControlsVisible)return!0;if(!e)var e=!1;var t=A();!0===e?t.stop().show():(t.stop().show().fadeTo(0,0),t.fadeTo(Ce.slider_controls_appear_duration,1)),Ie.isControlsVisible=!0}function M(){0==Ie.isControlsVisible?O():j()}function R(e){if(e==Ie.currentControlsMode)return!1;switch(e){case"image":ge&&ge.getElement().show();break;case"video":ge&&ge.getElement().hide();break;default:throw new Error("wrong controld mode: "+e)}Ie.currentControlsMode=e}function D(e,t,n){var i=ve.getSelectedItem();he.setItem(i,!1,n);var o=i.index;ye&&ye.setActive(o),Se&&0==Ie.isTextPanelSaparateHover&&b(),R("image"==i.type?"image":"video")}function N(e,t){ve.selectItem(t)}function z(e){return!(!de||0!=de.isTapEventOccured(e))||void me.trigger(he.events.CLICK,e)}function L(){var e=he.getCurrentSlide().hasClass("ug-slide-clickable"),t=he.getCurrentItem();return e?(0==Ce.slider_links_newpage?location.href=t.link:window.open(t.link,"_blank"),!0):void(0==Ce.slider_controls_always_on&&1==Ce.slider_controls_appear_ontap&&1==he.isCurrentSlideType("image")&&(M(),Se&&1==Ce.slider_textpanel_always_on&&he.isCurrentSlideType("image")&&he.isCurrentSlideImageFit()&&b()))}function H(e){Se&&he.isCurrentSlideType("image")&&0==he.isCurrentSlideImageFit()&&v()}function F(){O()}function W(){j()}function G(e){var t=e.parent();he.startSlideAction(t)}function Q(){ve.isPlayMode()&&ve.pausePlaying(),me.trigger(he.events.ACTION_START)}function B(){ve.isPlayMode()&&ve.continuePlaying(),me.trigger(he.events.ACTION_END)}function q(e,t,n){ae.data("index")==t&&(objItem=ve.getItem(t),h(ae,objItem,!0)),se.data("index")==t&&(objItem=ve.getItem(t),h(se,objItem,!0)),le.data("index")==t&&(objItem=ve.getItem(t),h(le,objItem,!0))}function U(e,t){t=jQuery(t);var n=he.getSlideImage(t),i=J(t),o=xe.getElementSize(n);xe.placeElement(i,"center","middle",o.left,o.top,n)}function V(e){var t=J(e);xe.addClassOnHover(t),xe.setButtonOnClick(t,G)}function Y(){te.on(ve.events.ITEM_IMAGE_UPDATED,q),te.on(ve.events.ITEM_CHANGE,D),ye&&jQuery(ye).on(ye.events.BULLET_CLICK,N),1==Ce.slider_enable_arrows&&(xe.addClassOnHover(ce,"ug-arrow-hover"),xe.addClassOnHover(ue,"ug-arrow-hover"),ve.setNextButton(ce),ve.setPrevButton(ue)),0==Ce.slider_controls_always_on&&oe.hover(F,W),oe.on("touchend click",z),me.on(he.events.CLICK,L),Se&&1==Ie.isTextPanelSaparateHover&&oe.hover(b,v),be&&(xe.addClassOnHover(be,"ug-button-hover"),ve.setPlayButton(be)),_e&&(xe.addClassOnHover(_e,"ug-button-hover"),ve.setFullScreenToggleButton(_e)),fe&&me.on(he.events.ZOOM_CHANGE,H),ge&&ge.initEvents(),we.initEvents(),jQuery(we).on(we.events.SHOW,Q),jQuery(we).on(we.events.HIDE,B),V(ae),V(se),V(le),me.on(he.events.AFTER_PUT_IMAGE,U),oe.on("mouseenter",".ug-item-wrapper img",function(e){me.trigger(he.events.IMAGE_MOUSEENTER)}),oe.on("mouseleave",".ug-item-wrapper img",function(e){0==he.isMouseInsideSlideImage(e)&&me.trigger(he.events.IMAGE_MOUSELEAVE)})}function $(){var e;switch(Ce.slider_loader_type){default:case 1:e="ug-loader1";break;case 2:e="ug-loader2";break;case 3:e="ug-loader3";break;case 4:e="ug-loader4";break;case 5:e="ug-loader5";break;case 6:e="ug-loader6";break;case 7:e="ug-loader7";break;case 8:e="ug-loader8";break;case 9:e="ug-loader9"}return"black"==Ce.slider_loader_color&&(e+=" ug-loader-black"),e}function X(e){switch(e){case 1:return ae;case 2:return se;case 3:return le;default:throw new Error("wrong num: "+e)}}function Z(e){var t="left";return he.getSlidesReference().objCurrentSlide.data("index")>e.index&&(t="right"),t}function K(e){if(!e)var e=he.getCurrentSlide();return e.children(".ug-slider-preloader")}function J(e){return e.children(".ug-button-videoplay")}function ee(e){if(!e)var e=he.getCurrentSlide();var t=e.data("index");return void 0==t?null:ve.getItem(t)}var te,ne,ie,oe,re,ae,se,le,ue,ce,de,fe,ge,pe,he=this,me=jQuery(he),ve=new UniteGalleryMain,be=null,_e=null,ye=null,we=new UGVideoPlayer,xe=new UGFunctions,Te=null,Se=null;this.events={ITEM_CHANGED:"item_changed",BEFORE_SWITCH_SLIDES:"before_switch",BEFORE_RETURN:"before_return",AFTER_RETURN:"after_return",ZOOM_START:"slider_zoom_start",ZOOM_END:"slider_zoom_end",ZOOMING:"slider_zooming",ZOOM_CHANGE:"slider_zoom_change",START_DRAG:"start_drag",AFTER_DRAG_CHANGE:"after_drag_change",ACTION_START:"action_start",ACTION_END:"action_end",CLICK:"slider_click",TRANSITION_START:"slider_transition_start",TRANSITION_END:"slider_transition_end",AFTER_PUT_IMAGE:"after_put_image",IMAGE_MOUSEENTER:"slider_image_mouseenter",IMAGE_MOUSELEAVE:"slider_image_mouseleave",CURRENTSLIDE_LOAD_START:"slider_current_loadstart",CURRENTSLIDE_LOAD_END:"slider_current_loadend"};var Ce={slider_scale_mode:"fill",slider_scale_mode_media:"fill",slider_scale_mode_fullscreen:"down",slider_item_padding_top:0,slider_item_padding_bottom:0,slider_item_padding_left:0,slider_item_padding_right:0,slider_background_color:"",slider_background_opacity:1,slider_image_padding_top:0,slider_image_padding_bottom:0,slider_image_padding_left:0,slider_image_padding_right:0,slider_image_border:!1,slider_image_border_width:10,slider_image_border_color:"#ffffff",slider_image_border_radius:0,slider_image_border_maxratio:.35,slider_image_shadow:!1,slider_video_constantsize:!1,slider_video_constantsize_scalemode:"fit",slider_video_constantsize_width:854,slider_video_constantsize_height:480,slider_video_padding_top:0,slider_video_padding_bottom:0,slider_video_padding_left:0,slider_video_padding_right:0,slider_video_enable_closebutton:!0,slider_transition:"slide",slider_transition_speed:300,slider_transition_easing:"easeInOutQuad",slider_control_swipe:!0,slider_control_zoom:!0,slider_zoom_mousewheel:!0,slider_vertical_scroll_ondrag:!1,slider_loader_type:1,slider_loader_color:"white",slider_enable_links:!0,slider_links_newpage:!1,slider_enable_bullets:!1,slider_bullets_skin:"",slider_bullets_space_between:-1,slider_bullets_align_hor:"center",slider_bullets_align_vert:"bottom",slider_bullets_offset_hor:0,slider_bullets_offset_vert:10,slider_enable_arrows:!0,slider_arrows_skin:"",slider_arrow_left_align_hor:"left",slider_arrow_left_align_vert:"middle",slider_arrow_left_offset_hor:20,slider_arrow_left_offset_vert:0,slider_arrow_right_align_hor:"right",slider_arrow_right_align_vert:"middle",slider_arrow_right_offset_hor:20,slider_arrow_right_offset_vert:0,slider_enable_progress_indicator:!0,slider_progress_indicator_type:"pie",slider_progress_indicator_align_hor:"right",slider_progress_indicator_align_vert:"top",slider_progress_indicator_offset_hor:10,slider_progress_indicator_offset_vert:10,slider_enable_play_button:!0,slider_play_button_skin:"",slider_play_button_align_hor:"left",slider_play_button_align_vert:"top",slider_play_button_offset_hor:40,slider_play_button_offset_vert:8,slider_play_button_mobilehide:!1,slider_enable_fullscreen_button:!0,slider_fullscreen_button_skin:"",slider_fullscreen_button_align_hor:"left",slider_fullscreen_button_align_vert:"top",slider_fullscreen_button_offset_hor:11,slider_fullscreen_button_offset_vert:9,slider_fullscreen_button_mobilehide:!1,slider_enable_zoom_panel:!0,slider_zoompanel_skin:"",slider_zoompanel_align_hor:"left",slider_zoompanel_align_vert:"top",slider_zoompanel_offset_hor:12,slider_zoompanel_offset_vert:92,slider_zoompanel_mobilehide:!1,slider_controls_always_on:!1,slider_controls_appear_ontap:!0,slider_controls_appear_duration:300,slider_enable_text_panel:!0,slider_textpanel_always_on:!0,slider_videoplay_button_type:"square"},Ee={slider_progress_indicator_align_hor:"left",slider_progress_indicator_align_vert:"bottom",slider_progress_indicator_offset_hor:0,slider_progress_indicator_offset_vert:0},Ie={isRunOnce:!1,isTextPanelSaparateHover:!1,numPrev:1,numCurrent:2,numNext:3,isControlsVisible:!0,currentControlsMode:"image"};this.switchSlideNums=function(e){switch(me.trigger(he.events.BEFORE_SWITCH_SLIDES),e){case"left":t=Ie.numCurrent;Ie.numCurrent=Ie.numNext,Ie.numNext=Ie.numPrev,Ie.numPrev=t;break;case"right":var t=Ie.numCurrent;Ie.numCurrent=Ie.numPrev,Ie.numPrev=Ie.numNext,Ie.numNext=t;break;default:throw new Error("wrong direction: "+e)}me.trigger(he.events.ITEM_CHANGED)},this.destroy=function(){me.off(he.events.AFTER_PUT_IMAGE),te.off(ve.events.ITEM_IMAGE_UPDATED),te.off(ve.events.ITEM_CHANGE),ye&&jQuery(ye).on(ye.events.BULLET_CLICK),oe.off("mouseenter"),oe.off("mouseleave"),oe.off("touchend"),oe.off("click"),me.off(he.events.CLICK),fe&&me.off(he.events.ZOOM_CHANGE),me.off(he.events.BEFORE_SWITCH_SLIDES),jQuery(we).off(we.events.SHOW),jQuery(we).off(we.events.HIDE),we.destroy(),oe.off("mouseenter",".ug-item-wrapper img"),oe.off("mouseleave",".ug-item-wrapper img")},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(t,n,i){e(t,n,i)},this.getSlideImage=function(e){if(!e)var e=he.getCurrentSlide();return e.find(".ug-item-wrapper img")},this.setHtml=function(e){o(e)},this.run=function(){t()},this.isInnerInPlace=function(){var e=he.getSlidesReference();return-xe.getElementSize(e.objCurrentSlide).left==xe.getElementSize(re).left},this.isAnimating=function(){return re.is(":animated")},this.isSlideCurrent=function(e){var t=e.data("slidenum");return Ie.numCurrent==t},this.isSlideHasItem=function(e){var t=e.data("index");return void 0!==t&&null!==t},this.getObjImagePadding=function(){return{padding_top:Ce.slider_image_padding_top,padding_bottom:Ce.slider_image_padding_bottom,padding_left:Ce.slider_image_padding_left,padding_right:Ce.slider_image_padding_right}},this.getSlidesReference=function(){return{objPrevSlide:X(Ie.numPrev),objNextSlide:X(Ie.numNext),objCurrentSlide:X(Ie.numCurrent)}},this.getCurrentSlide=function(){return he.getSlidesReference().objCurrentSlide},this.getCurrentItemIndex=function(){var e=he.getSlidesReference().objCurrentSlide.data("index");return(null===e||void 0===e)&&(e=-1),e},this.getCurrentItem=function(){var e=he.getCurrentItemIndex();return-1==e?null:ve.getItem(e)},this.getSlideType=function(e){return void 0==e&&(e=he.getCurrentSlide()),e.data("type")},this.isMouseInsideSlideImage=function(e){var t=he.getSlideImage(),n=xe.getMousePosition(e);void 0===n.pageX&&(n=de.getLastMousePos());var i=xe.getMouseElementPoint(n,t),o=xe.getElementSize(t);return isMouseInside=xe.isPointInsideElement(i,o),isMouseInside},this.isCurrentSlideType=function(e){return he.getSlideType()==e},this.isCurrentSlideLoadingImage=function(){return!0===he.getCurrentSlide().data("isLoading")},this.setItem=function(e,t,n){var i=he.getSlidesReference(),o=i.objCurrentSlide.data("index"),r=e.index;if(r==o)return!0;if(void 0==o)m(i.objCurrentSlide,e),he.placeNabourItems();else{var a="left";ve.getNumItems(),"next"==n?a="left":"prev"==n||o>r?a="right":o>r&&(a="right"),T(a,e,t)}},this.placeNabourItems=function(){var e=he.getSlidesReference(),t=e.objCurrentSlide.data("index"),n=ve.getPrevItem(t),i=ve.getNextItem(t);m(e.objNextSlide,i),m(e.objPrevSlide,n),l()},this.________EXTERNAL_API___________=function(){},this.stopSlideAction=function(e,t){e||(e=he.getCurrentSlide()),!0===t?we.pause():we.hide()},this.startSlideAction=function(e){e||(e=he.getCurrentSlide());var t=ee(e);if("image"==t.type)return!0;switch(1==Ce.slider_video_constantsize&&x(),w(),we.show(),t.type){case"youtube":we.playYoutube(t.videoid);break;case"vimeo":we.playVimeo(t.videoid);break;case"html5video":we.playHtml5Video(t.videoogv,t.videowebm,t.videomp4,t.urlImage);break;case"soundcloud":we.playSoundCloud(t.trackid);break;case"wistia":we.playWistia(t.videoid)}},this.getScaleMode=function(e){if(!e)var e=he.getCurrentSlide();return"image"!=he.getSlideType(e)?Ce.slider_scale_mode_media:Ce.slider_scale_mode==Ce.slider_scale_mode_fullscreen?Ce.slider_scale_mode:1==ve.isFullScreen()?Ce.slider_scale_mode_fullscreen:Ce.slider_scale_mode},this.getObjects=function(){return{g_objSlider:oe,g_objInner:re,g_options:Ce,g_objZoomSlider:fe}},this.getObjZoom=function(){return fe},this.getOptions=function(){return Ce},this.getElement=function(){return oe},this.getVideoObject=function(){return we},this.isCurrentSlideImageFit=function(){var e=he.getCurrentSlide();he.getSlideType(e),y("image",e);var t=he.getSlideImage(e);return 0!=t.length&&xe.isImageFitParent(t)},this.isCurrentImageInPlace=function(){var e=he.getSlideImage();if(0==e.length)return!1;var t=he.getScaleMode(),n=he.getObjImagePadding(),i=ee(),o=e.parent(),r=xe.getImageInsideParentData(o,i.imageWidth,i.imageHeight,t,n),a=xe.getElementSize(e),s=!1;return r.imageWidth==a.width&&(s=!0),s},this.isSlideActionActive=function(){return we.isVisible()},this.isSwiping=function(){return!!de&&de.isTouchActive()},this.isPreloading=function(){return!!K().is(":visible")},this.setOptions=function(e){pe&&(e=xe.convertCustomPrefixOptions(e,pe,"slider")),Ce=jQuery.extend(Ce,e)},this.setSize=function(e,t){if(0>e||0>t)return!0;var n={};n.width=e+"px",n.height=t+"px",oe.css(n);var i={};i.height=t+"px",i.top="0px",i.left="0px",re.css(i);var o={};o.height=t+"px",o.width=e+"px",ae.css(o),se.css(o),le.css(o);var r=e-Ce.slider_item_padding_left-Ce.slider_item_padding_right,s=t-Ce.slider_item_padding_top-Ce.slider_item_padding_bottom,c={};if(c.width=r+"px",c.height=s+"px",c.top=Ce.slider_item_padding_top+"px",c.left=Ce.slider_item_padding_left+"px",oe.find(".ug-item-wrapper").css(c),Se&&Se.setSizeByParent(),a(),u(ae),u(se),u(le),l(),"image"!=he.getSlideType()&&1==Ce.slider_video_constantsize)x();else{var d=e-Ce.slider_video_padding_left-Ce.slider_video_padding_right,f=t-Ce.slider_video_padding_top-Ce.slider_video_padding_bottom;we.setSize(d,f)}w()},this.refreshSlideItems=function(){return 1==he.isAnimating()||(u(ae),u(se),u(le),void l())},this.isMouseOver=function(){return oe.ismouseover()},this.setPosition=function(e,t){xe.placeElement(oe,e,t)},this.zoomIn=function(){return!fe||void fe.zoomIn()},this.zoomOut=function(){return!fe||void fe.zoomOut()},this.zoomBack=function(){return!fe||void fe.zoomBack()}}function UGTextPanel(){function e(e,t){if(!t)var t=b.textpanel_padding_top;i=t;if(c){var n=i;if(m.placeElement(c,0,n),1==c.is(":visible"))(i=m.getElementSize(c).bottom)>0&&(_.lastTitleBottom=i);else{var i=20;_.lastTitleBottom>0&&(i=_.lastTitleBottom)}}var r="";if(d&&(r=jQuery.trim(d.text())),""!=r){var a=i;if(c&&(a+=b.textpanel_padding_title_description),m.placeElement(d,0,a),1==jQuery(d).is(":visible")){var s=m.getElementSize(d);i=s.bottom,s.height>0&&(_.lastDescHeight=s.height)}else{var l=16;_.lastDescHeight>0&&(l=_.lastDescHeight),i=a+l}}b.textpanel_height||1!=_.setInternalHeight||o(i+b.textpanel_padding_bottom,e)}function t(){var e=0;if(c&&(e+=c.outerHeight()),d){var t="";d&&(t=jQuery.trim(d.text())),""!=t&&(c&&(e+=b.textpanel_padding_title_description),e+=d.outerHeight())}return e}function n(){var n=t();e(!1,(g.height()-n)/2)}function i(){var n=t();e(!1,g.height()-n-b.textpanel_padding_bottom)}function o(e,t){if(!t)var t=!1;if(1==t){f&&e>f.height()&&f.height(e);var n={height:e+"px"};l.add(g).animate(n,b.textpanel_fade_duration)}else f&&f.height(e),l.add(g).height(e)}function r(){if(1==b.textpanel_enable_bg){(f=l.children(".ug-textpanel-bg")).fadeTo(0,b.textpanel_bg_opacity);var e={"background-color":b.textpanel_bg_color};e=jQuery.extend(e,b.textpanel_bg_css),f.css(e)}if(1==b.textpanel_enable_title){c=g.children(".ug-textpanel-title");var t={};null!==b.textpanel_title_color&&(t.color=b.textpanel_title_color),null!==b.textpanel_title_font_family&&(t["font-family"]=b.textpanel_title_font_family),null!==b.textpanel_title_text_align&&(t["text-align"]=b.textpanel_title_text_align),null!==b.textpanel_title_font_size&&(t["font-size"]=b.textpanel_title_font_size+"px"),null!==b.textpanel_title_bold&&(!0===b.textpanel_title_bold?t["font-weight"]="bold":t["font-weight"]="normal"),b.textpanel_css_title&&(t=jQuery.extend(t,b.textpanel_css_title)),c.css(t)}if(1==b.textpanel_enable_description){d=g.children(".ug-textpanel-description");var n={};null!==b.textpanel_desc_color&&(n.color=b.textpanel_desc_color),null!==b.textpanel_desc_font_family&&(n["font-family"]=b.textpanel_desc_font_family),null!==b.textpanel_desc_text_align&&(n["text-align"]=b.textpanel_desc_text_align),null!==b.textpanel_desc_font_size&&(n["font-size"]=b.textpanel_desc_font_size+"px"),null!==b.textpanel_desc_bold&&(!0===b.textpanel_desc_bold?n["font-weight"]="bold":n["font-weight"]="normal"),b.textpanel_css_title&&(n=jQuery.extend(n,b.textpanel_css_description)),d.css(n)}}function a(){var e=p.getSelectedItem();h.setText(e.title,e.description)}function s(){jQuery(p).on(p.events.ITEM_CHANGE,a)}var l,u,c,d,f,g,p,h=this,m=new UGFunctions,v="",b={textpanel_align:"bottom",textpanel_margin:0,textpanel_text_valign:"middle",textpanel_padding_top:10,textpanel_padding_bottom:10,textpanel_height:null,textpanel_padding_title_description:5,textpanel_padding_right:11,textpanel_padding_left:11,textpanel_fade_duration:200,textpanel_enable_title:!0,textpanel_enable_description:!0,textpanel_enable_bg:!0,textpanel_bg_color:"#000000",textpanel_bg_opacity:.4,textpanel_title_color:null,textpanel_title_font_family:null,textpanel_title_text_align:null,textpanel_title_font_size:null,textpanel_title_bold:null,textpanel_css_title:{},textpanel_desc_color:null,textpanel_desc_font_family:null,textpanel_desc_text_align:null,textpanel_desc_font_size:null,textpanel_desc_bold:null,textpanel_css_description:{},textpanel_desc_style_as_title:!1,textpanel_bg_css:{}},_={isFirstTime:!0,setInternalHeight:!0,lastTitleBottom:0,lastDescHeight:0};this.positionElements=function(t){if(!b.textpanel_height||"top"==b.textpanel_text_valign)return e(t),!1;switch(b.textpanel_text_valign){default:case"top":e(!1);break;case"bottom":i();break;case"center":case"middle":n()}},this.init=function(e,t,n){if(p=e,n&&(v=n,t=m.convertCustomPrefixOptions(t,v,"textpanel")),t&&(b=jQuery.extend(b,t)),0==b.textpanel_enable_title&&0==b.textpanel_enable_description)throw new Error("Textpanel Error: The title or description must be enabled");b.textpanel_height&&b.textpanel_height<0&&(b.textpanel_height=null),1==b.textpanel_desc_style_as_title&&(b.textpanel_desc_color||(b.textpanel_desc_color=b.textpanel_title_color),b.textpanel_desc_bold||(b.textpanel_desc_bold=b.textpanel_title_bold),b.textpanel_desc_font_family||(b.textpanel_desc_font_family=b.textpanel_title_font_family),b.textpanel_desc_font_size||(b.textpanel_desc_font_size=b.textpanel_title_font_size),b.textpanel_desc_text_align||(b.textpanel_desc_text_align=b.textpanel_title_text_align))},this.appendHTML=function(e,t){u=e;var n="<div class='ug-textpanel"+(t=t?" "+t:"")+"'>";1==b.textpanel_enable_bg&&(n+="<div class='ug-textpanel-bg"+t+"'></div>"),n+="<div class='ug-textpanel-textwrapper"+t+"'>",1==b.textpanel_enable_title&&(n+="<div class='ug-textpanel-title"+t+"'></div>"),1==b.textpanel_enable_description&&(n+="<div class='ug-textpanel-description"+t+"'></div>"),n+="</div></div>",e.append(n),l=e.children(".ug-textpanel"),g=l.children(".ug-textpanel-textwrapper"),r()},this.destroy=function(){jQuery(p).off(p.events.ITEM_CHANGE)},this.run=function(){h.setSizeByParent(),s()},this.setPanelSize=function(e,t){if(_.setInternalHeight=!0,t)_.setInternalHeight=!1;else var t=80;b.textpanel_height&&(t=b.textpanel_height),l.width(e),l.height(t),f&&(f.width(e),f.height(t));var n=e-b.textpanel_padding_left-b.textpanel_padding_right,i=b.textpanel_padding_left;m.setElementSizeAndPosition(g,i,0,n,t),c&&c.width(n),d&&d.width(n),0==_.isFirstTime&&h.positionElements(!1)},this.setSizeByParent=function(){var e=m.getElementSize(u);h.setPanelSize(e.width)},this.setTextPlain=function(e,t){c&&c.html(e),d&&d.html(t)},this.setText=function(e,t){1==_.isFirstTime?(h.setTextPlain(e,t),_.isFirstTime=!1,h.positionElements(!1)):g.stop().fadeTo(b.textpanel_fade_duration,0,function(){h.setTextPlain(e,t),h.positionElements(!0),jQuery(this).fadeTo(b.textpanel_fade_duration,1)})},this.positionPanel=function(e,t){var n={};if(void 0!==e&&null!==e)n.top=e,n.bottom="auto";else switch(b.textpanel_align){case"top":n.top=b.textpanel_margin+"px";break;case"bottom":n.top="auto",n.bottom=b.textpanel_margin+"px";break;case"middle":n.top=m.getElementRelativePos(l,"middle",b.textpanel_margin)}void 0!==t&&null!==t&&(n.left=t),l.css(n)},this.setOptions=function(e){v&&(e=m.convertCustomPrefixOptions(e,v,"textpanel")),b=jQuery.extend(b,e)},this.getElement=function(){return l},this.getSize=function(){return m.getElementSize(l)},this.refresh=function(e,t,n,i){r(),n?h.setPanelSize(n,i):h.setSizeByParent(),h.positionElements(!1),!0!==t&&h.positionPanel(),!0===e&&h.show()},this.hide=function(){l.hide()},this.show=function(){l.show()},this.getOptions=function(){return b},this.getOption=function(e){return 0==b.hasOwnProperty(e)?null:b[e]}}function UGZoomButtonsPanel(){function e(e){return!e||!!e.hasClass("ug-zoompanel-button-disabled")}function t(e){e&&e.addClass("ug-zoompanel-button-disabled")}function n(e){e&&e.removeClass("ug-zoompanel-button-disabled")}function i(){if(0==c.isCurrentSlideType("image"))return!0;1==c.isCurrentSlideImageFit()?0==e(s)&&(t(s),t(l)):1==e(s)&&(n(s),n(l))}var o,r,a,s,l,u=this,c=new UGSlider,d=new UGFunctions,f={slider_zoompanel_skin:""};this.init=function(e,t){c=e,t&&(f=jQuery.extend(f,t))},this.appendHTML=function(e){r=e;var t="<div class='ug-slider-control ug-zoompanel ug-skin-"+f.slider_zoompanel_skin+"'>";t+="<div class='ug-zoompanel-button ug-zoompanel-plus'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-minus ug-zoompanel-button-disabled'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-return ug-zoompanel-button-disabled'></div>",t+="</div>",e.append(t),o=e.children(".ug-zoompanel"),a=o.children(".ug-zoompanel-plus"),s=o.children(".ug-zoompanel-minus"),l=o.children(".ug-zoompanel-return")},this.setObjects=function(e,t,n){a=e,l=n,(s=t)&&s.addClass("ug-zoompanel-button-disabled"),l&&l.addClass("ug-zoompanel-button-disabled")},this.getElement=function(){return o},u.initEvents=function(){d.addClassOnHover(a,"ug-button-hover"),d.addClassOnHover(s,"ug-button-hover"),d.addClassOnHover(l,"ug-button-hover"),d.setButtonOnClick(a,function(){return 1==e(a)||void c.zoomIn()}),d.setButtonOnClick(s,function(){return 1==e(s)||void c.zoomOut()}),d.setButtonOnClick(l,function(){return 1==e(l)||void c.zoomBack()}),jQuery(c).on(c.events.ZOOM_CHANGE,i),jQuery(c).on(c.events.ITEM_CHANGED,i)}}function UGBullets(){function e(){var e="",t="";-1!=p.bullets_space_between&&(t=" style='margin-left:"+p.bullets_space_between+"px'");for(var n=0;u>n;n++)e+=0==n?"<div class='ug-bullet'></div>":"<div class='ug-bullet'"+t+"></div>";if(r.html(e),!s){var i=r.find(".ug-bullet:first-child");i.length&&(s=i.width())}}function t(e){if(1==l.isActive(e))return!0;var t=e.index();jQuery(l).trigger(l.events.BULLET_CLICK,t)}function n(){var e=r.children(".ug-bullet");f.setButtonOnClick(e,t),e.on("mousedown mouseup",function(e){return!1})}function i(e){if(0>e||e>=u)throw new Error("wrong bullet index: "+e)}function o(){if(1==g.isInited)return!0;throw new Error("The bullets are not inited!")}var r,a,s,l=this,u=0,c=new UniteGalleryMain,d=-1,f=new UGFunctions,g={isInited:!1},p={bullets_skin:"",bullets_addclass:"",bullets_space_between:-1};this.events={BULLET_CLICK:"bullet_click"},this.init=function(e,t,n){c=e,u=n||c.getNumItems(),g.isInited=!0,""==(p=jQuery.extend(p,t)).bullets_skin&&(p.bullets_skin=p.gallery_skin)},this.getBulletsWidth=function(){return 0==u?0:s?u*s+(u-1)*p.bullets_space_between:0},this.appendHTML=function(t){a=t,o();var i="";""!=p.bullets_addclass&&(i=" "+p.bullets_addclass);var s="<div class='ug-slider-control ug-bullets ug-skin-"+p.bullets_skin+i+"'>";s+="</div>",r=jQuery(s),t.append(r),e(),n()},this.updateNumBullets=function(t){u=t,e(),n()},this.getElement=function(){return r},this.setActive=function(e){o(),i(e);var t=r.children(".ug-bullet");t.removeClass("ug-bullet-active"),jQuery(t[e]).addClass("ug-bullet-active"),d=e},this.isActive=function(e){if(i(e),"number"!=typeof e)t=e;else var t=r.children(".ug-bullet")[e];return!!t.hasClass("ug-bullet-active")},this.getNumBullets=function(){return u}}function UGProgressBar(){var e,t,n=this,i=0,o=new UGFunctions,r={slider_progressbar_color:"#ffffff",slider_progressbar_opacity:.6,slider_progressbar_line_width:5};this.put=function(n,i){i&&(r=jQuery.extend(r,i)),n.append("<div class='ug-progress-bar'><div class='ug-progress-bar-inner'></div></div>"),e=n.children(".ug-progress-bar"),(t=e.children(".ug-progress-bar-inner")).css("background-color",r.slider_progressbar_color),e.height(r.slider_progressbar_line_width),t.height(r.slider_progressbar_line_width),t.width("0%");var o=r.slider_progressbar_opacity,a=t[0];a.style.opacity=o,a.style.filter="alpha(opacity="+100*o+")"},this.putHidden=function(t,i){n.put(t,i),e.hide()},this.getElement=function(){return e},this.setSize=function(i){e.width(i),t.width(i),n.draw()},this.setPosition=function(t,n,i,r){o.placeElement(e,t,n,i,r)},this.draw=function(){var e=100*i;t.width(e+"%")},this.setProgress=function(e){i=o.normalizePercent(e),n.draw()},this.getType=function(){return"bar"}}function UGProgressPie(){function e(e){if(!e)var e=0;var t=Math.min(a.slider_progresspie_width,a.slider_progresspie_height)/2,i=n[0].getContext("2d");0==o&&(o=!0,i.rotate(1.5*Math.PI),i.translate(-2*t,0)),i.clearRect(0,0,a.slider_progresspie_width,a.slider_progresspie_height);var r=a.slider_progresspie_width/2,s=a.slider_progresspie_height/2,l=0,u=e*Math.PI*2;if(1==a.slider_progresspie_type_fill)i.beginPath(),i.moveTo(r,s),i.arc(r,s,t,l,u),i.lineTo(r,s),i.fillStyle=a.slider_progresspie_color1,i.fill(),i.closePath();else{i.globalCompositeOperation="source-over",i.beginPath(),i.moveTo(r,s),i.arc(r,s,t,l,u),i.lineTo(r,s),i.fillStyle=a.slider_progresspie_color1,i.fill(),i.closePath(),i.globalCompositeOperation="destination-out";var c=t-a.slider_progresspie_stroke_width;i.beginPath(),i.moveTo(r,s),i.arc(r,s,c,l,u),i.lineTo(r,s),i.fillStyle=a.slider_progresspie_color1,i.fill(),i.closePath()}1==a.slider_progresspie_type_fill&&(l=u,u=2*Math.PI,i.beginPath(),i.arc(r,s,t,l,u),i.lineTo(r,s),i.fillStyle=a.slider_progresspie_color2,i.fill(),i.closePath())}var t,n,i=this,o=!1,r=new UGFunctions,a={slider_progresspie_type_fill:!1,slider_progresspie_color1:"#B5B5B5",slider_progresspie_color2:"#E5E5E5",slider_progresspie_stroke_width:6,slider_progresspie_width:30,slider_progresspie_height:30};this.put=function(e,t){t&&(a=jQuery.extend(a,t)),e.append("<canvas class='ug-canvas-pie' width='"+a.slider_progresspie_width+"' height='"+a.slider_progresspie_height+"'></canvas>"),n=e.children(".ug-canvas-pie")},this.putHidden=function(t,o){i.put(t,o),e(.1),n.hide()},this.getElement=function(){return n},this.setPosition=function(e,t){r.placeElement(n,e,t)},this.getSize=function(){return{width:a.slider_progresspie_width,height:a.slider_progresspie_height}},this.setProgress=function(n){n=r.normalizePercent(n),t=n,e(n)},this.getType=function(){return"pie"}}function UGTouchSliderControl(){function e(e){if(!e)var e=m.getSlidesReference();return-v.getElementSize(e.objCurrentSlide).left-v.getElementSize(p).left}function t(){var t=m.getSlidesReference(),n=e(t),i=Math.round(3*t.objCurrentSlide.width()/8);if(Math.abs(n)>=i)return!0;var o=Math.abs(_.lastMouseX-_.startMouseX);return Math.abs(_.lastMouseY-_.startMouseY),!(20>o)&&500>jQuery.now()-_.startTime}function n(e){if(1==m.isInnerInPlace())return!1;if(h.trigger(m.events.BEFORE_RETURN),!e)var e=m.getSlidesReference();var t=-v.getElementSize(e.objCurrentSlide).left;p.animate({left:t+"px"},{duration:b.slider_transition_return_speed,easing:b.slider_transition_continuedrag_easing,queue:!1,progress:function(e,n,i){if(1==_.isDragVideo){var o=v.getElementSize(p).left-t,r=_.videoStartX+o;_.videoObject.css("left",r)}},complete:function(){h.trigger(m.events.AFTER_RETURN)}})}function i(e){m.getVideoObject().hide(),m.switchSlideNums(e),m.placeNabourItems()}function o(){var t=m.getSlidesReference(),o=e(t);if(0==o)return!1;var r=o>0?"left":"right",a=!1;switch(r){case"right":if(m.isSlideHasItem(t.objPrevSlide))var s=v.getElementSize(t.objPrevSlide),l=-s.left;else a=!0;break;case"left":if(m.isSlideHasItem(t.objNextSlide))var u=v.getElementSize(t.objNextSlide),l=-u.left;else a=!0}1==a?n(t):p.stop().animate({left:l+"px"},{duration:b.slider_transition_continuedrag_speed,easing:b.slider_transition_continuedrag_easing,queue:!1,progress:function(){if(1==_.isDragVideo){var e=v.getElementSize(p).left-_.startPosx,t=_.videoStartX+e;_.videoObject.css("left",t)}},always:function(){i(r),h.trigger(m.events.AFTER_DRAG_CHANGE)}})}function r(e){var t=_.lastMouseX-_.startMouseX;if(0==t)return!0;var n=0>t?"left":"right",i=m.getObjZoom();if(i){if(1==i.isPanEnabled(e,n))return _.isInitDataValid=!1,!0;if(0==_.isInitDataValid)return a(e),!0}var o=_.startPosx+t;if(t>0&&o>0)o/=3;else if(0>t){var r=o+p.width();g.width()>r&&(o=_.startPosx+t/3)}if(0==_.isDragging&&(_.isDragging=!0,h.trigger(m.events.START_DRAG)),p.css("left",o+"px"),1==_.isDragVideo){var s=o-_.startPosx,l=_.videoStartX+s;_.videoObject.css("left",l)}}function a(e){var t=v.getMousePosition(e);_.startMouseX=t.pageX,_.startMouseY=t.pageY,_.lastMouseX=_.startMouseX,_.lastMouseY=_.startMouseY,_.startTime=jQuery.now();var n=v.getArrTouches(e);_.startArrTouches=v.getArrTouchPositions(n);var i=v.getElementSize(p);_.startPosx=i.left,_.isInitDataValid=!0,_.isDragVideo=!1,v.storeEventData(e,_.storedEventID)}function s(e){_.touch_active=!1}function l(e,t){_.touch_active=!0,a(t)}function u(e){return e.preventDefault(),_.isDragging=!1,1==m.isAnimating()&&p.stop(!0,!0),v.getArrTouches(e).length>1?(1==_.touch_active&&s("1"),!0):1==_.touch_active||void l("1",e)}function c(e){if(0==_.touch_active)return!0;if(0==e.buttons)return s("2"),o(),!0;v.updateStoredEventData(e,_.storedEventID),e.preventDefault();var t=v.getMousePosition(e);_.lastMouseX=t.pageX,_.lastMouseY=t.pageY;var n=null;1==b.slider_vertical_scroll_ondrag&&(n=v.handleScrollTop(_.storedEventID)),"vert"!==n&&r(e)}function d(e){var i=v.getArrTouches(e).length;if(1==m.isInnerInPlace()&&0==_.touch_active&&0==i)return!0;if(0==i&&1==_.touch_active){s("3");var r=!1;0==v.wasVerticalScroll(_.storedEventID)&&(r=t()),1==r?o():n()}else 1==i&&0==_.touch_active&&l("2",e)}function f(){g.bind("mousedown touchstart",u),jQuery("body").bind("mousemove touchmove",c),jQuery(window).add("body").bind("mouseup touchend",d)}var g,p,h,m=new UGSlider,v=new UGFunctions,b={slider_transition_continuedrag_speed:250,slider_transition_continuedrag_easing:"linear",slider_transition_return_speed:300,slider_transition_return_easing:"easeInOutQuad"},_={touch_active:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startPosx:0,startTime:0,isInitDataValid:!1,slides:null,lastNumTouches:0,isDragging:!1,storedEventID:"touchSlider",videoStartX:0,isDragVideo:!1,videoObject:null};this.isTapEventOccured=function(t){var n=v.getArrTouches(t).length;if(0!=n||0!=_.lastNumTouches)return _.lastNumTouches=n,!1;_.lastNumTouches=n;var i=(e(m.getSlidesReference()),Math.abs(_.lastMouseX-_.startMouseX)),o=Math.abs(_.lastMouseY-_.startMouseY),r=jQuery.now()-_.startTime;return 20>i&&50>o&&500>r},this.init=function(e,t){m=e,h=jQuery(m),g_objects=e.getObjects(),g=g_objects.g_objSlider,p=g_objects.g_objInner,b=jQuery.extend(b,t),f()},this.getLastMousePos=function(){return{pageX:_.lastMouseX,pageY:_.lastMouseY}},this.isTouchActive=function(){return _.touch_active}}function UGZoomSliderControl(){function e(e,t){T=e,x=jQuery(T),g_objects=e.getObjects(),y=g_objects.g_objSlider,w=g_objects.g_objInner,C=jQuery.extend(C,t),_()}function t(){var e=T.getScaleMode();return"down"!=e&&(e="fit"),e}function n(){if(20>(i=jQuery.now())-E.storeImageLastTime)return!1;var e=T.getSlidesReference();if(E.objSlide=e.objCurrentSlide,E.objImage=e.objCurrentSlide.find("img"),0==E.objImage.length)return!1;E.objImageSize=S.getElementSize(E.objImage),E.objParent=E.objImage.parent(),E.objParentSize=S.getElementSize(E.objParent);var n=t();objPadding=T.getObjImagePadding(),E.objFitImageSize=S.getImageInsideParentDataByImage(E.objImage,n,objPadding);var i=jQuery.now();return E.storeImageLastTime=i,!0}function i(e,n){var i=T.getSlidesReference().objCurrentSlide.find("img"),o=t();x.trigger(T.events.ZOOM_START);var r=!0,a=T.getObjImagePadding();if("back"==e){var s=S.getImageOriginalSize(i);S.scaleImageFitParent(i,s.width,s.height,o,a)}else{var l="in"==e;r=S.zoomImageInsideParent(i,l,C.slider_zoom_step,n,o,C.slider_zoom_max_ratio,a)}1==r&&(x.trigger(T.events.ZOOMING),x.trigger(T.events.ZOOM_CHANGE),x.trigger(T.events.ZOOM_END))}function o(e,t,n){var i=S.getArrTouches(t);if(!0===n){if(1!=i.length)return!1}else if(i.length>1)return!1;return!!S.isElementBiggerThenParent(e)}function r(e){var t=S.getMousePosition(e);E.startMouseX=t.pageX,E.startMouseY=t.pageY,E.lastMouseX=E.startMouseX,E.lastMouseY=E.startMouseY,E.startImageX=E.objImageSize.left,E.startImageY=E.objImageSize.top,E.panXActive=E.objImageSize.width>E.objParentSize.width,E.panYActive=E.objImageSize.height>E.objParentSize.height}function a(e){E.isPanActive=!0,r(e)}function s(e){if(void 0==E.objImage||0==E.objImage.length)return!0;var t=S.getMousePosition(e),n=(t.pageX,E.startMouseX,t.pageY,E.startMouseY,t.pageX-E.lastMouseX),i=t.pageY-E.lastMouseY,o=0>n?"left":"right",r=0>i?"up":"down";E.lastMouseX=t.pageX,E.lastMouseY=t.pageY;var a=S.getElementSize(E.objImage);0==E.panYActive?i=0:"down"==r&&a.top>0?i/=3:"up"==r&&a.bottom<E.objParentSize.height&&(i/=3),0==E.panXActive||0==T.isInnerInPlace()?n=0:"right"==o&&a.left>0?n/=3:"left"==o&&a.right<E.objParentSize.width&&(n/=3);var s=a.left+n,l=a.top+i;S.placeElement(E.objImage,s,l)}function l(){var e=!1,t=!1,n=0,i=0,o=S.getElementSize(E.objImage),r=T.getObjImagePadding(),a=S.getElementCenterPosition(E.objImage,r);E.panXActive=E.objImageSize.width>E.objParentSize.width,E.panYActive=E.objImageSize.height>E.objParentSize.height,1==E.panYActive?o.top>0?(i=0,t=!0):o.bottom<E.objParentSize.height&&(i=E.objParentSize.height-o.height,t=!0):o.top!=a.top&&(t=!0,i=a.top),1==E.panXActive?o.left>0?(n=0,e=!0):o.right<E.objParentSize.width&&(n=E.objParentSize.width-o.width,e=!0):o.left!=a.left&&(e=!0,n=a.left);var s={};1==t&&(s.top=i+"px"),1==e&&(s.left=n+"px"),(1==t||1==e)&&E.objImage.animate(s,{duration:C.slider_zoom_return_pan_duration,easing:C.slider_zoom_return_pan_easing,queue:!1})}function u(){return!(!E.objImage||!E.objImage.is(":animated"))}function c(e){E.isZoomActive=!0,E.startDistance=S.getDistance(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY),0==E.startDistance&&(E.startDistance=1),E.startMiddlePoint=S.getMiddlePoint(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY),E.objImageSize=S.getElementSize(E.objImage),E.startImageX=E.objImageSize.left,E.startImageY=E.objImageSize.top,E.imageOrientPoint=S.getElementLocalPoint(E.startMiddlePoint,E.objImage),0==S.isPointInsideElement(E.imageOrientPoint,E.objImageSize)&&(E.imageOrientPoint=S.getElementCenterPoint(E.objImage)),x.trigger(T.events.ZOOM_START)}function d(e){if(0==E.isZoomActive)return!1;2!=S.getArrTouches(e).length&&(E.isZoomActive=!1,x.trigger(T.events.ZOOM_END))}function f(e){if(1==E.isZoomActive)return!0;var t=S.getArrTouches(e);return 2!=t.length||void c(t)}function g(e){var t=S.getArrTouches(e),n=S.getDistance(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY)/E.startDistance,i=S.getMiddlePoint(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),o=E.objImageSize.width*n,r=E.objImageSize.height*n,a=S.getImageOriginalSize(E.objImage),s=1;if(a.width>0&&(s=o/a.width),s>C.slider_zoom_max_ratio)return!0;panX=-(E.imageOrientPoint.x*n-E.imageOrientPoint.x),panY=-(E.imageOrientPoint.y*n-E.imageOrientPoint.y);var l=i.x-E.startMiddlePoint.x,u=i.y-E.startMiddlePoint.y,c=E.startImageX+panX+l,d=E.startImageY+panY+u;S.setElementSizeAndPosition(E.objImage,c,d,o,r),x.trigger(T.events.ZOOMING),x.trigger(T.events.ZOOM_CHANGE)}function p(){if(void 0==E.objImage||0==E.objImage.length)return!0;if(S.getElementSize(E.objImage).width<E.objFitImageSize.imageWidth){E.objImage.css({position:"absolute",margin:"none"});var e={top:E.objFitImageSize.imageTop+"px",left:E.objFitImageSize.imageLeft+"px",width:E.objFitImageSize.imageWidth+"px",height:E.objFitImageSize.imageHeight+"px"};E.objImage.animate(e,{duration:C.slider_zoom_return_pan_duration,easing:C.slider_zoom_return_pan_easing,queue:!1})}else l()}function h(e){return 0==T.isCurrentSlideType("image")||(n(),void 0==E.objImage||0==E.objImage.length||(e.preventDefault(),1==u()&&E.objImage.stop(!0),1==E.isZoomActive?d(e):f(e),void(1==E.isZoomActive?E.isPanActive=!1:1==o(E.objImage,e)&&1==E.isZoomedOnce&&a(e))))}function m(e){if(0==T.isCurrentSlideType("image"))return!0;if(1==jQuery(e.target).data("ug-button"))return!1;if(n(),void 0==E.objImage||0==E.objImage.length)return!0;var t=E.isPanActive,i=E.isZoomActive;if(0==T.isInnerInPlace())return E.isZoomActive=!1,E.isPanActive=!1,!0;if(1==E.isZoomActive?d(e):f(e),1==E.isZoomActive)E.isPanActive=!1;else{var r=o(E.objImage,e,!0);1==E.isPanActive?E.isPanActive=!1:1==r&&a(e)}(t||i)&&0==E.isZoomActive&&0==E.isPanActive&&p()}function v(e){return 0==T.isCurrentSlideType("image")||void(1==E.isZoomActive?g(e):1==E.isPanActive&&s(e))}function b(e,t,n,o){if(0==C.slider_zoom_mousewheel)return!0;if(0==T.isCurrentSlideType("image"))return!0;e.preventDefault();var r=t>0,a=S.getMousePosition(e);i(1==r?"in":"out",a)}function _(){y.on("mousewheel",b),y.bind("mousedown touchstart",h),jQuery("body").bind("mousemove touchmove",v),jQuery(window).add("body").bind("mouseup touchend",m),x.bind(T.events.BEFORE_RETURN,function(){p()}),x.bind(T.events.ITEM_CHANGED,function(){E.isZoomedOnce=!1}),x.bind(T.events.ZOOM_CHANGE,function(){E.isZoomedOnce=!0})}var y,w,x,T=new UGSlider,S=new UGFunctions,C={slider_zoom_step:1.2,slider_zoom_max_ratio:6,slider_zoom_return_pan_duration:400,slider_zoom_return_pan_easing:"easeOutCubic"},E={isPanActive:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startImageX:0,startImageY:0,panXActive:!1,panYActive:!1,objImage:null,objImageSize:null,objParent:null,objParentSize:null,objSlide:null,storeImageLastTime:0,isZoomActive:!1,startDistance:0,startMiddlePoint:null,imageOrientPoint:null,objFitImageSize:null,isZoomedOnce:!1};this.________EXTERNAL_____________=function(){},this.isPanEnabled=function(e,t){if(n(),void 0==E.objImage||0==E.objImage.length)return!1;if(0==E.isZoomedOnce)return!1;if(0==o(E.objImage,e))return!1;if(0==T.isInnerInPlace())return!1;if("left"==t){if(E.objImageSize.right<=E.objParentSize.width)return!1}else if(E.objImageSize.left>=0)return!1;return!0},this.init=function(t,n){e(t,n)},this.zoomIn=function(){i("in")},this.zoomOut=function(){i("out")},this.zoomBack=function(){i("back")}}function UGWistiaAPI(){function e(){return"undefined"!=typeof Wistia}function t(e,t,i,r,a){o=null,s=!1;var l=e+"_video",u="<div id='"+l+"' class='wistia_embed' style='width:"+i+";height:"+r+";' data-video-width='"+i+"' data-video-height='"+r+"'>&nbsp;</div>";jQuery("#"+e).html(u),o=Wistia.embed(t,{version:"v1",videoWidth:i,videoHeight:r,container:l,autoPlay:a}),s=!0,n()}function n(){o.bind("play",function(){a.trigger(r.events.START_PLAYING)}),o.bind("pause",function(){a.trigger(r.events.STOP_PLAYING)}),o.bind("end",function(){a.trigger(r.events.STOP_PLAYING),a.trigger(r.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var i,o,r=this,a=jQuery(this),s=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugWistiaAPI.isAPILoaded||(e()?(g_ugWistiaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("fast.wistia.com/assets/external/E-v1.js",!0),void(g_ugWistiaAPI.isAPILoaded=!0)))},this.doCommand=function(e){if(null==o)return!1;if(0==s)return!1;switch(e){case"play":o.play();break;case"pause":o.pause()}},this.pause=function(){r.doCommand("pause")},this.play=function(){r.doCommand("play")},this.putVideo=function(n,o,r,a,s){return e()?(t(n,o,r,a,s),!0):(this.loadAPI(),void(i=setInterval(function(){e()&&(t(n,o,r,a,s),clearInterval(i))},500)))},this.isPlayerReady=function(){return!(!s||!o)}}function UGSoundCloudAPI(){function e(){return"undefined"!=typeof SC}function t(e,t,i,a,s){o=null,g_isPlayerReady=!1;var l=e+"_iframe",u=location.protocol+"//w.soundcloud.com/player/?url=http://api.soundcloud.com/tracks/"+t;u+="&amp;buying=false&amp;liking=false&amp;download=false&amp;sharing=false&amp;show_artwork=true&show_comments=false&amp;show_playcount=true&amp;show_user=false&amp;hide_related=true&amp;visual=true&amp;start_track=0&amp;callback=true";var c="<iframe id='"+l+"' src="+(u+=!0===s?"&amp;auto_play=true":"&amp;auto_play=false")+" width='"+i+"' height='"+a+"' frameborder='0' scrolling='no' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(c),(o=SC.Widget(l)).bind(SC.Widget.Events.READY,function(){o&&(g_isPlayerReady=!0,n())}),r=e}function n(){o.bind(SC.Widget.Events.PLAY,function(){s.trigger(a.events.START_PLAYING)}),o.bind(SC.Widget.Events.PAUSE,function(){s.trigger(a.events.STOP_PLAYING)}),o.bind(SC.Widget.Events.FINISH,function(){s.trigger(a.events.STOP_PLAYING),s.trigger(a.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var i,o,r,a=this,s=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugSoundCloudAPI.isAPILoaded||(e()?(g_ugSoundCloudAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("w.soundcloud.com/player/api.js",!0),void(g_ugSoundCloudAPI.isAPILoaded=!0)))},this.putSound=function(n,o,r,a,s){return e()?(t(n,o,r,a,s),!0):(this.loadAPI(),void(i=setInterval(function(){e()&&(t(n,o,r,a,s),clearInterval(i))},500)))},this.doCommand=function(e){if(null==o)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":o.play();break;case"pause":o.pause()}},this.pause=function(){a.doCommand("pause")},this.play=function(){a.doCommand("play")},this.destroy=function(){g_isPlayerReady=!1,o=null,r&&(jQuery("#"+r).html(""),r=null)}}function UGHtml5MediaAPI(){function e(){return"undefined"!=typeof mejs}function t(e,t,i,r,a){o=null,g_isPlayerReady=!1;var s=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/flashmediaelement-cdn.swf",l=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/silverlightmediaelement.xap",u=e+"_video",c="";a&&!0===a&&(c="autoplay='autoplay'");var d="";t.posterImage&&(d="poster='"+t.posterImage+"'");var f="<video id='"+u+"' width='"+i+"' height='"+r+"'  controls='controls' preload='none' "+c+" "+d+">";""!=t.mp4&&(f+="<source type='video/mp4' src='"+t.mp4+"' />"),""!=t.webm&&(f+="<source type='video/webm' src='"+t.webm+"' />"),""!=t.ogv&&(f+="<source type='video/ogg' src='"+t.ogv+"' />"),f+="<object width='"+i+"' height='"+r+"' type='application/x-shockwave-flash' data='"+s+"'>",f+="<param name='movie' value='"+s+"' />",f+="<param name='flashvars' value='controls=true&file="+t.mp4+"' />",f+="</object>",f+="</video>",jQuery("#"+e).html(f),new MediaElement(u,{enablePluginDebug:!1,flashName:s,silverlightName:l,success:function(e,t){g_isPlayerReady=!0,o=e,0==a&&o.pause(),n()},error:function(e){trace(e)}})}function n(){g_ugFunctions.addEvent(o,"play",function(){a.trigger(r.events.START_PLAYING)}),g_ugFunctions.addEvent(o,"pause",function(){a.trigger(r.events.STOP_PLAYING)}),g_ugFunctions.addEvent(o,"ended",function(){a.trigger(r.events.STOP_PLAYING),a.trigger(r.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var i,o,r=this,a=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugHtml5MediaAPI.isAPILoaded||(e()?(g_ugHtml5MediaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelement.min.js",!0),g_ugFunctions.loadCss("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelementplayer.min.css",!0),void(g_ugHtml5MediaAPI.isAPILoaded=!0)))},this.putVideo=function(n,o,r,a,s){return e()?(t(n,o,r,a,s),!0):(this.loadAPI(),void(i=setInterval(function(){e()&&(t(n,o,r,a,s),clearInterval(i))},500)))},this.doCommand=function(e){if(null==o)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":o.play();break;case"pause":o.pause()}},this.pause=function(){r.doCommand("pause")},this.play=function(){r.doCommand("play")}}function UGVimeoAPI(){function e(){return"undefined"!=typeof Froogaloop}function t(e,t,i,r,a){s=null,l=!1;var u=location.protocol+"//player.vimeo.com/video/"+t+"?api=1";!0===a&&(u+="&amp;byline=0&amp;autoplay=1&amp;title=0&amp;portrait=0");var c="<iframe src="+u+" width='"+i+"' height='"+r+"' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(c);var d=jQuery("#"+e+" iframe")[0];(s=Froogaloop(d)).addEvent("ready",function(){s&&(l=!0,n())}),o=e}function n(){return!!s&&(s.addEvent("cuechange",function(){1==u&&r.play()}),s.addEvent("play",function(){a.trigger(r.events.START_PLAYING)}),s.addEvent("pause",function(){a.trigger(r.events.STOP_PLAYING)}),void s.addEvent("finish",function(){a.trigger(r.events.STOP_PLAYING),a.trigger(r.events.VIDEO_ENDED)}))}this.isAPILoaded=!1;var i,o,r=this,a=jQuery(this),s=null,l=!1,u=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugVimeoAPI.isAPILoaded||(e()?(g_ugVimeoAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("f.vimeocdn.com/js/froogaloop2.min.js",!0),void(g_ugVimeoAPI.isAPILoaded=!0)))},this.doCommand=function(e){return null!=s&&(0!=l&&void s.api(e))},this.pause=function(){r.doCommand("pause")},this.play=function(){r.doCommand("play")},this.destroy=function(){s&&(s.api("unload"),s=null,l=!1),o&&jQuery("#"+o).html("")},this.putVideo=function(n,o,r,a,s){return e()?(t(n,o,r,a,s),!0):(this.loadAPI(),void(i=setInterval(function(){e()&&(t(n,o,r,a,s),clearInterval(i))},500)))},this.isPlayerReady=function(){return!(!l||!s)},this.changeVideo=function(e,t){return 0!=r.isPlayerReady()&&(u=t,void s.api("loadVideo",e))},this.getVideoImages=function(e,t,n){var i=location.protocol+"//vimeo.com/api/v2/video/"+e+".json";jQuery.get(i,{},function(e){var i={};i.preview=e[0].thumbnail_large,i.thumb=e[0].thumbnail_medium,n(t,i)})}}function UGYoutubeAPI(){function e(e,t,o,a,u){s&&l&&s.destroy();var c={controls:2,showinfo:d.video_youtube_showinfo,rel:0};!0===u&&(c.autoplay=1),l=!1,s=new YT.Player(e,{height:a,width:o,videoId:t,playerVars:c,events:{onReady:n,onStateChange:i}}),r=e}function t(){return"undefined"!=typeof YT&&void 0!==YT.Player}function n(){l=!0}function i(){if("function"!=typeof s.getPlayerState)return trace("Youtube API error: can't get player state"),!1;var e=s.getPlayerState();switch(e){case YT.PlayerState.PLAYING:u.trigger(a.events.START_PLAYING);break;case YT.PlayerState.ENDED:u.trigger(a.events.STOP_PLAYING),u.trigger(a.events.VIDEO_ENDED);break;default:c==YT.PlayerState.PLAYING&&u.trigger(a.events.STOP_PLAYING)}c=e}this.isAPILoaded=!1;var o,r,a=this,s=null,l=!1,u=jQuery(this),c=-1,d={video_youtube_showinfo:!0};this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.setOptions=function(e){d=jQuery.extend(d,e)},this.putVideo=function(n,i,r,a,s){return t()?(e(n,i,r,a,s),!0):(this.loadAPI(),void(o=setInterval(function(){t()&&(e(n,i,r,a,s),clearInterval(o))},500)))},this.loadAPI=function(){return 1==g_ugYoutubeAPI.isAPILoaded||("undefined"!=typeof YT?(g_ugYoutubeAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("https://www.youtube.com/player_api",!1),void(g_ugYoutubeAPI.isAPILoaded=!0)))},this.doCommand=function(e,t){if(!s)return!0;if(0==l)return!1;switch(e){case"play":if("function"!=typeof s.playVideo)return!1;s.playVideo();break;case"pause":if("function"!=typeof s.pauseVideo)return!1;s.pauseVideo();break;case"seek":if("function"!=typeof s.seekTo)return!1;s.seekTo(t);break;case"stopToBeginning":var n=s.getPlayerState();switch(s.pauseVideo(),n){case YT.PlayerState.PLAYING:case YT.PlayerState.ENDED:case YT.PlayerState.PAUSED:s.seekTo(0)}}},this.play=function(){a.doCommand("play")},this.pause=function(){a.doCommand("pause")},this.destroy=function(){try{s&&(l=!1,s.clearVideo(),s.destroy())}catch(e){jQuery("#"+r).html("")}},this.stopToBeginning=function(){a.doCommand("stopToBeginning")},this.changeVideo=function(e,t){return 0!=a.isPlayerReady()&&void(t&&1==t?s.loadVideoById(e,0,"large"):s.cueVideoById(e,0,"large"))},this.isPlayerReady=function(){return!(!l||!s)},this.getVideoImages=function(e){var t={};return t.preview="https://i.ytimg.com/vi/"+e+"/sddefault.jpg",t.thumb="https://i.ytimg.com/vi/"+e+"/default.jpg",t}}function UGVideoPlayer(){function e(){p.hide()}function t(){h.trigger(p.events.PLAY_START),d&&d.hide()}function n(){h.trigger(p.events.PLAY_STOP),d&&d.show()}function i(){h.trigger(p.events.VIDEO_ENDED)}function o(){d&&(m.setButtonMobileReady(d),m.setButtonOnClick(d,e)),jQuery(v).on(v.events.START_PLAYING,t),jQuery(v).on(v.events.STOP_PLAYING,n),jQuery(v).on(v.events.VIDEO_ENDED,i),jQuery(b).on(b.events.START_PLAYING,t),jQuery(b).on(b.events.STOP_PLAYING,n),jQuery(b).on(b.events.VIDEO_ENDED,i),jQuery(_).on(_.events.START_PLAYING,t),jQuery(_).on(_.events.STOP_PLAYING,n),jQuery(_).on(_.events.VIDEO_ENDED,i),jQuery(y).on(y.events.START_PLAYING,t),jQuery(y).on(y.events.STOP_PLAYING,n),jQuery(y).on(y.events.VIDEO_ENDED,i),jQuery(w).on(w.events.START_PLAYING,t),jQuery(w).on(w.events.STOP_PLAYING,n),jQuery(w).on(w.events.VIDEO_ENDED,i)}function r(e){var t=["youtube","vimeo","html5","soundcloud","wistia"];for(var n in t){var i=t[n];if(i!=e)switch(i){case"youtube":v.pause(),v.destroy(),l.hide();break;case"vimeo":b.pause(),b.destroy(),u.hide();break;case"html5":_.pause(),c.hide();break;case"soundcloud":y.pause(),y.destroy(),f.hide();break;case"wistia":w.pause(),g.hide()}}}var a,s,l,u,c,d,f,g,p=this,h=jQuery(this),m=new UGFunctions,v=new UGYoutubeAPI,b=new UGVimeoAPI,_=new UGHtml5MediaAPI,y=new UGSoundCloudAPI,w=new UGWistiaAPI,x=null,T={video_enable_closebutton:!0};this.events={SHOW:"video_show",HIDE:"video_hide",PLAY_START:"video_play_start",PLAY_STOP:"video_play_stop",VIDEO_ENDED:"video_ended"};var S={standAloneMode:!1,youtubeInnerID:"",vimeoPlayerID:"",html5PlayerID:"",wistiaPlayerID:"",soundCloudPlayerID:""};this.init=function(e,t,n){if(!(a=n))throw new Error("missing gallery ID for video player, it's a must!");T=jQuery.extend(T,e),v.setOptions(T),t&&1==t&&(S.standAloneMode=!0)},this.setHtml=function(e){S.youtubeInnerID=a+"_youtube_inner",S.vimeoPlayerID=a+"_videoplayer_vimeo",S.html5PlayerID=a+"_videoplayer_html5",S.wistiaPlayerID=a+"_videoplayer_wistia",S.soundCloudPlayerID=a+"_videoplayer_soundcloud";var t="<div class='ug-videoplayer' style='display:none'>";t+="<div class='ug-videoplayer-wrapper ug-videoplayer-youtube' style='display:none'><div id='"+S.youtubeInnerID+"'></div></div>",t+="<div id='"+S.vimeoPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-vimeo' style='display:none'></div>",t+="<div id='"+S.html5PlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-html5'></div>",t+="<div id='"+S.soundCloudPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-soundcloud'></div>",t+="<div id='"+S.wistiaPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-wistia'></div>",0==S.standAloneMode&&1==T.video_enable_closebutton&&(t+="<div class='ug-videoplayer-button-close'></div>"),t+="</div>",e.append(t),s=e.children(".ug-videoplayer"),l=s.children(".ug-videoplayer-youtube"),u=s.children(".ug-videoplayer-vimeo"),c=s.children(".ug-videoplayer-html5"),f=s.children(".ug-videoplayer-soundcloud"),g=s.children(".ug-videoplayer-wistia"),0==S.standAloneMode&&1==T.video_enable_closebutton&&(d=s.children(".ug-videoplayer-button-close"))},this.destroy=function(){d&&(d.off("click"),d.off("touchend")),jQuery(v).off(v.events.START_PLAYING),jQuery(v).off(v.events.STOP_PLAYING),jQuery(b).off(b.events.START_PLAYING),jQuery(b).off(b.events.STOP_PLAYING),jQuery(_).off(_.events.START_PLAYING),jQuery(_).off(_.events.STOP_PLAYING),jQuery(y).off(y.events.START_PLAYING,t),jQuery(y).off(y.events.STOP_PLAYING,n),jQuery(w).off(w.events.START_PLAYING,t),jQuery(w).off(w.events.STOP_PLAYING,n),x=null},this.initEvents=function(){o()},this.setSize=function(e,t){m.setElementSize(s,e,t),d&&m.placeElement(d,"right","top")},this.setPosition=function(e,t){m.placeElement(s,e,t)},this.getObject=function(){return s},this.show=function(){return 1==p.isVisible()||(s.show(),s.fadeTo(0,1),d&&d.show(),void h.trigger(p.events.SHOW))},this.hide=function(){return 0==p.isVisible()||(r(),x=null,s.hide(),void h.trigger(p.events.HIDE))},this.getActiveAPI=function(){switch(x){case"youtube":return v;case"vimeo":return b;case"wistia":return w;case"soundcloud":return y;case"html5":return _;default:return null}},this.pause=function(){var e=p.getActiveAPI();return null!=e&&void("function"==typeof e.pause&&e.pause())},this.isVisible=function(){return s.is(":visible")},this.playYoutube=function(e,t){if(void 0===t)var t=!0;r("youtube"),l.show(),0==l.children("#"+S.youtubeInnerID).length&&l.append("<div id='"+S.youtubeInnerID+"'></div>"),1==v.isPlayerReady()&&1==S.standAloneMode?v.changeVideo(e,t):v.putVideo(S.youtubeInnerID,e,"100%","100%",t),x="youtube"},this.playVimeo=function(e,t){if(void 0===t)var t=!0;r("vimeo"),u.show(),b.putVideo(S.vimeoPlayerID,e,"100%","100%",t),x="vimeo"},this.playHtml5Video=function(e,t,n,i,o){if(void 0===o)var o=!0;r("html5"),c.show();var a={ogv:e,webm:t,mp4:n,posterImage:i};_.putVideo(S.html5PlayerID,a,"100%","100%",o),x="html5"},this.playSoundCloud=function(e,t){if(void 0===t)var t=!0;r("soundcloud"),f.show(),y.putSound(S.soundCloudPlayerID,e,"100%","100%",t),x="soundcloud"},this.playWistia=function(e,t){if(void 0===t)var t=!0;r("wistia"),g.show(),w.putVideo(S.wistiaPlayerID,e,"100%","100%",t),x="wistia"}}function ugCheckForMinJQueryVersion(){if(0==g_ugFunctions.checkMinJqueryVersion("1.8.0"))throw new Error("The gallery can run from jquery 1.8 You have jQuery "+jQuery.fn.jquery+" Please update your jQuery library.")}function ugCheckForErrors(e,t){try{"jquery"==t?(function(){if("undefined"==typeof jQuery)throw new Error("jQuery library not included")}(),ugCheckForMinJQueryVersion()):(ugCheckForMinJQueryVersion(),function(){if("function"==typeof jQuery.fn.unitegallery)return!0;var e="You have some jquery.js library include that comes after the gallery files js include.";throw e+="<br> This include eliminates the gallery libraries, and make it not work.","cms"==t?(e+="<br><br> To fix it you can:<br>&nbsp;&nbsp;&nbsp; 1. In the Gallery Settings -> Troubleshooting set option:  <strong><b>Put JS Includes To Body</b></strong> option to true.",e+="<br>&nbsp;&nbsp;&nbsp; 2. Find the double jquery.js include and remove it."):e+="<br><br> Please find and remove this jquery.js include and the gallery will work. <br> * There should be only one jquery.js include before all other js includes in the page.",new Error(e)}())}catch(o){var n=o.message;if(n="Unite Gallery Error: "+n,n="<div style='font-size:16px;color:#BC0C06;max-width:900px;border:1px solid red;padding:10px;'>"+n+"</div>","jquery"==t){var i=document.getElementById(e);i.innerHTML=n,i.style.display="block"}else jQuery(e).show().html(n);return!1}return!0}function UniteGalleryMain(){function __________INIT_GALLERY_______(){}function getThemeFunction(e){var t=e;return-1==t.indexOf("UGTheme_")&&(t="UGTheme_"+t),t}function initTheme(objCustomOptions){if(objCustomOptions.hasOwnProperty("gallery_theme"))g_options.gallery_theme=objCustomOptions.gallery_theme;else{var defaultTheme=g_options.gallery_theme;0==g_ugFunctions.isThemeRegistered(defaultTheme)&&(g_options.gallery_theme=g_ugFunctions.getFirstRegisteredTheme())}var themeFunction=getThemeFunction(g_options.gallery_theme);try{g_options.gallery_theme=eval(themeFunction)}catch(e){}g_options.gallery_theme=eval(themeFunction),(g_objTheme=new g_options.gallery_theme).init(t,objCustomOptions)}function resetOptions(){g_options=jQuery.extend({},g_temp.originalOptions),g_selectedItemIndex=-1,g_selectedItem=null,g_objSlider=void 0,g_objThumbs=void 0,g_objSlider=void 0}function checkForStartupErrors(){try{ugCheckForMinJQueryVersion()}catch(e){throwErrorShowMessage(e.message)}"object"==typeof g_objWrapper.outerWidth()&&throwErrorShowMessage("You have some buggy script. most chances jquery-ui.js that destroy jquery outerWidth, outerHeight functions. The gallery can't run. Please update jquery-ui.js to latest version."),setTimeout(function(){ugCheckForErrors(g_galleryID,"cms")},5e3)}function runGallery(e,n,i,o){var r="object"==typeof n;if(r&&(g_temp.objCustomOptions=n),1==g_temp.isRunFirstTime){if(g_galleryID=e,0==(g_objWrapper=jQuery(g_galleryID)).length)return trace("div with id: "+g_galleryID+" not found"),!1;g_objParent=g_objWrapper.parent(),checkForStartupErrors(),g_temp.originalOptions=jQuery.extend({},g_options),r&&(g_options=jQuery.extend(g_options,n)),1==g_options.gallery_enable_cache&&g_options.gallery_initial_catid&&cacheItems(g_options.gallery_initial_catid),t.setSizeClass(),fillItemsArray(a=g_objWrapper.children()),loadAPIs(),g_objWrapper.find("img").fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}else if(t.destroy(),resetOptions(),g_options=jQuery.extend(g_options,g_temp.objCustomOptions),i){if(o&&1==g_options.gallery_enable_cache&&cacheItems(o,i),"noitems"==i)return showErrorMessage("No items in this category",""),!1;g_objWrapper.html(i);var a=g_objWrapper.children();fillItemsArray(a),loadAPIs(),g_objWrapper.children().fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}1==g_temp.isRunFirstTime&&1==g_options.gallery_enable_tabs&&(g_objTabs=new UGTabs).init(t,g_options),1==g_temp.isRunFirstTime&&1==g_options.gallery_enable_loadmore&&(g_objLoadMore=new UGLoadMore).init(t,g_options),r&&modifyInitParams(g_temp.objCustomOptions),validateParams(),1==g_options.gallery_shuffle&&t.shuffleItems(),initTheme(g_temp.objCustomOptions),setGalleryHtml(),setHtmlObjectsProperties(),0==g_objWrapper.width()?g_functions.waitForWidth(g_objWrapper,runGalleryActually):runGalleryActually()}function runGalleryActually(){t.setSizeClass(),0==g_temp.isFreestyleMode&&1==g_options.gallery_preserve_ratio&&setHeightByOriginalRatio(),g_objTheme.run(),g_objTabs&&g_temp.isRunFirstTime&&g_objTabs.run(),preloadBigImages(),initEvents(),g_numItems>0&&t.selectItem(0),1==g_options.gallery_autoplay&&t.startPlayMode(),g_temp.isRunFirstTime=!1}function showErrorMessage(e,t){if(void 0===t)var t="<b>Unite Gallery Error: </b>";else t="<b>"+t+": </b>";var n="<div class='ug-error-message-wrapper'><div class='ug-error-message'>"+(e=t+e)+"</div></div>";g_objWrapper.children().remove(),g_objWrapper.html(n),g_objWrapper.show()}function throwErrorShowMessage(e){throw showErrorMessage(e),new Error(e)}function modifyInitParams(){g_options.gallery_images_preload_type||(g_options.gallery_images_preload_type="minimal"),(void 0==g_options.gallery_min_height||g_options.gallery_height<g_options.gallery_min_height)&&(g_options.gallery_min_height=0),(void 0==g_options.gallery_min_width||g_options.gallery_width<g_options.gallery_min_width)&&(g_options.gallery_min_width=0)}function validateParams(){if(!g_options.gallery_theme)throw new Error("The gallery can't run without theme");if(jQuery.isNumeric(g_options.gallery_height)&&g_options.gallery_height<g_options.gallery_min_height)throw new Error("The <b>gallery_height</b> option must be bigger then <b>gallery_min_height option</b>");if(g_options.gallery_width<g_options.gallery_min_width)throw new Error("The <b>gallery_width</b> option must be bigger then <b>gallery_min_width option</b>")}function setGalleryHtml(){g_objWrapper.addClass("ug-gallery-wrapper"),g_objWrapper.append("<div class='ug-overlay-disabled' style='display:none'></div>"),t.setSizeClass()}function clearInitData(){g_objWrapper.children().remove()}function storeLastSize(){var e=t.getSize();g_temp.lastWidth=e.width,g_temp.lastHeight=e.height}function setHeightByOriginalRatio(){var e=t.getSize();if(e.width/e.height!=e.orig_ratio){var n=e.width/e.orig_ratio;(n=Math.round(n))<g_options.gallery_min_height&&(n=g_options.gallery_min_height),g_objWrapper.height(n)}}function setHtmlObjectsProperties(){var e={"max-width":g_functions.getCssSizeParam(g_options.gallery_width),"min-width":g_functions.getCssSizeParam(g_options.gallery_min_width)};if(0==g_temp.isFreestyleMode){var t=g_functions.getCssSizeParam(g_options.gallery_height);e.height=t}else e.overflow="visible";g_options.gallery_background_color&&(e["background-color"]=g_options.gallery_background_color),g_objWrapper.css(e)}function fillItemByChild(e){var n=t.isMobileMode(),i="";if("a"==(o=e.prop("tagName").toLowerCase())){i=e.attr("href");var o=(e=e.children()).prop("tagName").toLowerCase()}var r=e.data("type");void 0==r&&(r="image");var a={};if(a.type=r,"img"==o){var s=e.data("lazyload-src");s&&""!=s&&(e.attr("src",s),jQuery.removeData(e,"lazyload-src"));var l=e.data("image"),u=e.data("thumb");void 0===l&&(l=null),void 0===u&&(u=null);var c=e.attr("src");l||(l=c),u||(u=c),u||(u=l),l||(l=u),a.urlThumb=u,a.urlImage=l,a.title=e.attr("alt"),a.objThumbImage=e,a.objThumbImage.attr("src",a.urlThumb)}else{if("image"==r)throw trace("Problematic gallery item found:"),trace(e),trace("Please look for some third party js script that could add this item to the gallery"),new Error("The item should not be image type");a.urlThumb=e.data("thumb"),a.title=e.data("title"),a.objThumbImage=null,a.urlImage=e.data("image")}if(1==n){var d=e.data("thumb-mobile");void 0!==d&&""!=d&&(a.urlThumb=d,"img"==o&&e.attr("src",a.urlThumb));var f=e.data("image-mobile");void 0!==f&&""!=f&&(a.urlImage=f)}a.link=i,a.description=e.attr("title"),a.description||(a.description=e.data("description")),a.description||(a.description=""),a.isNewAdded=!1,a.isLoaded=!1,a.isThumbImageLoaded=!1,a.objPreloadImage=null,a.isBigImageLoadStarted=!1,a.isBigImageLoaded=!1,a.isBigImageLoadError=!1,a.imageWidth=0,a.imageHeight=0,a.thumbWidth=0,a.thumbHeight=0,a.thumbRatioByWidth=0,a.thumbRatioByHeight=0;var g=e.data("width"),p=e.data("height");g&&"number"==typeof g&&p&&"number"==typeof p&&(a.thumbWidth=g,a.thumbHeight=p,a.thumbRatioByWidth=g/p,a.thumbRatioByHeight=p/g),a.addHtml=null;var h=void 0==a.urlImage||""==a.urlImage,m=void 0==a.urlThumb||""==a.urlThumb;switch(a.type){case"youtube":if(a.videoid=e.data("videoid"),h||m){var v=g_ugYoutubeAPI.getVideoImages(a.videoid);h&&(a.urlImage=v.preview),m&&(a.urlThumb=v.thumb,"img"==o&&e.attr("src",a.urlThumb))}g_temp.isYoutubePresent=!0;break;case"vimeo":a.videoid=e.data("videoid"),g_temp.isVimeoPresent=!0;break;case"html5video":a.videoogv=e.data("videoogv"),a.videowebm=e.data("videowebm"),a.videomp4=e.data("videomp4"),g_temp.isHtml5VideoPresent=!0;break;case"soundcloud":a.trackid=e.data("trackid"),g_temp.isSoundCloudPresent=!0;break;case"wistia":a.videoid=e.data("videoid"),g_temp.isWistiaPresent=!0;break;case"custom":var b=e.children("img");b.length&&(b=jQuery(b[0]),a.urlThumb=b.attr("src"),a.title=b.attr("alt"),a.objThumbImage=b);var _=e.children().not("img:first-child");_.length&&(a.addHtml=_.clone())}return a.objThumbImage&&(a.objThumbImage.removeAttr("data-description",""),a.objThumbImage.removeAttr("data-image",""),a.objThumbImage.removeAttr("data-thumb",""),a.objThumbImage.removeAttr("title","")),a}function fillItemsArray(e,t){if(!0!==t)g_arrItems=[];else for(n=0;g_numItems>n;n++)g_arrItems[n].isNewAdded=!1;for(var n=0;n<e.length;n++){var i=fillItemByChild(jQuery(e[n]));numIndex=g_arrItems.length,i.index=numIndex,!0===t&&(i.isNewAdded=!0),g_arrItems.push(i)}g_numItems=g_arrItems.length}function loadAPIs(){g_temp.isYoutubePresent&&g_ugYoutubeAPI.loadAPI(),g_temp.isVimeoPresent&&g_ugVimeoAPI.loadAPI(),g_temp.isHtml5VideoPresent&&g_ugHtml5MediaAPI.loadAPI(),g_temp.isSoundCloudPresent&&g_ugSoundCloudAPI.loadAPI(),g_temp.isWistiaPresent&&g_ugWistiaAPI.loadAPI()}function preloadBigImages(){if("visible"!=g_options.gallery_images_preload_type||g_objThumbs||(g_options.gallery_images_preload_type="minimal"),1==g_temp.isAllItemsPreloaded)return!0;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":jQuery(g_arrItems).each(function(){preloadItemImage(this)});break;case"visible":jQuery(g_arrItems).each(function(){var e=this;1==g_objThumbs.isItemThumbVisible(e)&&preloadItemImage(e)})}}function checkPreloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!1;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":preloadItemImage(e);break;case"visible":1==g_objThumbs.isItemThumbVisible(e)&&preloadItemImage(e)}}function preloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!0;var n=e.urlImage;return""==n||void 0==n?(e.isBigImageLoadError=!0,!1):(e.isBigImageLoadStarted=!0,e.objPreloadImage=jQuery("<img/>").attr("src",n),e.objPreloadImage.data("itemIndex",e.index),e.objPreloadImage.on("load",t.onItemBigImageLoaded),e.objPreloadImage.on("error",function(){var e=jQuery(this).data("itemIndex"),n=g_arrItems[e];n.isBigImageLoadError=!0,n.isBigImageLoaded=!1;var i=jQuery(this).attr("src");console.log("Can't load image: "+i),g_objGallery.trigger(t.events.ITEM_IMAGE_UPDATED,[e,n.urlImage]),n.objThumbImage.attr("src",n.urlThumb)}),void checkAllItemsStartedPreloading())}function preloadNearBigImages(e){if(1==g_temp.isAllItemsPreloaded)return!1;if(!e)var e=g_selectedItem;if(!e)return!0;var t=e.index,n=t-1,i=t+1;n>0&&preloadItemImage(g_arrItems[n]),g_numItems>i&&preloadItemImage(g_arrItems[i])}function checkAllItemsStartedPreloading(){if(1==g_temp.isAllItemsPreloaded)return!1;for(var e in g_arrItems)if(0==g_arrItems[e].isBigImageLoadStarted)return!1;g_temp.isAllItemsPreloaded=!0}function __________END_INIT_GALLERY_______(){}function __________EVENTS_____________(){}function onSliderMouseEnter(e){1==g_options.gallery_pause_on_mouseover&&0==t.isFullScreen()&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&t.pausePlaying()}function onSliderMouseLeave(e){1==g_options.gallery_pause_on_mouseover&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&0==g_objSlider.isCurrentSlideLoadingImage()&&t.continuePlaying()}function onKeyPress(e){var n=jQuery(e.target);if(n.is("textarea")||n.is("select")||n.is("input"))return!0;var i=e.charCode?e.charCode:e.keyCode?e.keyCode:e.which?e.which:0,o=!0;switch(i){case 39:t.nextItem();break;case 37:t.prevItem();break;default:o=!1}1==o&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),g_objGallery.trigger(t.events.GALLERY_KEYPRESS,[i,e])}function onGalleryResized(){var e=t.getSize();if(0==e.width)return!0;if(t.setSizeClass(),(e=t.getSize()).width!=g_temp.lastWidth||0==g_temp.isFreestyleMode&&e.height!=g_temp.lastHeight){var n=!1;if(g_temp.funcCustomHeight){var i=g_temp.funcCustomHeight(e);i&&(g_objWrapper.height(i),n=!0)}0==n&&1==g_options.gallery_preserve_ratio&&0==g_temp.isFreestyleMode&&setHeightByOriginalRatio(),storeLastSize(),g_objGallery.trigger(t.events.SIZE_CHANGE)}}function onThumbsChange(e){"visible"==g_options.gallery_images_preload_type&&0==g_temp.isAllItemsPreloaded&&preloadBigImages()}function onFullScreenChange(){var e=g_functions.isFullScreen(),n=e?t.events.ENTER_FULLSCREEN:t.events.EXIT_FULLSCREEN,i=g_functions.getGlobalData("fullscreenID");return g_galleryID!==i||(e?g_objWrapper.addClass("ug-fullscreen"):g_objWrapper.removeClass("ug-fullscreen"),g_objGallery.trigger(n),void onGalleryResized())}function onItemImageUpdated(e,n){checkPreloadItemImage(t.getItem(n))}function onCurrentSlideImageLoadEnd(){1==t.isPlayMode()&&t.continuePlaying()}function initEvents(){if(g_objWrapper.on("dragstart",function(e){e.preventDefault()}),g_objGallery.on(t.events.ITEM_IMAGE_UPDATED,onItemImageUpdated),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).on(g_objThumbs.events.STRIP_MOVE,onThumbsChange);break;case"grid":jQuery(g_objThumbs).on(g_objThumbs.events.PANE_CHANGE,onThumbsChange)}"advance"==g_options.gallery_mousewheel_role&&0==g_temp.isFreestyleMode&&g_objWrapper.on("mousewheel",t.onGalleryMouseWheel),storeLastSize(),jQuery(window).resize(function(){g_objWrapper.css("width","auto"),g_functions.whenContiniousEventOver("gallery_resize",onGalleryResized,g_temp.resizeDelay)}),setTimeout(function(){setInterval(onGalleryResized,2e3)},1e4),g_functions.addFullScreenChangeEvent(onFullScreenChange),g_objSlider&&(jQuery(g_objSlider).on(g_objSlider.events.ITEM_CHANGED,function(){var e=g_objSlider.getCurrentItemIndex();-1!=e&&t.selectItem(e)}),1==g_options.gallery_pause_on_mouseover&&(g_objSlider.getElement().hover(onSliderMouseEnter,onSliderMouseLeave),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){onSliderMouseLeave()})),retriggerEvent(g_objSlider,g_objSlider.events.ACTION_START,t.events.SLIDER_ACTION_START),retriggerEvent(g_objSlider,g_objSlider.events.ACTION_END,t.events.SLIDER_ACTION_END),jQuery(g_objSlider).on(g_objSlider.events.CURRENTSLIDE_LOAD_END,onCurrentSlideImageLoadEnd)),1==g_options.gallery_control_keyboard&&jQuery(document).keydown(onKeyPress)}function __________GENERAL_______(){}function cacheItems(e,t){if(t)"noitems"!=(n=t)&&(n=jQuery(t).clone());else var n=g_objWrapper.children().clone();g_objCache[e]=n}function removeAllSizeClasses(e){e||(e=g_objWrapper),e.removeClass("ug-under-480"),e.removeClass("ug-under-780"),e.removeClass("ug-under-960")}function retriggerEvent(e,t,n){jQuery(e).on(t,function(e){g_objGallery.trigger(n,[this])})}function advanceNextStep(){var e=jQuery.now(),n=e-g_temp.playTimeLastStep;if(g_temp.playTimeLastStep=e,0==t.isGalleryVisible())return!1;if(g_temp.playTimePassed+=n,g_temp.objProgress){var i=g_temp.playTimePassed/g_options.gallery_play_interval;g_temp.objProgress.setProgress(i)}g_temp.playTimePassed>=g_options.gallery_play_interval&&(t.nextItem(),g_temp.playTimePassed=0)}function unselectSeletedItem(){return null==g_selectedItem||(g_objThumbs&&g_objThumbs.setThumbUnselected(g_selectedItem.objThumbWrapper),g_selectedItem=null,void(g_selectedItemIndex=-1))}function toFakeFullScreen(){jQuery("body").addClass("ug-body-fullscreen"),g_objWrapper.addClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!0,g_objGallery.trigger(t.events.ENTER_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}function exitFakeFullscreen(){jQuery("body").removeClass("ug-body-fullscreen"),g_objWrapper.removeClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!1,g_objGallery.trigger(t.events.EXIT_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}var t=this,g_galleryID,g_objGallery=jQuery(t),g_objWrapper,g_objParent,g_objThumbs,g_objSlider,g_functions=new UGFunctions,g_objTabs,g_objLoadMore,g_arrItems=[],g_numItems,g_selectedItem=null,g_selectedItemIndex=-1,g_objTheme,g_objCache={};this.events={ITEM_CHANGE:"item_change",SIZE_CHANGE:"size_change",ENTER_FULLSCREEN:"enter_fullscreen",EXIT_FULLSCREEN:"exit_fullscreen",START_PLAY:"start_play",STOP_PLAY:"stop_play",PAUSE_PLAYING:"pause_playing",CONTINUE_PLAYING:"continue_playing",SLIDER_ACTION_START:"slider_action_start",SLIDER_ACTION_END:"slider_action_end",ITEM_IMAGE_UPDATED:"item_image_updated",GALLERY_KEYPRESS:"gallery_keypress",GALLERY_BEFORE_REQUEST_ITEMS:"gallery_before_request_items",OPEN_LIGHTBOX:"open_lightbox",CLOSE_LIGHTBOX:"close_lightbox"};var g_options={gallery_width:900,gallery_height:500,gallery_min_width:150,gallery_min_height:100,gallery_theme:"default",gallery_skin:"default",gallery_images_preload_type:"minimal",gallery_autoplay:!1,gallery_play_interval:3e3,gallery_pause_on_mouseover:!0,gallery_mousewheel_role:"zoom",gallery_control_keyboard:!0,gallery_carousel:!0,gallery_preserve_ratio:!0,gallery_background_color:"",gallery_debug_errors:!1,gallery_shuffle:!1,gallery_urlajax:null,gallery_enable_tabs:!1,gallery_enable_loadmore:!1,gallery_enable_cache:!0,gallery_initial_catid:""},g_temp={objCustomOptions:{},isAllItemsPreloaded:!1,isFreestyleMode:!1,lastWidth:0,lastHeigh:0,handleResize:null,isInited:!1,isPlayMode:!1,isPlayModePaused:!1,playTimePassed:0,playTimeLastStep:0,playHandle:"",playStepInterval:33,objProgress:null,isFakeFullscreen:!1,thumbsType:null,isYoutubePresent:!1,isVimeoPresent:!1,isHtml5VideoPresent:!1,isSoundCloudPresent:!1,isWistiaPresent:!1,resizeDelay:100,isRunFirstTime:!0,originalOptions:{},funcCustomHeight:null};this.onItemBigImageLoaded=function(e,t){if(!t)var t=jQuery(this);var n=t.data("itemIndex"),i=g_arrItems[n];i.isBigImageLoaded=!0;var o=g_functions.getImageOriginalSize(t);i.imageWidth=o.width,i.imageHeight=o.height},this.checkFillImageSize=function(e,t){if(!t){var n=e.data("itemIndex");if(void 0===n)throw new Error("Wrong image given to gallery.checkFillImageSize");var t=g_arrItems[n]}var i=g_functions.getImageOriginalSize(e);t.imageWidth=i.width,t.imageHeight=i.height},this.setFreestyleMode=function(){g_temp.isFreestyleMode=!0},this.attachThumbsPanel=function(e,t){g_temp.thumbsType=e,g_objThumbs=t},this.initSlider=function(e,n){if(!e)var e={};e=jQuery.extend(g_temp.objCustomOptions,e),(g_objSlider=new UGSlider).init(t,e,n)},this.onGalleryMouseWheel=function(e,n,i,o){e.preventDefault(),n>0?t.prevItem():t.nextItem()},this.destroy=function(){if(g_objWrapper.off("dragstart"),g_objGallery.off(t.events.ITEM_IMAGE_UPDATED),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).off(g_objThumbs.events.STRIP_MOVE);break;case"grid":jQuery(g_objThumbs).off(g_objThumbs.events.PANE_CHANGE)}if(g_objWrapper.off("mousewheel"),jQuery(window).off("resize"),g_functions.destroyFullScreenChangeEvent(),g_objSlider){jQuery(g_objSlider).off(g_objSlider.events.ITEM_CHANGED);var e=g_objSlider.getElement();e.off("mouseenter"),e.off("mouseleave"),g_objGallery.off(t.events.ENTER_FULLSCREEN),jQuery(g_objSlider).off(g_objSlider.events.ACTION_START),jQuery(g_objSlider).off(g_objSlider.events.ACTION_END),jQuery(g_objSlider).off(g_objSlider.events.CURRENTSLIDE_LOAD_END)}1==g_options.gallery_control_keyboard&&jQuery(document).off("keydown"),g_objTheme&&"function"==typeof g_objTheme.destroy&&g_objTheme.destroy(),g_objWrapper.html("")},this.getArrItems=function(){return g_arrItems},this.getObjects=function(){return{g_galleryID:g_galleryID,g_objWrapper:g_objWrapper,g_objThumbs:g_objThumbs,g_objSlider:g_objSlider,g_options:g_options,g_arrItems:g_arrItems,g_numItems:g_numItems}},this.getObjSlider=function(){return g_objSlider},this.getItem=function(e){if(0>e)throw new Error("item with index: "+e+" not found");if(e>=g_numItems)throw new Error("item with index: "+e+" not found");return g_arrItems[e]},this.getWidth=function(){return t.getSize().width},this.getHeight=function(){return t.getSize().height},this.getSize=function(){var e=g_functions.getElementSize(g_objWrapper);return e.orig_width=g_options.gallery_width,e.orig_height=g_options.gallery_height,e.orig_ratio=e.orig_width/e.orig_height,e},this.getGalleryID=function(){return g_galleryID.replace("#","")},this.getNextItem=function(e,t){"object"==typeof e&&(e=e.index);var n=e+1;if(!0!==t&&1==g_numItems)return null;if(n>=g_numItems){if(1!=g_options.gallery_carousel&&!0!==t)return null;n=0}return g_arrItems[n]},this.getPrevItem=function(e){"object"==typeof e&&(e=e.index);var t=e-1;if(0>t){if(1!=g_options.gallery_carousel&&!0!==forceCarousel)return null;t=g_numItems-1}return g_arrItems[t]},this.getSelectedItem=function(){return g_selectedItem},this.getSelectedItemIndex=function(){return g_selectedItemIndex},this.getNumItems=function(){return g_numItems},this.isLastItem=function(){return g_selectedItemIndex==g_numItems-1},this.isFirstItem=function(){return 0==g_selectedItemIndex},this.getOptions=function(){return g_options},this.getElement=function(){return g_objWrapper},this.___________SET_CONTROLS___________=function(){},this.setNextButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.nextItem)},this.setPrevButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.prevItem)},this.setFullScreenToggleButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnTap(e,t.toggleFullscreen),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){e.addClass("ug-fullscreenmode")}),g_objGallery.on(t.events.EXIT_FULLSCREEN,function(){e.removeClass("ug-fullscreenmode")})},this.destroyFullscreenButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.ENTER_FULLSCREEN),g_objGallery.off(t.events.EXIT_FULLSCREEN)},this.setPlayButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.togglePlayMode),g_objGallery.on(t.events.START_PLAY,function(){e.addClass("ug-stop-mode")}),g_objGallery.on(t.events.STOP_PLAY,function(){e.removeClass("ug-stop-mode")})},this.destroyPlayButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.START_PLAY),g_objGallery.off(t.events.STOP_PLAY)},this.setProgressIndicator=function(e){g_temp.objProgress=e},this.setTextContainers=function(e,n){g_objGallery.on(t.events.ITEM_CHANGE,function(){var i=t.getSelectedItem();e.html(i.title),n.html(i.description)})},this.showDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").show()},this.hideDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").hide()},this.___________END_SET_CONTROLS___________=function(){},this.___________PLAY_MODE___________=function(){},this.startPlayMode=function(){if(g_temp.isPlayMode=!0,g_temp.isPlayModePaused=!1,g_temp.playTimePassed=0,g_temp.playTimeLastStep=jQuery.now(),g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval),g_temp.objProgress){var e=g_temp.objProgress.getElement();g_temp.objProgress.setProgress(0),e.show()}g_objGallery.trigger(t.events.START_PLAY),g_objSlider&&1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying()},this.resetPlaying=function(){return 0==g_temp.isPlayMode||(g_temp.playTimePassed=0,void(g_temp.playTimeLastStep=jQuery.now()))},this.pausePlaying=function(){return 1==g_temp.isPlayModePaused||(g_temp.isPlayModePaused=!0,clearInterval(g_temp.playHandle),void g_objGallery.trigger(t.events.PAUSE_PLAYING))},this.continuePlaying=function(){return 0==g_temp.isPlayModePaused||(g_temp.isPlayModePaused=!1,g_temp.playTimeLastStep=jQuery.now(),void(g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval)))},this.stopPlayMode=function(){g_temp.isPlayMode=!1,clearInterval(g_temp.playHandle),g_temp.playTimePassed=0,g_temp.objProgress&&g_temp.objProgress.getElement().hide(),g_objGallery.trigger(t.events.STOP_PLAY)},this.isPlayMode=function(){return g_temp.isPlayMode},this.togglePlayMode=function(){0==t.isPlayMode()?t.startPlayMode():t.stopPlayMode()},this.___________GENERAL_EXTERNAL___________=function(){},this.shuffleItems=function(){g_arrItems=g_functions.arrayShuffle(g_arrItems);for(var e in g_arrItems)g_arrItems[e].index=parseInt(e)},this.setOptions=function(e){g_options=jQuery.extend(g_options,e)},this.selectItem=function(e,n){"number"==typeof e&&(e=t.getItem(e));var i=e.index;if(i==g_selectedItemIndex)return!0;unselectSeletedItem(),g_selectedItem=e,g_selectedItemIndex=i,g_objGallery.trigger(t.events.ITEM_CHANGE,[e,n]),1==g_temp.isPlayMode&&(t.resetPlaying(),1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying())},this.nextItem=function(){var e=g_selectedItemIndex+1;return 0==g_numItems||(0==g_options.gallery_carousel&&e>=g_numItems||(e>=g_numItems&&(e=0),void t.selectItem(e,"next")))},this.prevItem=function(){var e=g_selectedItemIndex-1;return-1==g_selectedItemIndex&&(e=0),0==g_numItems||(0==g_options.gallery_carousel&&0>e||(0>e&&(e=g_numItems-1),void t.selectItem(e,"prev")))},this.isFullScreen=function(){return 1==g_temp.isFakeFullscreen||1==g_functions.isFullScreen()},this.isFakeFullscreen=function(){return g_temp.isFakeFullscreen},this.toFullScreen=function(){g_functions.setGlobalData("fullscreenID",g_galleryID);var e=g_objWrapper.get(0);0==g_functions.toFullscreen(e)&&toFakeFullScreen()},this.exitFullScreen=function(){1==g_temp.isFakeFullscreen?exitFakeFullscreen():g_functions.exitFullscreen()},this.toggleFullscreen=function(){0==t.isFullScreen()?t.toFullScreen():t.exitFullScreen()},this.resize=function(e,t,n){g_objWrapper.css("width","auto"),g_objWrapper.css("max-width",e+"px"),t&&g_objWrapper.height(t),n||!0===n||onGalleryResized()},this.setSizeClass=function(e,n){if(!e)var e=g_objWrapper;if(!n)var i=t.getSize(),n=i.width;if(0==n)n=jQuery(window).width();var o="";return 480>=n?o="ug-under-480":780>=n?o="ug-under-780":960>n&&(o="ug-under-960"),1==e.hasClass(o)||(removeAllSizeClasses(e),void(""!=o&&e.addClass(o)))},this.isMobileMode=function(){return!!g_objWrapper.hasClass("ug-under-480")},this.isSmallWindow=function(){var e=jQuery(window).width();return!e||480>=e},this.isGalleryVisible=function(){return g_objWrapper.is(":visible")},this.changeItems=function(e,t){if(!e)var e="noitems";runGallery(g_galleryID,"nochange",e,t)},this.addItems=function(e){if(!e||0==e.length)return!1;var t=g_objWrapper.children(".ug-newitems-wrapper");if(0==t.length&&g_objWrapper.append("<div class='ug-newitems-wrapper' style='display:none'></div>"),(t=g_objWrapper.children(".ug-newitems-wrapper")).append(e),fillItemsArray(jQuery(t.children()),!0),loadAPIs(),!g_objTheme||"function"!=typeof g_objTheme.addItems)throw new Error("addItems function not found in the theme");t.remove(),g_objTheme.addItems()},this.getNewAddedItemsIndexes=function(){var e=[];return jQuery.each(g_arrItems,function(t,n){1==n.isNewAdded&&e.push(t)}),e},this.showErrorMessageReplaceGallery=function(e){showErrorMessage(e)},this.setFuncCustomHeight=function(e){g_temp.funcCustomHeight=e},this.__________EXTERNAL_EVENTS_______=function(){},this.triggerEvent=function(e,t){t?("array"!=jQuery.type(t)&&(t=[t]),g_objGallery.trigger(e,t)):g_objGallery.trigger(e)},this.onEvent=function(e,t){g_objGallery.on(e,t)},this.destroyEvent=function(e){g_objGallery.off(e)},this.__________AJAX_REQUEST_______=function(){},this.ajaxRequest=function(e,t,n,i){if(!n||"function"!=typeof n)throw new Error("ajaxRequest error: success function should be passed");var o=g_options.gallery_urlajax;if(!o||""==o)throw new Error("ajaxRequest error: Ajax url don't passed");if(void 0===t)var t={};var r={action:"unitegallery_ajax_action",client_action:e,galleryID:g_galleryID,data:t};jQuery.ajax({type:"post",url:g_options.gallery_urlajax,dataType:"json",data:r,success:function(e){if(!e)throw new Error("Empty ajax response!");if(-1==e||0===e)throw new Error("ajax error!!!");if(void 0===e.success)throw new Error("ajax error!!!");return 0==e.success?(showErrorMessage(e.message,"ajax error"),!1):void n(e)},error:function(e,t,n){console.log("Ajax Error!!! "+t),responseText=e.responseText,i&&"function"==typeof i?i(responseText):trace(responseText)}})},this.requestNewItems=function(e,n,i){var o=g_options.gallery_enable_cache;if(i||(i=e),1==n&&(o=!1),1==o&&g_objCache.hasOwnProperty(i)){var r=g_objCache[i];t.changeItems(r,i)}else g_objGallery.trigger(t.events.GALLERY_BEFORE_REQUEST_ITEMS),t.ajaxRequest("front_get_cat_items",{catid:e},function(e){var n=e.html;t.changeItems(n,i)})},this.run=function(e,t){if(g_options.gallery_debug_errors,t&&t.hasOwnProperty("gallery_debug_errors")&&(g_options.gallery_debug_errors=t.gallery_debug_errors),1==g_options.gallery_debug_errors)try{runGallery(e,t)}catch(e){if("object"==typeof e){var n=e.message,i=e.lineNumber,o=e.fileName;e.stack,n+=" <br><br> in file: "+o,n+=" <b> line "+i+"</b>",trace(e)}else n=e;showErrorMessage(n=n.replace("Error:",""))}else runGallery(e,t)}}function UGLightbox(){function e(e,n){ne=e,U=jQuery(e),ae=jQuery.extend(ae,le),ae=jQuery.extend(ae,n),se.originalOptions=jQuery.extend({},ae),"compact"==ae.lightbox_type&&(se.isCompact=!0,ae=jQuery.extend(ae,ue),ae=jQuery.extend(ae,n)),t(),1==se.putSlider?(ne.initSlider(ae,"lightbox"),g_objects=e.getObjects(),ie=g_objects.g_objSlider):ie=null,1==ae.lightbox_show_textpanel?re.init(ne,ae,"lightbox"):re=null}function t(){1==se.isCompact&&1==ae.lightbox_show_textpanel&&(ae.lightbox_slider_image_padding_bottom=se.initTextPanelHeight),1==se.isCompact&&"inside"==ae.lightbox_arrows_position&&(se.isArrowsInside=!0),1==se.isArrowsInside&&0==ae.lightbox_arrows_inside_alwayson&&(se.isArrowsOnHoverMode=!0),0==ae.lightbox_show_textpanel&&(se.isTopPanelEnabled=!1,se.topPanelHeight=0,ae.lightbox_slider_image_padding_top=0)}function n(){var e="",t="";1==se.isCompact&&(t=" ug-lightbox-compact"),e+="<div class='ug-gallery-wrapper ug-lightbox"+t+"'>",e+="<div class='ug-lightbox-overlay'></div>",0==se.isCompact&&se.isTopPanelEnabled?(e+="<div class='ug-lightbox-top-panel'>",e+="<div class='ug-lightbox-top-panel-overlay'></div>",ae.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),e+="</div>"):ae.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),e+="<div class='ug-lightbox-button-close'></div>",e+="<div class='ug-lightbox-arrow-left'></div>",e+="<div class='ug-lightbox-arrow-right'></div>",e+="</div>",V=jQuery(e),jQuery("body").append(V),ie&&ie.setHtml(V),Y=V.children(".ug-lightbox-overlay"),0==se.isCompact&&1==se.isTopPanelEnabled&&0==(J=V.children(".ug-lightbox-top-panel")).length&&(J=null),Z=V.find(".ug-lightbox-button-close"),ae.lightbox_show_numbers&&(K=V.find(".ug-lightbox-numbers")),$=V.children(".ug-lightbox-arrow-left"),X=V.children(".ug-lightbox-arrow-right"),re&&(J?re.appendHTML(J):re.appendHTML(V))}function i(){if(null!==ae.lightbox_overlay_color&&Y.css("background-color",ae.lightbox_overlay_color),null!==ae.lightbox_overlay_opacity&&Y.fadeTo(0,ae.lightbox_overlay_opacity),J&&null!==ae.lightbox_top_panel_opacity&&J.children(".ug-lightbox-top-panel-overlay").fadeTo(0,ae.lightbox_top_panel_opacity),K){var e={};null!==ae.lightbox_numbers_size&&(e["font-size"]=ae.lightbox_numbers_size+"px"),ae.lightbox_numbers_color&&(e.color=ae.lightbox_numbers_color),null!==ae.lightbox_numbers_padding_right&&(e["padding-right"]=ae.lightbox_numbers_padding_right+"px"),null!==ae.lightbox_numbers_padding_top&&(e["padding-top"]=ae.lightbox_numbers_padding_top+"px"),K.css(e)}}function o(e){if(!ie)return!0;var t={slider_image_padding_top:e};ie.setOptions(t),ie.refreshSlideItems()}function r(e){if(!J)return!1;if(!re)return!1;var t=J.height();if(0==t)return!1;if(0==J.is(":visible"))return!1;var n=t,i=re.getSize().height;t!=se.topPanelHeight&&(n=se.topPanelHeight),i>n&&(n=i),t!=n&&(J.height(n),ie&&0==ie.isAnimating()&&o(n))}function a(e){var t={},n=ae.lightbox_textpanel_width;n>e.width-47-40?(t.textpanel_padding_left=47,t.textpanel_padding_right=40,t.textpanel_title_text_align="center",t.textpanel_desc_text_align="center"):(t.textpanel_padding_left=Math.floor((e.width-n)/2),t.textpanel_padding_right=t.textpanel_padding_left,t.textpanel_title_text_align="left",t.textpanel_desc_text_align="left",ae.lightbox_textpanel_title_text_align&&(t.textpanel_title_text_align=ae.lightbox_textpanel_desc_text_align),ae.lightbox_textpanel_desc_text_align&&(t.textpanel_desc_text_align=ae.lightbox_textpanel_desc_text_align)),re.setOptions(t),re.refresh(!0,!0),r("positionTextPanelWide"),re.positionPanel()}function s(){return!!J&&void J.hide()}function l(){return!!J&&void J.show()}function u(e){if(0==se.isOpened)return!1;if(!re)return!1;if(!ie)return!1;var t=oe.getElementSize(V),n=re.getSize();if(0==n.width||n.height>120)return!1;if(!e)var i=ie.getSlideImage(),e=oe.getElementSize(i);if(0==e.height||0==e.width)return!1;if(e.bottom+n.height<t.height)return!1;var o=ie.getOptions(),r=n.height;if(r!=o.slider_image_padding_bottom){var a={slider_image_padding_bottom:r};if(0==ie.isAnimating())return ie.setOptions(a),ie.refreshSlideItems(),!0}return!1}function c(e,t){if(!e)var n=ie.getSlideImage(),e=oe.getElementSize(n);se.textPanelTop=e.bottom,!0===t&&re.positionPanel(se.textPanelTop,se.textPanelLeft)}function d(e){var t=(oe.getElementSize(V),ie.getSlideImage()),n=oe.getElementSize(t);if(0==n.width)return!1;se.textPanelLeft=n.left,se.textPanelTop=n.bottom;var i=n.width;if(K){var o=oe.getElementSize(K);i-=o.width;var r=n.right-o.width;oe.placeElement(K,r,se.textPanelTop)}re&&(re.show(),re.refresh(!0,!0,i),c(n)),0==u(n)&&(se.positionFrom="handleCompactTextpanelSizes",re&&(re.positionPanel(se.textPanelTop,se.textPanelLeft),!0===e&&(e(),P())))}function f(){return 0==ie.isCurrentSlideType("image")||1==ie.isCurrentImageInPlace()}function g(e,t){if(0==se.isArrowsInside)return!1;if(!$)return!1;var n=f();if($.show(),X.show(),se.positionFrom="positionArrowsInside",1==se.isArrowsOnHoverMode&&1==n&&0==y()&&w(!0),0==n)var i=oe.getElementRelativePos($,"left",ae.lightbox_arrows_offset),o=oe.getElementRelativePos($,"middle"),r=oe.getElementRelativePos(X,"right",ae.lightbox_arrows_offset),a=o;else var s=ie.getSlideImage(),l=oe.getElementSize(s),i=(oe.getElementSize(ie.getElement()),oe.getElementRelativePos($,"left",0,s)+l.left+ae.lightbox_arrows_inside_offset),o=oe.getElementRelativePos($,"middle",0,s)+l.top,r=oe.getElementRelativePos($,"right",0,s)+l.left-ae.lightbox_arrows_inside_offset,a=o;if(!0===t){var u={left:i,top:o},c={left:r,top:a};$.stop().animate(u,{duration:se.fadeDuration}),X.stop().animate(c,{duration:se.fadeDuration})}else $.stop(),X.stop(),oe.placeElement($,i,o),oe.placeElement(X,r,a);1==e&&T(t)}function p(e,t){se.positionFrom=null;var n=f(),i=oe.getElementRelativePos(Z,"right",2,V);if(0==n)var o=2,r=i;else{var a=ie.getSlideImage(),s=oe.getElementSize(a),l=oe.getElementSize(ie.getElement()),u=oe.getElementSize(Z);l.top==l.height&&(l.top=0);r=l.left+s.right-u.width/2+ae.lightbox_compact_closebutton_offsetx;2>(o=l.top+s.top-u.height/2-ae.lightbox_compact_closebutton_offsety)&&(o=2),r>i&&(r=i)}if(!0===t){var c={left:r,top:o};Z.stop().animate(c,{duration:se.fadeDuration})}else Z.stop(),oe.placeElement(Z,r,o);!0===e&&S(t)}function h(){Z&&Z.stop().fadeTo(se.fadeDuration,0),b(),_(),se.positionFrom="hideCompactElements",1==se.isArrowsInside&&w()}function m(){Z&&Z.hide(),$&&1==se.isArrowsInside&&($.hide(),X.hide()),K&&K.hide(),re&&re.hide()}function v(){var e=oe.getElementSize(V);J&&oe.setElementSizeAndPosition(J,0,0,e.width,se.topPanelHeight),$&&0==se.isArrowsInside&&(1==ae.lightbox_hide_arrows_onvideoplay&&($.show(),X.show()),oe.placeElement($,"left","middle",ae.lightbox_arrows_offset),oe.placeElement(X,"right","middle",ae.lightbox_arrows_offset)),0==se.isCompact&&oe.placeElement(Z,"right","top",2,2),re&&(se.positionFrom="positionElements",0==se.isCompact?a(e):(I(),P()));var t=e.width,n=e.height;if(ie){if(J){var i={slider_image_padding_top:J.height()};ie.setOptions(i)}ie.setSize(t,n),ie.setPosition(0,0)}}function b(){re&&re.getElement().stop().fadeTo(se.fadeDuration,0)}function _(){K&&K.stop().fadeTo(se.fadeDuration,0)}function y(){if(!se.lastMouseX)return!0;var e={pageX:se.lastMouseX,pageY:se.lastMouseY};return ie.isMouseInsideSlideImage(e)}function w(e,t){return!!$&&(1==se.isArrowsOnHoverMode&&!1===t?(y(),!0):void(!0===e?($.stop().fadeTo(0,0),X.stop().fadeTo(0,0)):($.stop().fadeTo(se.fadeDuration,0),X.stop().fadeTo(se.fadeDuration,0))))}function x(){return!$||(0==$.is(":visible")||1!=$.css("opacity"))}function T(e,t){return!!$&&(1==se.isArrowsOnHoverMode&&!0!==t&&1==f()||(1==ie.isSwiping()||(!0!==e&&($.stop(),X.stop()),$.fadeTo(se.fadeDuration,1),void X.fadeTo(se.fadeDuration,1))))}function S(e){!0!==e&&Z.stop(),Z.fadeTo(se.fadeDuration,1)}function C(e){if(!re)return!1;if(!e)var e=ie.getCurrentItem();re.setTextPlain(e.title,e.description)}function E(e){if(!K)return!1;if(!e)var e=ie.getCurrentItem();var t=ne.getNumItems(),n=e.index+1;K.html(n+" / "+t)}function I(){return!!re&&void re.getElement().show().stop().fadeTo(se.fadeDuration,1)}function P(){K&&K.stop().fadeTo(se.fadeDuration,1)}function k(){return 0==se.isCompact||void h()}function A(){if(0==se.isCompact)return!0;se.positionFrom="onZoomChange",p(!1,!0),g(!1,!0),1==se.isCompact&&(0==(ie.isCurrentSlideType("image")&&1==ie.isCurrentImageInPlace())?(b(),_()):(se.positionFrom="onZoomChange",I(),P()))}function j(){if(0==se.isCompact)return!0;se.positionFrom="onSliderAfterReturn",p(!0),g(!0),0==u()&&d(),I(),P()}function O(e,t){return t=jQuery(t),0==se.isCompact||(0==ie.isSlideCurrent(t)||(se.positionFrom="onSliderAfterPutImage",p(!0),g(!0),void d()))}function M(){var e=ie.getOptions().slider_image_padding_top;if(J){var t=J.height();t!=e&&o(t)}1==se.isCompact&&(C(),E(),se.positionFrom="onSliderTransitionEnd",p(!0),g(!0),0==ie.isSlideActionActive()&&0==u()&&d(),I(),P())}function R(e,t){0==se.isCompact?(K&&E(t),re&&(C(t),0==se.isRightNowOpened&&(re.positionElements(!1),r("onchange"),re.positionPanel()))):0==ie.isAnimating()&&(re&&C(t),K&&E(t)),0==se.isSliderChangedOnce&&(se.isSliderChangedOnce=!0,te.trigger(ee.events.LIGHTBOX_INIT))}function D(e,t){return!("image"==ie.getSlideType()||0!=se.isCompact||!ie.isSlideActionActive())||(1==ie.isPreloading()?(ee.close("slider"),!0):void(1==ae.lightbox_close_on_emptyspace&&0==ie.isMouseInsideSlideImage(t)&&ee.close("slider_inside")))}function N(){v()}function z(){J?s():K&&K.hide(),$&&1==ae.lightbox_hide_arrows_onvideoplay&&($.hide(),X.hide())}function L(){J?(l(),r("onStopVideo")):K&&K.show(),$&&1==ae.lightbox_hide_arrows_onvideoplay&&($.show(),X.show())}function H(e,t,n){var i=!1;switch(t){case 27:1==se.isOpened&&ee.close("keypress");break;case 38:case 40:case 33:case 34:i=!0}1==se.isOpened&&1==i&&n.preventDefault()}function F(){1==se.isArrowsOnHoverMode&&T(!1,!0)}function W(e){se.positionFrom="hideCompactElements",1==se.isArrowsOnHoverMode&&1==f()&&w(!1,!0)}function G(e){se.lastMouseX=e.pageX,se.lastMouseY=e.pageY,1==x()&&y()&&0==ie.isAnimating()&&(se.positionFrom="onMouseMove",$&&0==$.is(":animated")&&T(!1,!0))}function Q(e,t,n,i){if(0==se.isOpened)return!0;switch(ae.gallery_mousewheel_role){default:case"zoom":"image"!=ie.getSlideType()&&e.preventDefault();break;case"none":e.preventDefault();break;case"advance":ne.onGalleryMouseWheel(e,t,n,i)}}function B(){if(Y.on("touchstart",function(e){e.preventDefault()}),Y.on("touchend",function(e){ee.close("overlay")}),oe.addClassOnHover(X,"ug-arrow-hover"),oe.addClassOnHover($,"ug-arrow-hover"),oe.addClassOnHover(Z),ne.setNextButton(X),ne.setPrevButton($),Z.click(function(){ee.close("button")}),U.on(ne.events.ITEM_CHANGE,R),ie){jQuery(ie).on(ie.events.TRANSITION_END,M),jQuery(ie).on(ie.events.CLICK,D);var e=ie.getVideoObject();jQuery(e).on(e.events.PLAY_START,z),jQuery(e).on(e.events.PLAY_STOP,L),jQuery(ie).on(ie.events.START_DRAG,k),jQuery(ie).on(ie.events.TRANSITION_START,k),jQuery(ie).on(ie.events.AFTER_DRAG_CHANGE,j),jQuery(ie).on(ie.events.AFTER_RETURN,j),jQuery(ie).on(ie.events.AFTER_PUT_IMAGE,O),jQuery(ie).on(ie.events.ZOOM_CHANGE,A),jQuery(ie).on(ie.events.IMAGE_MOUSEENTER,F),jQuery(ie).on(ie.events.IMAGE_MOUSELEAVE,W)}jQuery(window).resize(function(){return 0==se.isOpened||void oe.whenContiniousEventOver("lightbox_resize",N,100)}),U.on(ne.events.GALLERY_KEYPRESS,H),1==se.isArrowsOnHoverMode&&jQuery(document).bind("mousemove",G),V.on("mousewheel",Q)}function q(){se.isCompact=!1,t(),se.isArrowsInside=!1,se.isArrowsOnHoverMode=!1,(ae=jQuery.extend({},se.originalOptions)).lightbox_arrows_position="sides",ie.setOptions(ae)}var U,V,Y,$,X,Z,K,J,ee=this,te=jQuery(this),ne=new UniteGalleryMain,ie=new UGSlider,oe=new UGFunctions,re=new UGTextPanel,ae={lightbox_type:"wide",lightbox_show_textpanel:!0,lightbox_textpanel_width:550,lightbox_hide_arrows_onvideoplay:!0,lightbox_arrows_position:"sides",lightbox_arrows_offset:10,lightbox_arrows_inside_offset:10,lightbox_arrows_inside_alwayson:!1,lightbox_overlay_color:null,lightbox_overlay_opacity:1,lightbox_top_panel_opacity:null,lightbox_show_numbers:!0,lightbox_numbers_size:null,lightbox_numbers_color:null,lightbox_numbers_padding_top:null,lightbox_numbers_padding_right:null,lightbox_compact_closebutton_offsetx:1,lightbox_compact_closebutton_offsety:1,lightbox_close_on_emptyspace:!0};this.events={LIGHTBOX_INIT:"lightbox_init"};var se={topPanelHeight:44,initTextPanelHeight:26,isOpened:!1,isRightNowOpened:!1,putSlider:!0,isCompact:!1,fadeDuration:300,positionFrom:null,textPanelTop:null,textPanelLeft:null,isArrowsInside:!1,isArrowsOnHoverMode:!1,lastMouseX:null,lastMouseY:null,originalOptions:null,isSliderChangedOnce:!1,isTopPanelEnabled:!0},le={lightbox_slider_controls_always_on:!0,lightbox_slider_enable_bullets:!1,lightbox_slider_enable_arrows:!1,lightbox_slider_enable_progress_indicator:!1,lightbox_slider_enable_play_button:!1,lightbox_slider_enable_fullscreen_button:!1,lightbox_slider_enable_zoom_panel:!1,lightbox_slider_enable_text_panel:!1,lightbox_slider_scale_mode_media:"down",lightbox_slider_scale_mode:"down",lightbox_slider_loader_type:3,lightbox_slider_loader_color:"black",lightbox_slider_transition:"fade",lightbox_slider_image_padding_top:se.topPanelHeight,lightbox_slider_image_padding_bottom:0,lightbox_slider_video_padding_top:0,lightbox_slider_video_padding_bottom:0,lightbox_textpanel_align:"middle",lightbox_textpanel_padding_top:5,lightbox_textpanel_padding_bottom:5,slider_video_constantsize:!1,lightbox_slider_image_border:!1,lightbox_textpanel_enable_title:!0,lightbox_textpanel_enable_description:!1,lightbox_textpanel_desc_style_as_title:!0,lightbox_textpanel_enable_bg:!1,video_enable_closebutton:!1,lightbox_slider_video_enable_closebutton:!1,video_youtube_showinfo:!1,lightbox_slider_enable_links:!1},ue={lightbox_overlay_opacity:.6,lightbox_slider_image_border:!0,lightbox_slider_image_shadow:!0,lightbox_slider_image_padding_top:30,lightbox_slider_image_padding_bottom:30,slider_video_constantsize:!0,lightbox_textpanel_align:"bottom",lightbox_textpanel_title_text_align:"left",lightbox_textpanel_desc_text_align:"left",lightbox_textpanel_padding_left:10,lightbox_textpanel_padding_right:10};this.destroy=function(){if(jQuery(document).unbind("mousemove"),Y.off("touchstart"),Y.off("touchend"),Z.off("click"),U.off(ne.events.ITEM_CHANGE),ie){jQuery(ie).off(ie.events.TRANSITION_END),jQuery(ie).off(ie.events.CLICK),jQuery(ie).off(ie.events.START_DRAG),jQuery(ie).off(ie.events.TRANSITION_START),jQuery(ie).off(ie.events.AFTER_DRAG_CHANGE),jQuery(ie).off(ie.events.AFTER_RETURN);var e=ie.getVideoObject();jQuery(e).off(e.events.PLAY_START),jQuery(e).off(e.events.PLAY_STOP),jQuery(ie).on(ie.events.IMAGE_MOUSEENTER,F),jQuery(ie).on(ie.events.IMAGE_MOUSELEAVE,W),ie.destroy()}jQuery(window).unbind("resize"),U.off(ne.events.GALLERY_KEYPRESS,H),V.off("mousewheel"),V.remove()},this.open=function(e){var t=ne.getItem(e);se.isOpened=!0,se.isRightNowOpened=!0,setTimeout(function(){se.isRightNowOpened=!1},100),ie&&ie.setItem(t,"lightbox_open"),re&&re.setTextPlain(t.title,t.description),Y.stop().fadeTo(0,0),V.show(),V.fadeTo(0,1),Y.stop().fadeTo(se.fadeDuration,ae.lightbox_overlay_opacity),v(),1==se.isCompact&&(1==ie.isPreloading()?m():1==se.isArrowsInside&&($.hide(),X.hide())),ie&&ie.startSlideAction(),U.trigger(ne.events.OPEN_LIGHTBOX,t)},this.close=function(e){se.isOpened=!1,1==se.isCompact&&h(),ie&&ie.stopSlideAction(),"image"!=ie.getSlideType()?V.hide():V.fadeTo(se.fadeDuration,0,function(){V.hide()}),U.trigger(ne.events.CLOSE_LIGHTBOX)},this.init=function(t,n){e(t,n)},this.putHtml=function(){ne.isSmallWindow()&&1==se.isCompact&&q(),n()},this.run=function(){i(),ie&&ie.run(),B()}}function UGCarousel(){function e(e,t){g_objects=e.getObjects(),G=e,D=jQuery(e),N=g_objects.g_objWrapper,z=g_objects.g_arrItems,U=jQuery.extend(U,t),B.setFixedMode(),B.setApproveClickFunction(R),B.init(e,U),q=B.getObjThumbs(),U=B.getOptions(),V.initTileWidth=U.tile_width,V.initTileHeight=U.tile_height,V.tileWidth=U.tile_width}function t(e){if(!e)var e=N;N.append("<div class='ug-carousel-wrapper'><div class='ug-carousel-inner'></div></div>"),L=N.children(".ug-carousel-wrapper"),H=L.children(".ug-carousel-inner"),B.setHtml(H),q.getThumbs().fadeTo(0,1)}function n(e,t){if(!t)var t=V.initTileHeight/V.initTileWidth*e;V.tileWidth=e;var n={tile_width:e,tile_height:t};B.setOptions(n),U.tile_width=e,U.tile_height=t,B.resizeAllTiles(e),v(!0)}function i(){if(null===V.carouselMaxWidth)throw new Error("The carousel width not set");if(V.tileWidth<V.initTileWidth){(t=V.carouselMaxWidth-2*U.carousel_padding)>V.initTileWidth&&(t=V.initTileWidth),n(t);var e=Q.getNumItemsInSpace(V.carouselMaxWidth,t,U.carousel_space_between_tiles)}else if(0>=(e=Q.getNumItemsInSpace(V.carouselMaxWidth,V.tileWidth,U.carousel_space_between_tiles))){e=1;var t=V.carouselMaxWidth-2*U.carousel_padding;n(t)}var i=Q.getSpaceByNumItems(e,V.tileWidth,U.carousel_space_between_tiles);i+=2*U.carousel_padding,L.width(i),1==V.isFirstTimeRun?(M(),B.run(),jQuery.each(z,function(e,t){t.objThumbWrapper.data("index",e),N.trigger(V.eventSizeChange,[t.objThumbWrapper,!0]),t.objTileOriginal=t.objThumbWrapper.clone(!0,!0)}),v(!0),1==U.carousel_autoplay&&F.startAutoplay()):(1==U.carousel_autoplay&&F.pauseAutoplay(),x(0,!1),1==U.carousel_autoplay&&F.startAutoplay()),E(),V.isFirstTimeRun=!1}function o(){return Q.getElementSize(H).left}function r(e){return Q.getMousePosition(e).pageX}function a(){return H.children(".ug-thumb-wrapper")}function s(e){return Q.getNumItemsInSpace(e,V.tileWidth,U.carousel_space_between_tiles)}function l(){return a().length}function u(e){b(e);var t=a();return jQuery(t[e])}function c(){return H.children(".ug-thumb-wrapper").first()}function d(){return H.children(".ug-thumb-wrapper").last()}function f(e,t,n){var i=e.data("index");if(void 0==i)throw new Error("every tile should have index!");for(var o=[],r=0;t>r;r++){if("prev"==n)a=G.getPrevItem(i,!0);else var a=G.getNextItem(i,!0);if(!a)throw new Error("the item to add is empty");var s=a.objTileOriginal.clone(!0,!0);i=a.index,s.addClass("cloned"),o.push(s)}return o}function g(){var e=Q.getElementSize(L),t=Q.getElementSize(H),n=t.width-e.width+t.left;return V.sideSpace-n}function p(){var e=-o();return V.sideSpace-e}function h(){return Q.getElementSize(L).width}function m(){return s(h())}function v(e){if(!e)var e=!1;var t,n=a(),i=0,o=0;return jQuery.each(n,function(e,r){r=jQuery(r),Q.placeElement(r,i,0);var a=Q.getElementSize(r);i+=a.width+U.carousel_space_between_tiles,o=Math.max(o,a.height),e==n.length-1&&(t=a.right)}),H.width(t),o+=2*U.carousel_padding,!0===e&&(H.height(o),L.height(o)),x(V.numCurrent,!1),t}function b(e){if(e>a().length-1)throw new Error("Wrogn tile number: "+e)}function _(e,t){if("left"==t)n=c();else var n=d();var i=f(n,e,"left"==t?"prev":"next");jQuery.each(i,function(e,n){"left"==t?H.prepend(n):H.append(n),N.trigger(V.eventSizeChange,n),B.loadTileImage(n)})}function y(e,t){b(i);for(var n=a(),i=n.length,o=0;e>o;o++)"left"==t?jQuery(n[o]).remove():jQuery(n[i-1-o]).remove()}function w(e){var t={left:e+"px"};H.css(t)}function x(e,t,n){if(void 0===t){var t=!0;if(H.is(":animated"))return!0}var i=u(e),o={left:-Q.getElementSize(i).left+U.carousel_padding+"px"};if(!0===t){var r=U.carousel_scroll_duration,a=U.carousel_scroll_easing;!0===n&&(r=V.scrollShortDuration,a=V.scrollShortEasing),H.stop(!0).animate(o,{duration:r,easing:a,queue:!1,complete:function(){V.numCurrent=e,C(!0)}})}else V.numCurrent=e,H.css(o)}function T(){var e=-o(),t=s(e),n=Q.getElementSize(u(t)).left,i=Q.getElementSize(u(t+1)).left;return Math.abs(n-e)<Math.abs(i-e)?t:t+1}function S(){x(T(),!0,!0)}function C(){var e=p(),t=g(),n=0,i=0,o=0,r=0,a=l();if(e>V.spaceActionSize?(n=s(e),_(n,"left"),V.numCurrent+=n):e<-V.spaceActionSize&&(y(o=s(Math.abs(e)),"left"),V.numCurrent-=o),t>V.spaceActionSize?(i=s(t),_(i,"right")):t<-V.spaceActionSize&&(r=s(Math.abs(t)),y(r,"right")),r>a)throw new Error("Can't remove more then num tiles");var u=!1;return(n||i||o||r)&&(v(),u=!0),u}function E(e){Q.placeElement(H,0,U.carousel_padding),C()}function I(){"left"==U.carousel_autoplay_direction?F.scrollRight(1):F.scrollLeft(1)}function P(e){return 1==V.touchActive||(V.touchActive=!0,F.pauseAutoplay(),V.startTime=jQuery.now(),V.startMousePos=r(e),V.startInnerPos=o(),V.lastTime=V.startTime,V.lastMousePos=V.startMousePos,void Q.storeEventData(e,V.storedEventID))}function k(e){if(0==V.touchActive)return!0;Q.updateStoredEventData(e,V.storedEventID),e.preventDefault();var t=null;if(1==U.carousel_vertical_scroll_ondrag&&(t=Q.handleScrollTop(V.storedEventID)),"vert"===t)return!0;V.lastMousePos=r(e);var n=V.lastMousePos-V.startMousePos,i=V.startInnerPos+n,o=n>0?"prev":"next",a=Q.getElementSize(H).width;i>0&&"prev"==o&&(i/=3),-a>i&&"next"==o&&(i=V.startInnerPos+n/3),w(i)}function A(e){return 0==V.touchActive||(V.touchActive=!1,S(),void F.unpauseAutoplay())}function j(e){return 0==U.carousel_autoplay_pause_onhover||void(1==V.isPlayMode&&0==V.isPaused&&F.pauseAutoplay())}function O(e){return 0==U.carousel_autoplay_pause_onhover||void F.unpauseAutoplay()}function M(){B.initEvents(),L.bind("mousedown touchstart",P),jQuery("body").bind("mousemove touchmove",k),jQuery(window).add("body").bind("mouseup touchend",A),L.hover(j,O)}function R(){var e=V.lastTime-V.startTime,t=Math.abs(V.lastMousePos-V.startMousePos);return!(e>300)&&!(t>30)}var D,N,z,L,H,F=this,W=jQuery(this),G=new UniteGalleryMain,Q=new UGFunctions,B=new UGTileDesign,q=new UGThumbsGeneral,U={carousel_padding:8,carousel_space_between_tiles:20,carousel_navigation_numtiles:3,carousel_scroll_duration:500,carousel_scroll_easing:"easeOutCubic",carousel_autoplay:!0,carousel_autoplay_timeout:3e3,carousel_autoplay_direction:"right",carousel_autoplay_pause_onhover:!0,carousel_vertical_scroll_ondrag:!1};this.events={START_PLAY:"carousel_start_play",PAUSE_PLAY:"carousel_pause_play",STOP_PLAY:"carousel_stop_play"};var V={eventSizeChange:"thumb_size_change",isFirstTimeRun:!0,carouselMaxWidth:null,tileWidth:0,initTileWidth:0,initTileHeight:0,sideSpace:1500,spaceActionSize:500,numCurrent:0,touchActive:!1,startInnerPos:0,lastTime:0,startTime:0,startMousePos:0,lastMousePos:0,scrollShortDuration:200,scrollShortEasing:"easeOutQuad",handle:null,isPlayMode:!1,isPaused:!1,storedEventID:"carousel"};this.startAutoplay=function(){V.isPlayMode=!0,V.isPaused=!1,W.trigger(F.events.START_PLAY),V.handle&&clearInterval(V.handle),V.handle=setInterval(I,U.carousel_autoplay_timeout)},this.unpauseAutoplay=function(){return 0==V.isPlayMode||(0==V.isPaused||void F.startAutoplay())},this.pauseAutoplay=function(){return 0==V.isPlayMode||(V.isPaused=!0,V.handle&&clearInterval(V.handle),void W.trigger(F.events.PAUSE_PLAY))},this.stopAutoplay=function(){return 0==V.isPlayMode||(V.isPaused=!1,V.isPlayMode=!1,V.handle&&clearInterval(V.handle),void W.trigger(F.events.STOP_PLAY))},this.destroy=function(){V.handle&&clearInterval(V.handle),W.off(F.events.START_PLAY),W.off(F.events.STOP_PLAY),L.unbind("mousedown"),L.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),L.off("mouseenter").off("mouseleave"),B.destroy()},this.init=function(t,n,i){i&&this.setMaxWidth(i),e(t,n)},this.setMaxWidth=function(e){V.carouselMaxWidth=e},this.setHtml=function(e){t(e)},this.getElement=function(){return L},this.getObjTileDesign=function(){return B},this.getEstimatedHeight=function(){return U.tile_height+2*U.carousel_padding},this.run=function(){i()},this.scrollRight=function(e){if(!e||"object"==typeof e)var e=U.carousel_navigation_numtiles;var t=m();e>t&&(e=t);var n=V.numCurrent-e;0>=n&&(n=0),x(n)},this.scrollLeft=function(e){if(!e||"object"==typeof e)var e=U.carousel_navigation_numtiles;var t=m();e>t&&(e=t);var n=l(),i=V.numCurrent+e;i>=n&&(i=n-1),x(i)},this.setScrollLeftButton=function(e){Q.setButtonMobileReady(e),Q.setButtonOnClick(e,F.scrollLeft)},this.setScrollRightButton=function(e){Q.setButtonMobileReady(e),Q.setButtonOnClick(e,F.scrollRight)},this.setPlayPauseButton=function(e){Q.setButtonMobileReady(e),1==V.isPlayMode&&0==V.isPaused&&e.addClass("ug-pause-icon"),W.on(F.events.START_PLAY,function(){e.addClass("ug-pause-icon")}),W.on(F.events.STOP_PLAY,function(){e.removeClass("ug-pause-icon")}),Q.setButtonOnClick(e,function(){0==V.isPlayMode||1==V.isPaused?F.startAutoplay():F.stopAutoplay()})}}function UGTabs(){function e(e,t){u=e,a=jQuery(u),"select"==(c=jQuery.extend(c,t)).tabs_type?l=jQuery(c.tabs_container):s=jQuery(c.tabs_container+" .ug-tab")}function t(){r()}function n(e){u.requestNewItems(e)}function i(){var e=c.tabs_class_selected,t=jQuery(this);if(t.hasClass(e))return!0;s.not(t).removeClass(e),t.addClass(e);var i=t.data("catid");return!i||void n(i)}function o(){var e=jQuery(this).val();return!e||void n(e)}function r(){"select"==c.tabs_type?l.change(o):s.click(i)}var a,s,l,u=(jQuery(this),new UniteGalleryMain),c=(new UGFunctions,{tabs_type:"tabs",tabs_container:"#ug_tabs",tabs_class_selected:"ug-tab-selected"});this.events={},this.destroy=function(){l&&l.off("change"),s&&s.off("click")},this.init=function(t,n){e(t,n)},this.run=function(){t()}}function UG_API(e){function t(e){var t={index:e.index,title:e.title,description:e.description,urlImage:e.urlImage,urlThumb:e.urlThumb},n=e.objThumbImage.data();for(var i in n){switch(i){case"image":case"description":continue}t[i]=n[i]}return t}var n,i=this,o=(jQuery(i),new UniteGalleryMain),r=[];o=e,n=jQuery(e),this.events={API_INIT_FUNCTIONS:"api_init",API_ON_EVENT:"api_on_event"},this.on=function(e,a,s){switch(!0!==s&&r.push({event:e,func:a}),e){case"item_change":n.on(o.events.ITEM_CHANGE,function(){var e=t(o.getSelectedItem());a(e.index,e)});break;case"resize":n.on(o.events.SIZE_CHANGE,a);break;case"enter_fullscreen":n.on(o.events.ENTER_FULLSCREEN,a);break;case"exit_fullscreen":n.on(o.events.EXIT_FULLSCREEN,a);break;case"play":n.on(o.events.START_PLAY,a);break;case"stop":n.on(o.events.STOP_PLAY,a);break;case"pause":n.on(o.events.PAUSE_PLAYING,a);break;case"continue":n.on(o.events.CONTINUE_PLAYING,a);break;case"open_lightbox":n.on(o.events.OPEN_LIGHTBOX,a);break;case"close_lightbox":n.on(o.events.CLOSE_LIGHTBOX,a);break;default:console&&console.log("wrong api event: "+e)}n.trigger(i.events.API_ON_EVENT,[e,a])},this.play=function(){o.startPlayMode()},this.stop=function(){o.stopPlayMode()},this.togglePlay=function(){o.togglePlayMode()},this.enterFullscreen=function(){o.toFullScreen()},this.exitFullscreen=function(){o.exitFullScreen()},this.toggleFullscreen=function(){o.toggleFullscreen()},this.resetZoom=function(){var e=o.getObjSlider();return!!e&&void e.zoomBack()},this.zoomIn=function(){var e=o.getObjSlider();return!!e&&void e.zoomIn()},this.zoomOut=function(){var e=o.getObjSlider();return!!e&&void e.zoomOut()},this.nextItem=function(){o.nextItem()},this.prevItem=function(){o.prevItem()},this.selectItem=function(e){o.selectItem(e)},this.resize=function(e,t){t?o.resize(e,t):o.resize(e)},this.getItem=function(e){return t(o.getItem(e))},this.getNumItems=function(){return o.getNumItems()},this.reloadGallery=function(e){if(!e)var e={};o.run(null,e),r.map(function(e){i.on(e.event,e.func,!0)})},this.destroy=function(){o.destroy()},n.trigger(i.events.API_INIT_FUNCTIONS,i)}function UGLoadMore(){function e(){return 0!=(r=jQuery("#"+d.loadmore_container)).length&&0!=(a=r.find(".ug-loadmore-button")).length&&0!=(s=r.find(".ug-loadmore-loader")).length&&0!=(l=r.find(".ug-loadmore-error")).length&&void(c.isInited=!0)}function t(){r.show()}function n(){a.hide(),s.show();var e={numitems:u.getNumItems()};u.ajaxRequest("front_loadmore",e,function(e){s.hide();var t=e.html_items;1==e.show_loadmore?(a.blur().show(),s.hide()):r.hide(),u.addItems(t)},function(e){e="Ajax Error!"+e,s.hide(),l.show(),l.html(e)})}function i(){u.onEvent("tiles_first_placed",t),a.click(n)}var o,r,a,s,l,u=(jQuery(this),new UniteGalleryMain),c=(new UGFunctions,{isInited:!1}),d={loadmore_container:"ug_loadmore_wrapper"};this.events={},this.destroy=function(){return 0!=c.isInited&&void 0},this.init=function(t,n){return u=t,o=jQuery(u),d=jQuery.extend(d,n),e(),0==c.isInited?(trace("load more not inited, something is wrong"),!1):void i()}}function UGTheme_default(){function e(e,t){k=e,j=jQuery.extend(j,O),j=jQuery.extend(j,t),j=jQuery.extend(j,M),n(),k.setOptions(j),1==j.theme_load_panel&&(I=new UGStripPanel).init(e,j),1==j.theme_load_slider&&k.initSlider(j),y=e.getObjects(),_=jQuery(e),w=y.g_objWrapper,1==j.theme_load_slider&&(C=y.g_objSlider),1==j.theme_enable_text_panel&&(P=new UGTextPanel).init(k,j,"slider")}function t(){i(),o(),b()}function n(){var e={slider_textpanel_css_title:{},slider_textpanel_css_description:{}};switch(j=jQuery.extend(e,j),j.slider_textpanel_css_title["text-align"]=j.theme_text_align,j.slider_textpanel_css_description["text-align"]=j.theme_text_align,j.theme_text_type){case"title":j.slider_textpanel_enable_title=!0,j.slider_textpanel_enable_description=!1;break;case"both":j.slider_textpanel_enable_title=!0,j.slider_textpanel_enable_description=!0;break;default:case"description":}}function i(){w.addClass("ug-theme-default");var e="";e+="<div class='ug-theme-panel'>";var t="ug-default-button-fullscreen",n="ug-default-button-play",i=".ug-default-button-fullscreen",o=".ug-default-button-play";P||(t="ug-default-button-fullscreen-single",n="ug-default-button-play-single",i=".ug-default-button-fullscreen-single",o=".ug-default-button-play-single"),1==j.theme_enable_fullscreen_button&&(e+="<div class='"+t+"'></div>"),1==j.theme_enable_play_button&&(e+="<div class='"+n+"'></div>"),j.theme_enable_hidepanel_button&&(e+="<div class='ug-default-button-hidepanel'><div class='ug-default-button-hidepanel-bg'></div> <div class='ug-default-button-hidepanel-tip'></div></div>"),e+="</div>",w.append(e),E=w.children(".ug-theme-panel"),1==j.theme_enable_fullscreen_button&&(x=E.children(i)),1==j.theme_enable_play_button&&(T=E.children(o)),1==j.theme_enable_hidepanel_button&&(S=E.children(".ug-default-button-hidepanel")),I.setHtml(E),P&&P.appendHTML(E),C&&C.setHtml()}function o(){j.theme_load_panel&&(r(),a()),C&&(s(),C.run())}function r(){var e=k.getSize().width;I.setOrientation("bottom"),I.setWidth(e),I.run();var t=I.getSize().height;if(P){if(t+=M.slider_textpanel_height,S){var n=S.outerHeight();t+=n}}else{var i=0;S&&(i=Math.max(S.outerHeight(),i)),x&&(i=Math.max(x.outerHeight(),i)),T&&(i=Math.max(T.outerHeight(),i)),t+=i}A.setElementSize(E,e,t);var o=I.getElement();if(A.placeElement(o,"left","bottom"),S){var r=S.children(".ug-default-button-hidepanel-tip");if(A.placeElement(r,"center","middle"),P){var a=S.children(".ug-default-button-hidepanel-bg"),s=P.getOption("textpanel_bg_opacity");a.fadeTo(0,s);var l=P.getOption("textpanel_bg_color");a.css({"background-color":l})}}var u=0,c=0;if(S&&(c=n),x&&(A.placeElement(x,"right","top",0,c),u=x.outerWidth()),T){var d=c;P||d++,A.placeElement(T,"right","top",u,d),u+=T.outerWidth()}if(P){var f={};f.slider_textpanel_padding_right=j.theme_text_padding_right+u,f.slider_textpanel_padding_left=j.theme_text_padding_left,S&&(f.slider_textpanel_margin=n),P.setOptions(f),P.positionPanel(),P.run()}if(S)if(P)A.placeElement(S,"left","top");else{var g=o.outerHeight();A.placeElement(S,"left","bottom",0,g)}}function a(){if(R.isPanelHidden||1==l()){var e=g();A.placeElement(E,0,e),R.isPanelHidden=!0}else A.placeElement(E,0,"bottom")}function s(){var e=k.getHeight(),t=e;I&&0==d()&&(t=e-I.getSize().height);var n=k.getWidth();C.setSize(n,t),C.setPosition(0,0)}function l(){return!!j.theme_hide_panel_under_width&&jQuery(window).width()<=j.theme_hide_panel_under_width}function u(){if(!j.theme_hide_panel_under_width)return!1;1==l()?p(!0):h(!0)}function c(){o(),u()}function d(){return R.isPanelHidden}function f(e,t){var n={top:e+"px"};E.stop(!0).animate(n,{duration:300,easing:"easeInOutQuad",queue:!1,complete:function(){t&&t()}})}function g(){var e=w.height();return S&&(e-=A.getElementSize(S).bottom),e}function p(e){if(!e)var e=!1;if(1==d())return!1;var t=g();1==e?A.placeElement(E,0,t):f(t,s),S&&S.addClass("ug-button-hidden-mode"),R.isPanelHidden=!0}function h(e){if(!e)var e=!1;if(0==d())return!1;var t=w.height()-E.outerHeight();1==e?A.placeElement(E,0,t):f(t,s),S&&S.removeClass("ug-button-hidden-mode"),R.isPanelHidden=!1}function m(e){if(e.stopPropagation(),e.stopImmediatePropagation(),0==A.validateClickTouchstartEvent(e.type))return!0;1==d()?h():p()}function v(){k.showDisabledOverlay()}function b(){_.on(k.events.SIZE_CHANGE,c),_.on(k.events.GALLERY_BEFORE_REQUEST_ITEMS,v),T&&(A.addClassOnHover(T,"ug-button-hover"),k.setPlayButton(T)),x&&(A.addClassOnHover(x,"ug-button-hover"),k.setFullScreenToggleButton(x)),S&&(A.setButtonMobileReady(S),A.addClassOnHover(S,"ug-button-hover"),S.on("click touchstart",m)),_.on(k.events.SLIDER_ACTION_START,function(){E.css("z-index","1"),C.getElement().css("z-index","11")}),_.on(k.events.SLIDER_ACTION_END,function(){E.css("z-index","11"),C.getElement().css("z-index","1")})}var _,y,w,x,T,S,C,E,I,P,k=new UniteGalleryMain,A=new UGFunctions,j={theme_load_slider:!0,theme_load_panel:!0,theme_enable_fullscreen_button:!0,theme_enable_play_button:!0,theme_enable_hidepanel_button:!0,theme_enable_text_panel:!0,theme_text_padding_left:20,theme_text_padding_right:5,theme_text_align:"left",theme_text_type:"description",theme_hide_panel_under_width:480},O={slider_controls_always_on:!0,slider_zoompanel_align_vert:"top",slider_zoompanel_offset_vert:12,slider_textpanel_padding_top:0,slider_textpanel_enable_title:!1,slider_textpanel_enable_description:!0,slider_vertical_scroll_ondrag:!0,strippanel_background_color:"#232323",strippanel_padding_top:10},M={slider_enable_text_panel:!1,slider_enable_play_button:!1,slider_enable_fullscreen_button:!1,slider_enable_text_panel:!1,slider_textpanel_height:50,slider_textpanel_align:"top"},R={isPanelHidden:!1};this.destroy=function(){_.off(k.events.SIZE_CHANGE),_.off(k.events.GALLERY_BEFORE_REQUEST_ITEMS),T&&k.destroyPlayButton(T),x&&k.destroyFullscreenButton(x),S&&A.destroyButton(S),_.off(k.events.SLIDER_ACTION_START),_.off(k.events.SLIDER_ACTION_END),C&&C.destroy(),I&&I.destroy(),P&&P.destroy()},this.run=function(){t()},this.init=function(t,n){e(t,n)}}!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t){var n=(t=t||ee).createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function i(e){var t=!!e&&"length"in e&&e.length,n=ge.type(e);return"function"!==n&&!ge.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function o(e,t,n){return ge.isFunction(t)?ge.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?ge.grep(e,function(e){return e===t!==n}):"string"!=typeof t?ge.grep(e,function(e){return re.call(t,e)>-1!==n}):Te.test(t)?ge.filter(t,e,n):(t=ge.filter(t,e),ge.grep(e,function(e){return re.call(t,e)>-1!==n&&1===e.nodeType}))}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function a(e){var t={};return ge.each(e.match(Pe)||[],function(e,n){t[n]=!0}),t}function s(e){return e}function l(e){throw e}function u(e,t,n){var i;try{e&&ge.isFunction(i=e.promise)?i.call(e).done(t).fail(n):e&&ge.isFunction(i=e.then)?i.call(e,t,n):t.call(void 0,e)}catch(e){n.call(void 0,e)}}function c(){ee.removeEventListener("DOMContentLoaded",c),e.removeEventListener("load",c),ge.ready()}function d(){this.expando=ge.expando+d.uid++}function f(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:De.test(e)?JSON.parse(e):e)}function g(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Ne,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=f(n)}catch(e){}Re.set(e,t,n)}else n=void 0;return n}function p(e,t,n,i){var o,r=1,a=20,s=i?function(){return i.cur()}:function(){return ge.css(e,t,"")},l=s(),u=n&&n[3]||(ge.cssNumber[t]?"":"px"),c=(ge.cssNumber[t]||"px"!==u&&+l)&&Le.exec(ge.css(e,t));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do{r=r||".5",c/=r,ge.style(e,t,c+u)}while(r!==(r=s()/l)&&1!==r&&--a)}return n&&(c=+c||+l||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=o)),o}function h(e){var t,n=e.ownerDocument,i=e.nodeName,o=Ge[i];return o||(t=n.body.appendChild(n.createElement(i)),o=ge.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),Ge[i]=o,o)}function m(e,t){for(var n,i,o=[],r=0,a=e.length;r<a;r++)(i=e[r]).style&&(n=i.style.display,t?("none"===n&&(o[r]=Me.get(i,"display")||null,o[r]||(i.style.display="")),""===i.style.display&&Fe(i)&&(o[r]=h(i))):"none"!==n&&(o[r]="none",Me.set(i,"display",n)));for(r=0;r<a;r++)null!=o[r]&&(e[r].style.display=o[r]);return e}function v(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&ge.nodeName(e,t)?ge.merge([e],n):n}function b(e,t){for(var n=0,i=e.length;n<i;n++)Me.set(e[n],"globalEval",!t||Me.get(t[n],"globalEval"))}function _(e,t,n,i,o){for(var r,a,s,l,u,c,d=t.createDocumentFragment(),f=[],g=0,p=e.length;g<p;g++)if((r=e[g])||0===r)if("object"===ge.type(r))ge.merge(f,r.nodeType?[r]:r);else if(Ve.test(r)){for(a=a||d.appendChild(t.createElement("div")),s=(Be.exec(r)||["",""])[1].toLowerCase(),l=Ue[s]||Ue._default,a.innerHTML=l[1]+ge.htmlPrefilter(r)+l[2],c=l[0];c--;)a=a.lastChild;ge.merge(f,a.childNodes),(a=d.firstChild).textContent=""}else f.push(t.createTextNode(r));for(d.textContent="",g=0;r=f[g++];)if(i&&ge.inArray(r,i)>-1)o&&o.push(r);else if(u=ge.contains(r.ownerDocument,r),a=v(d.appendChild(r),"script"),u&&b(a),n)for(c=0;r=a[c++];)qe.test(r.type||"")&&n.push(r);return d}function y(){return!0}function w(){return!1}function x(){try{return ee.activeElement}catch(e){}}function T(e,t,n,i,o,r){var a,s;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(s in t)T(e,s,n,i,t[s],r);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=w;else if(!o)return e;return 1===r&&(a=o,o=function(e){return ge().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=ge.guid++)),e.each(function(){ge.event.add(this,t,o,i,n)})}function S(e,t){return ge.nodeName(e,"table")&&ge.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function C(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function E(e){var t=tt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function I(e,t){var n,i,o,r,a,s,l,u;if(1===t.nodeType){if(Me.hasData(e)&&(r=Me.access(e),a=Me.set(t,r),u=r.events)){delete a.handle,a.events={};for(o in u)for(n=0,i=u[o].length;n<i;n++)ge.event.add(t,o,u[o][n])}Re.hasData(e)&&(s=Re.access(e),l=ge.extend({},s),Re.set(t,l))}}function P(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Qe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function k(e,t,i,o){t=ie.apply([],t);var r,a,s,l,u,c,d=0,f=e.length,g=f-1,p=t[0],h=ge.isFunction(p);if(h||f>1&&"string"==typeof p&&!de.checkClone&&et.test(p))return e.each(function(n){var r=e.eq(n);h&&(t[0]=p.call(this,n,r.html())),k(r,t,i,o)});if(f&&(r=_(t,e[0].ownerDocument,!1,e,o),a=r.firstChild,1===r.childNodes.length&&(r=a),a||o)){for(l=(s=ge.map(v(r,"script"),C)).length;d<f;d++)u=r,d!==g&&(u=ge.clone(u,!0,!0),l&&ge.merge(s,v(u,"script"))),i.call(e[d],u,d);if(l)for(c=s[s.length-1].ownerDocument,ge.map(s,E),d=0;d<l;d++)u=s[d],qe.test(u.type||"")&&!Me.access(u,"globalEval")&&ge.contains(c,u)&&(u.src?ge._evalUrl&&ge._evalUrl(u.src):n(u.textContent.replace(nt,""),c))}return e}function A(e,t,n){for(var i,o=t?ge.filter(t,e):e,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||ge.cleanData(v(i)),i.parentNode&&(n&&ge.contains(i.ownerDocument,i)&&b(v(i,"script")),i.parentNode.removeChild(i));return e}function j(e,t,n){var i,o,r,a,s=e.style;return(n=n||rt(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ge.contains(e.ownerDocument,e)||(a=ge.style(e,t)),!de.pixelMarginRight()&&ot.test(a)&&it.test(t)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r)),void 0!==a?a+"":a}function O(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function M(e){if(e in ct)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=ut.length;n--;)if((e=ut[n]+t)in ct)return e}function R(e,t,n){var i=Le.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function D(e,t,n,i,o){var r,a=0;for(r=n===(i?"border":"content")?4:"width"===t?1:0;r<4;r+=2)"margin"===n&&(a+=ge.css(e,n+He[r],!0,o)),i?("content"===n&&(a-=ge.css(e,"padding"+He[r],!0,o)),"margin"!==n&&(a-=ge.css(e,"border"+He[r]+"Width",!0,o))):(a+=ge.css(e,"padding"+He[r],!0,o),"padding"!==n&&(a+=ge.css(e,"border"+He[r]+"Width",!0,o)));return a}function N(e,t,n){var i,o=!0,r=rt(e),a="border-box"===ge.css(e,"boxSizing",!1,r);if(e.getClientRects().length&&(i=e.getBoundingClientRect()[t]),i<=0||null==i){if(((i=j(e,t,r))<0||null==i)&&(i=e.style[t]),ot.test(i))return i;o=a&&(de.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+D(e,t,n||(a?"border":"content"),o,r)+"px"}function z(e,t,n,i,o){return new z.prototype.init(e,t,n,i,o)}function L(){ft&&(e.requestAnimationFrame(L),ge.fx.tick())}function H(){return e.setTimeout(function(){dt=void 0}),dt=ge.now()}function F(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)n=He[i],o["margin"+n]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function W(e,t,n){for(var i,o=(Q.tweeners[t]||[]).concat(Q.tweeners["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,t,e))return i}function G(e,t){var n,i,o,r,a;for(n in e)if(i=ge.camelCase(n),o=t[i],r=e[n],ge.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),(a=ge.cssHooks[i])&&"expand"in a){r=a.expand(r),delete e[i];for(n in r)n in e||(e[n]=r[n],t[n]=o)}else t[i]=o}function Q(e,t,n){var i,o,r=0,a=Q.prefilters.length,s=ge.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=dt||H(),n=Math.max(0,u.startTime+u.duration-t),i=1-(n/u.duration||0),r=0,a=u.tweens.length;r<a;r++)u.tweens[r].run(i);return s.notifyWith(e,[u,i,n]),i<1&&a?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:ge.extend({},t),opts:ge.extend(!0,{specialEasing:{},easing:ge.easing._default},n),originalProperties:t,originalOptions:n,startTime:dt||H(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ge.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(G(c,u.opts.specialEasing);r<a;r++)if(i=Q.prefilters[r].call(u,e,c,u.opts))return ge.isFunction(i.stop)&&(ge._queueHooks(u.elem,u.opts.queue).stop=ge.proxy(i.stop,i)),i;return ge.map(c,W,u),ge.isFunction(u.opts.start)&&u.opts.start.call(e,u),ge.fx.timer(ge.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function B(e){return(e.match(Pe)||[]).join(" ")}function q(e){return e.getAttribute&&e.getAttribute("class")||""}function U(e,t,n,i){var o;if(ge.isArray(t))ge.each(t,function(t,o){n||St.test(e)?i(e,o):U(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,i)});else if(n||"object"!==ge.type(t))i(e,t);else for(o in t)U(e+"["+o+"]",t[o],n,i)}function V(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,r=t.toLowerCase().match(Pe)||[];if(ge.isFunction(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Y(e,t,n,i){function o(s){var l;return r[s]=!0,ge.each(e[s]||[],function(e,s){var u=s(t,n,i);return"string"!=typeof u||a||r[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),o(u),!1)}),l}var r={},a=e===Nt;return o(t.dataTypes[0])||!r["*"]&&o("*")}function $(e,t){var n,i,o=ge.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&ge.extend(!0,e,i),e}function X(e,t,n){for(var i,o,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}a||(a=o)}r=r||a}if(r)return r!==l[0]&&l.unshift(r),n[r]}function Z(e,t,n,i){var o,r,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(r=c.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=u[l+" "+r]||u["* "+r]))for(o in u)if((s=o.split(" "))[1]===r&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[o]:!0!==u[o]&&(r=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function K(e){return ge.isWindow(e)?e:9===e.nodeType&&e.defaultView}var J=[],ee=e.document,te=Object.getPrototypeOf,ne=J.slice,ie=J.concat,oe=J.push,re=J.indexOf,ae={},se=ae.toString,le=ae.hasOwnProperty,ue=le.toString,ce=ue.call(Object),de={},fe="3.1.1",ge=function(e,t){return new ge.fn.init(e,t)},pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,he=/^-ms-/,me=/-([a-z])/g,ve=function(e,t){return t.toUpperCase()};ge.fn=ge.prototype={jquery:fe,constructor:ge,length:0,toArray:function(){return ne.call(this)},get:function(e){return null==e?ne.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ge.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ge.each(this,e)},map:function(e){return this.pushStack(ge.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ne.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:oe,sort:J.sort,splice:J.splice},ge.extend=ge.fn.extend=function(){var e,t,n,i,o,r,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||ge.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],i=e[t],a!==i&&(u&&i&&(ge.isPlainObject(i)||(o=ge.isArray(i)))?(o?(o=!1,r=n&&ge.isArray(n)?n:[]):r=n&&ge.isPlainObject(n)?n:{},a[t]=ge.extend(u,r,i)):void 0!==i&&(a[t]=i));return a},ge.extend({expando:"jQuery"+(fe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ge.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=ge.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==se.call(e)||(t=te(e))&&("function"!=typeof(n=le.call(t,"constructor")&&t.constructor)||ue.call(n)!==ce))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ae[se.call(e)]||"object":typeof e},globalEval:function(e){n(e)},camelCase:function(e){return e.replace(he,"ms-").replace(me,ve)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,o=0;if(i(e))for(n=e.length;o<n&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},trim:function(e){return null==e?"":(e+"").replace(pe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?ge.merge(n,"string"==typeof e?[e]:e):oe.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:re.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,r=e.length,a=!n;o<r;o++)!t(e[o],o)!==a&&i.push(e[o]);return i},map:function(e,t,n){var o,r,a=0,s=[];if(i(e))for(o=e.length;a<o;a++)null!=(r=t(e[a],a,n))&&s.push(r);else for(a in e)null!=(r=t(e[a],a,n))&&s.push(r);return ie.apply([],s)},guid:1,proxy:function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),ge.isFunction(e))return i=ne.call(arguments,2),o=function(){return e.apply(t||this,i.concat(ne.call(arguments)))},o.guid=e.guid=e.guid||ge.guid++,o},now:Date.now,support:de}),"function"==typeof Symbol&&(ge.fn[Symbol.iterator]=J[Symbol.iterator]),ge.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ae["[object "+t+"]"]=t.toLowerCase()});var be=function(e){function t(e,t,n,i){var o,r,a,s,l,c,f,g=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!i&&((t?t.ownerDocument||t:H)!==j&&A(t),t=t||j,M)){if(11!==p&&(l=he.exec(e)))if(o=l[1]){if(9===p){if(!(a=t.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(g&&(a=g.getElementById(o))&&z(t,a)&&a.id===o)return n.push(a),n}else{if(l[2])return X.apply(n,t.getElementsByTagName(e)),n;if((o=l[3])&&y.getElementsByClassName&&t.getElementsByClassName)return X.apply(n,t.getElementsByClassName(o)),n}if(y.qsa&&!B[e+" "]&&(!R||!R.test(e))){if(1!==p)g=t,f=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(_e,ye):t.setAttribute("id",s=L),r=(c=S(e)).length;r--;)c[r]="#"+s+" "+d(c[r]);f=c.join(","),g=me.test(e)&&u(t.parentNode)||t}if(f)try{return X.apply(n,g.querySelectorAll(f)),n}catch(e){}finally{s===L&&t.removeAttribute("id")}}}return E(e.replace(re,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[L]=!0,e}function o(e){var t=j.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&xe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function l(e){return i(function(t){return t=+t,i(function(n,i){for(var o,r=e([],n.length,t),a=r.length;a--;)n[o=r[a]]&&(n[o]=!(i[o]=n[o]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function d(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,o=t.next,r=o||i,a=n&&"parentNode"===r,s=W++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,l){var u,c,d,f=[F,s];if(l){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(d=t[L]||(t[L]={}),c=d[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[i]||t;else{if((u=c[r])&&u[0]===F&&u[1]===s)return f[2]=u[2];if(c[r]=f,f[2]=e(t,n,l))return!0}return!1}}function g(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function p(e,n,i){for(var o=0,r=n.length;o<r;o++)t(e,n[o],i);return i}function h(e,t,n,i,o){for(var r,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(r=e[s])&&(n&&!n(r,i,o)||(a.push(r),u&&t.push(s)));return a}function m(e,t,n,o,r,a){return o&&!o[L]&&(o=m(o)),r&&!r[L]&&(r=m(r,a)),i(function(i,a,s,l){var u,c,d,f=[],g=[],m=a.length,v=i||p(t||"*",s.nodeType?[s]:s,[]),b=!e||!i&&t?v:h(v,f,e,s,l),_=n?r||(i?e:m||o)?[]:a:b;if(n&&n(b,_,s,l),o)for(u=h(_,g),o(u,[],s,l),c=u.length;c--;)(d=u[c])&&(_[g[c]]=!(b[g[c]]=d));if(i){if(r||e){if(r){for(u=[],c=_.length;c--;)(d=_[c])&&u.push(b[c]=d);r(null,_=[],u,l)}for(c=_.length;c--;)(d=_[c])&&(u=r?K(i,d):f[c])>-1&&(i[u]=!(a[u]=d))}}else _=h(_===a?_.splice(m,_.length):_),r?r(null,a,_,l):X.apply(a,_)})}function v(e){for(var t,n,i,o=e.length,r=w.relative[e[0].type],a=r||w.relative[" "],s=r?1:0,l=f(function(e){return e===t},a,!0),u=f(function(e){return K(t,e)>-1},a,!0),c=[function(e,n,i){var o=!r&&(i||n!==I)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,o}];s<o;s++)if(n=w.relative[e[s].type])c=[f(g(c),n)];else{if((n=w.filter[e[s].type].apply(null,e[s].matches))[L]){for(i=++s;i<o&&!w.relative[e[i].type];i++);return m(s>1&&g(c),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(re,"$1"),n,s<i&&v(e.slice(s,i)),i<o&&v(e=e.slice(i)),i<o&&d(e))}c.push(n)}return g(c)}function b(e,n){var o=n.length>0,r=e.length>0,a=function(i,a,s,l,u){var c,d,f,g=0,p="0",m=i&&[],v=[],b=I,_=i||r&&w.find.TAG("*",u),y=F+=null==b?1:Math.random()||.1,x=_.length;for(u&&(I=a===j||a||u);p!==x&&null!=(c=_[p]);p++){if(r&&c){for(d=0,a||c.ownerDocument===j||(A(c),s=!M);f=e[d++];)if(f(c,a||j,s)){l.push(c);break}u&&(F=y)}o&&((c=!f&&c)&&g--,i&&m.push(c))}if(g+=p,o&&p!==g){for(d=0;f=n[d++];)f(m,v,a,s);if(i){if(g>0)for(;p--;)m[p]||v[p]||(v[p]=Y.call(l));v=h(v)}X.apply(l,v),u&&!i&&v.length>0&&g+n.length>1&&t.uniqueSort(l)}return u&&(F=y,I=b),m};return o?i(a):a}var _,y,w,x,T,S,C,E,I,P,k,A,j,O,M,R,D,N,z,L="sizzle"+1*new Date,H=e.document,F=0,W=0,G=n(),Q=n(),B=n(),q=function(e,t){return e===t&&(k=!0),0},U={}.hasOwnProperty,V=[],Y=V.pop,$=V.push,X=V.push,Z=V.slice,K=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",ie=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",oe=new RegExp(ee+"+","g"),re=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ue=new RegExp(ie),ce=new RegExp("^"+te+"$"),de={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,pe=/^[^{]+\{\s*\[native \w/,he=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,ve=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),be=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},_e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ye=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},we=function(){A()},xe=f(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{X.apply(V=Z.call(H.childNodes),H.childNodes),V[H.childNodes.length].nodeType}catch(e){X={apply:V.length?function(e,t){$.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}y=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},A=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:H;return i!==j&&9===i.nodeType&&i.documentElement?(j=i,O=j.documentElement,M=!T(j),H!==j&&(n=j.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),y.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),y.getElementsByTagName=o(function(e){return e.appendChild(j.createComment("")),!e.getElementsByTagName("*").length}),y.getElementsByClassName=pe.test(j.getElementsByClassName),y.getById=o(function(e){return O.appendChild(e).id=L,!j.getElementsByName||!j.getElementsByName(L).length}),y.getById?(w.filter.ID=function(e){var t=e.replace(ve,be);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&M){var n=t.getElementById(e);return n?[n]:[]}}):(w.filter.ID=function(e){var t=e.replace(ve,be);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&M){var n,i,o,r=t.getElementById(e);if(r){if((n=r.getAttributeNode("id"))&&n.value===e)return[r];for(o=t.getElementsByName(e),i=0;r=o[i++];)if((n=r.getAttributeNode("id"))&&n.value===e)return[r]}return[]}}),w.find.TAG=y.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):y.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},w.find.CLASS=y.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&M)return t.getElementsByClassName(e)},D=[],R=[],(y.qsa=pe.test(j.querySelectorAll))&&(o(function(e){O.appendChild(e).innerHTML="<a id='"+L+"'></a><select id='"+L+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+ee+"*(?:value|"+J+")"),e.querySelectorAll("[id~="+L+"-]").length||R.push("~="),e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+L+"+*").length||R.push(".#.+[+~]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=j.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&R.push(":enabled",":disabled"),O.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(y.matchesSelector=pe.test(N=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&o(function(e){y.disconnectedMatch=N.call(e,"*"),N.call(e,"[s!='']:x"),D.push("!=",ie)}),R=R.length&&new RegExp(R.join("|")),D=D.length&&new RegExp(D.join("|")),t=pe.test(O.compareDocumentPosition),z=t||pe.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return k=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!y.sortDetached&&t.compareDocumentPosition(e)===n?e===j||e.ownerDocument===H&&z(H,e)?-1:t===j||t.ownerDocument===H&&z(H,t)?1:P?K(P,e)-K(P,t):0:4&n?-1:1)}:function(e,t){if(e===t)return k=!0,0;var n,i=0,o=e.parentNode,r=t.parentNode,s=[e],l=[t];if(!o||!r)return e===j?-1:t===j?1:o?-1:r?1:P?K(P,e)-K(P,t):0;if(o===r)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?a(s[i],l[i]):s[i]===H?-1:l[i]===H?1:0},j):j},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==j&&A(e),n=n.replace(le,"='$1']"),y.matchesSelector&&M&&!B[n+" "]&&(!D||!D.test(n))&&(!R||!R.test(n)))try{var i=N.call(e,n);if(i||y.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,j,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==j&&A(e),z(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==j&&A(e);var n=w.attrHandle[t.toLowerCase()],i=n&&U.call(w.attrHandle,t.toLowerCase())?n(e,t,!M):void 0;return void 0!==i?i:y.attributes||!M?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.escape=function(e){return(e+"").replace(_e,ye)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,o=0;if(k=!y.detectDuplicates,P=!y.sortStable&&e.slice(0),e.sort(q),k){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return P=null,e},x=t.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=x(t);return n},(w=t.selectors={cacheLength:50,createPseudo:i,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ve,be),e[3]=(e[3]||e[4]||e[5]||"").replace(ve,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ue.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ve,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=G[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&G(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(o){var r=t.attr(o,e);return null==r?"!="===n:!n||(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(oe," ")+" ").indexOf(i)>-1:"|="===n&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,f,g,p,h=r!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s,_=!1;if(m){if(r){for(;h;){for(f=t;f=f[h];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=h="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&b){for(_=(g=(u=(c=(d=(f=m)[L]||(f[L]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===F&&u[1])&&u[2],f=g&&m.childNodes[g];f=++g&&f&&f[h]||(_=g=0)||p.pop();)if(1===f.nodeType&&++_&&f===t){c[e]=[F,g,_];break}}else if(b&&(f=t,d=f[L]||(f[L]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),u=c[e]||[],g=u[0]===F&&u[1],_=g),!1===_)for(;(f=++g&&f&&f[h]||(_=g=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++_||(b&&(d=f[L]||(f[L]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),c[e]=[F,_]),f!==t)););return(_-=o)===i||_%i==0&&_/i>=0}}},PSEUDO:function(e,n){var o,r=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[L]?r(n):r.length>1?(o=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,o=r(e,n),a=o.length;a--;)i=K(e,o[a]),e[i]=!(t[i]=o[a])}):function(e){return r(e,0,o)}):r}},pseudos:{not:i(function(e){var t=[],n=[],o=C(e.replace(re,"$1"));return o[L]?i(function(e,t,n,i){for(var r,a=o(e,null,i,[]),s=e.length;s--;)(r=a[s])&&(e[s]=!(t[s]=r))}):function(e,i,r){return t[0]=e,o(t,null,r,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(ve,be),function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:i(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ve,be).toLowerCase(),function(t){var n;do{if(n=M?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:l(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=w.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[_]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(_);for(_ in{submit:!0,reset:!0})w.pseudos[_]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(_);return c.prototype=w.filters=w.pseudos,w.setFilters=new c,S=t.tokenize=function(e,n){var i,o,r,a,s,l,u,c=Q[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=w.preFilter;s;){i&&!(o=ae.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),i=!1,(o=se.exec(s))&&(i=o.shift(),r.push({value:i,type:o[0].replace(re," ")}),s=s.slice(i.length));for(a in w.filter)!(o=de[a].exec(s))||u[a]&&!(o=u[a](o))||(i=o.shift(),r.push({value:i,type:a,matches:o}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):Q(e,l).slice(0)},C=t.compile=function(e,t){var n,i=[],o=[],r=B[e+" "];if(!r){for(t||(t=S(e)),n=t.length;n--;)(r=v(t[n]))[L]?i.push(r):o.push(r);(r=B(e,b(o,i))).selector=e}return r},E=t.select=function(e,t,n,i){var o,r,a,s,l,c="function"==typeof e&&e,f=!i&&S(e=c.selector||e);if(n=n||[],1===f.length){if((r=f[0]=f[0].slice(0)).length>2&&"ID"===(a=r[0]).type&&9===t.nodeType&&M&&w.relative[r[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(ve,be),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=de.needsContext.test(e)?0:r.length;o--&&(a=r[o],!w.relative[s=a.type]);)if((l=w.find[s])&&(i=l(a.matches[0].replace(ve,be),me.test(r[0].type)&&u(t.parentNode)||t))){if(r.splice(o,1),!(e=i.length&&d(r)))return X.apply(n,i),n;break}}return(c||C(e,f))(i,t,!M,n,!t||me.test(e)&&u(t.parentNode)||t),n},y.sortStable=L.split("").sort(q).join("")===L,y.detectDuplicates=!!k,A(),y.sortDetached=o(function(e){return 1&e.compareDocumentPosition(j.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),y.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||r(J,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);ge.find=be,ge.expr=be.selectors,ge.expr[":"]=ge.expr.pseudos,ge.uniqueSort=ge.unique=be.uniqueSort,ge.text=be.getText,ge.isXMLDoc=be.isXML,ge.contains=be.contains,ge.escapeSelector=be.escape;var _e=function(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&ge(e).is(n))break;i.push(e)}return i},ye=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},we=ge.expr.match.needsContext,xe=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Te=/^.[^:#\[\.,]*$/;ge.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ge.find.matchesSelector(i,e)?[i]:[]:ge.find.matches(e,ge.grep(t,function(e){return 1===e.nodeType}))},ge.fn.extend({find:function(e){var t,n,i=this.length,o=this;if("string"!=typeof e)return this.pushStack(ge(e).filter(function(){for(t=0;t<i;t++)if(ge.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)ge.find(e,o[t],n);return i>1?ge.uniqueSort(n):n},filter:function(e){return this.pushStack(o(this,e||[],!1))},not:function(e){return this.pushStack(o(this,e||[],!0))},is:function(e){return!!o(this,"string"==typeof e&&we.test(e)?ge(e):e||[],!1).length}});var Se,Ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ge.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||Se,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ce.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof ge?t[0]:t,ge.merge(this,ge.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:ee,!0)),xe.test(i[1])&&ge.isPlainObject(t))for(i in t)ge.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=ee.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):ge.isFunction(e)?void 0!==n.ready?n.ready(e):e(ge):ge.makeArray(e,this)}).prototype=ge.fn,Se=ge(ee);var Ee=/^(?:parents|prev(?:Until|All))/,Ie={children:!0,contents:!0,next:!0,prev:!0};ge.fn.extend({has:function(e){var t=ge(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ge.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,o=this.length,r=[],a="string"!=typeof e&&ge(e);if(!we.test(e))for(;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ge.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?ge.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?re.call(ge(e),this[0]):re.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ge.uniqueSort(ge.merge(this.get(),ge(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ge.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return _e(e,"parentNode")},parentsUntil:function(e,t,n){return _e(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return _e(e,"nextSibling")},prevAll:function(e){return _e(e,"previousSibling")},nextUntil:function(e,t,n){return _e(e,"nextSibling",n)},prevUntil:function(e,t,n){return _e(e,"previousSibling",n)},siblings:function(e){return ye((e.parentNode||{}).firstChild,e)},children:function(e){return ye(e.firstChild)},contents:function(e){return e.contentDocument||ge.merge([],e.childNodes)}},function(e,t){ge.fn[e]=function(n,i){var o=ge.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=ge.filter(i,o)),this.length>1&&(Ie[e]||ge.uniqueSort(o),Ee.test(e)&&o.reverse()),this.pushStack(o)}});var Pe=/[^\x20\t\r\n\f]+/g;ge.Callbacks=function(e){e="string"==typeof e?a(e):ge.extend({},e);var t,n,i,o,r=[],s=[],l=-1,u=function(){for(o=e.once,i=t=!0;s.length;l=-1)for(n=s.shift();++l<r.length;)!1===r[l].apply(n[0],n[1])&&e.stopOnFalse&&(l=r.length,n=!1);e.memory||(n=!1),t=!1,o&&(r=n?[]:"")},c={add:function(){return r&&(n&&!t&&(l=r.length-1,s.push(n)),function t(n){ge.each(n,function(n,i){ge.isFunction(i)?e.unique&&c.has(i)||r.push(i):i&&i.length&&"string"!==ge.type(i)&&t(i)})}(arguments),n&&!t&&u()),this},remove:function(){return ge.each(arguments,function(e,t){for(var n;(n=ge.inArray(t,r,n))>-1;)r.splice(n,1),n<=l&&l--}),this},has:function(e){return e?ge.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=s=[],r=n="",this},disabled:function(){return!r},lock:function(){return o=s=[],n||t||(r=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},ge.extend({Deferred:function(t){var n=[["notify","progress",ge.Callbacks("memory"),ge.Callbacks("memory"),2],["resolve","done",ge.Callbacks("once memory"),ge.Callbacks("once memory"),0,"resolved"],["reject","fail",ge.Callbacks("once memory"),ge.Callbacks("once memory"),1,"rejected"]],i="pending",o={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return ge.Deferred(function(t){ge.each(n,function(n,i){var o=ge.isFunction(e[i[4]])&&e[i[4]];r[i[1]](function(){var e=o&&o.apply(this,arguments);e&&ge.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(t,i,o){function r(t,n,i,o){return function(){var u=this,c=arguments,d=function(){var e,d;if(!(t<a)){if((e=i.apply(u,c))===n.promise())throw new TypeError("Thenable self-resolution");d=e&&("object"==typeof e||"function"==typeof e)&&e.then,ge.isFunction(d)?o?d.call(e,r(a,n,s,o),r(a,n,l,o)):(a++,d.call(e,r(a,n,s,o),r(a,n,l,o),r(a,n,s,n.notifyWith))):(i!==s&&(u=void 0,c=[e]),(o||n.resolveWith)(u,c))}},f=o?d:function(){try{d()}catch(e){ge.Deferred.exceptionHook&&ge.Deferred.exceptionHook(e,f.stackTrace),t+1>=a&&(i!==l&&(u=void 0,c=[e]),n.rejectWith(u,c))}};t?f():(ge.Deferred.getStackHook&&(f.stackTrace=ge.Deferred.getStackHook()),e.setTimeout(f))}}var a=0;return ge.Deferred(function(e){n[0][3].add(r(0,e,ge.isFunction(o)?o:s,e.notifyWith)),n[1][3].add(r(0,e,ge.isFunction(t)?t:s)),n[2][3].add(r(0,e,ge.isFunction(i)?i:l))}).promise()},promise:function(e){return null!=e?ge.extend(e,o):o}},r={};return ge.each(n,function(e,t){var a=t[2],s=t[5];o[t[1]]=a.add,s&&a.add(function(){i=s},n[3-e][2].disable,n[0][2].lock),a.add(t[3].fire),r[t[0]]=function(){return r[t[0]+"With"](this===r?void 0:this,arguments),this},r[t[0]+"With"]=a.fireWith}),o.promise(r),t&&t.call(r,r),r},when:function(e){var t=arguments.length,n=t,i=Array(n),o=ne.call(arguments),r=ge.Deferred(),a=function(e){return function(n){i[e]=this,o[e]=arguments.length>1?ne.call(arguments):n,--t||r.resolveWith(i,o)}};if(t<=1&&(u(e,r.done(a(n)).resolve,r.reject),"pending"===r.state()||ge.isFunction(o[n]&&o[n].then)))return r.then();for(;n--;)u(o[n],a(n),r.reject);return r.promise()}});var ke=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ge.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&ke.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},ge.readyException=function(t){e.setTimeout(function(){throw t})};var Ae=ge.Deferred();ge.fn.ready=function(e){return Ae.then(e).catch(function(e){ge.readyException(e)}),this},ge.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ge.readyWait++:ge.ready(!0)},ready:function(e){(!0===e?--ge.readyWait:ge.isReady)||(ge.isReady=!0,!0!==e&&--ge.readyWait>0||Ae.resolveWith(ee,[ge]))}}),ge.ready.then=Ae.then,"complete"===ee.readyState||"loading"!==ee.readyState&&!ee.documentElement.doScroll?e.setTimeout(ge.ready):(ee.addEventListener("DOMContentLoaded",c),e.addEventListener("load",c));var je=function(e,t,n,i,o,r,a){var s=0,l=e.length,u=null==n;if("object"===ge.type(n)){o=!0;for(s in n)je(e,t,s,n[s],!0,r,a)}else if(void 0!==i&&(o=!0,ge.isFunction(i)||(a=!0),u&&(a?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(ge(e),n)})),t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return o?e:u?t.call(e):l?t(e[0],n):r},Oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};d.uid=1,d.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,o=this.cache(e);if("string"==typeof t)o[ge.camelCase(t)]=n;else for(i in t)o[ge.camelCase(i)]=t[i];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ge.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){ge.isArray(t)?t=t.map(ge.camelCase):(t=ge.camelCase(t),t=t in i?[t]:t.match(Pe)||[]),n=t.length;for(;n--;)delete i[t[n]]}(void 0===t||ge.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ge.isEmptyObject(t)}};var Me=new d,Re=new d,De=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ne=/[A-Z]/g;ge.extend({hasData:function(e){return Re.hasData(e)||Me.hasData(e)},data:function(e,t,n){return Re.access(e,t,n)},removeData:function(e,t){Re.remove(e,t)},_data:function(e,t,n){return Me.access(e,t,n)},_removeData:function(e,t){Me.remove(e,t)}}),ge.fn.extend({data:function(e,t){var n,i,o,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(o=Re.get(r),1===r.nodeType&&!Me.get(r,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=ge.camelCase(i.slice(5)),g(r,i,o[i]));Me.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){Re.set(this,e)}):je(this,function(t){var n;if(r&&void 0===t){if(void 0!==(n=Re.get(r,e)))return n;if(void 0!==(n=g(r,e)))return n}else this.each(function(){Re.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Re.remove(this,e)})}}),ge.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Me.get(e,t),n&&(!i||ge.isArray(n)?i=Me.access(e,t,ge.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=ge.queue(e,t),i=n.length,o=n.shift(),r=ge._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,function(){ge.dequeue(e,t)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Me.get(e,n)||Me.access(e,n,{empty:ge.Callbacks("once memory").add(function(){Me.remove(e,[t+"queue",n])})})}}),ge.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ge.queue(this[0],e):void 0===t?this:this.each(function(){var n=ge.queue(this,e,t);ge._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ge.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ge.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=ge.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Me.get(r[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(t)}});var ze=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Le=new RegExp("^(?:([+-])=|)("+ze+")([a-z%]*)$","i"),He=["Top","Right","Bottom","Left"],Fe=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ge.contains(e.ownerDocument,e)&&"none"===ge.css(e,"display")},We=function(e,t,n,i){var o,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];o=n.apply(e,i||[]);for(r in t)e.style[r]=a[r];return o},Ge={};ge.fn.extend({show:function(){return m(this,!0)},hide:function(){return m(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Fe(this)?ge(this).show():ge(this).hide()})}});var Qe=/^(?:checkbox|radio)$/i,Be=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,qe=/^$|\/(?:java|ecma)script/i,Ue={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ue.optgroup=Ue.option,Ue.tbody=Ue.tfoot=Ue.colgroup=Ue.caption=Ue.thead,Ue.th=Ue.td;var Ve=/<|&#?\w+;/;!function(){var e=ee.createDocumentFragment().appendChild(ee.createElement("div")),t=ee.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),de.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",de.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ye=ee.documentElement,$e=/^key/,Xe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ze=/^([^.]*)(?:\.(.+)|)/;ge.event={global:{},add:function(e,t,n,i,o){var r,a,s,l,u,c,d,f,g,p,h,m=Me.get(e);if(m)for(n.handler&&(r=n,n=r.handler,o=r.selector),o&&ge.find.matchesSelector(Ye,o),n.guid||(n.guid=ge.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(t){return void 0!==ge&&ge.event.triggered!==t.type?ge.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(Pe)||[""]).length;u--;)s=Ze.exec(t[u])||[],g=h=s[1],p=(s[2]||"").split(".").sort(),g&&(d=ge.event.special[g]||{},g=(o?d.delegateType:d.bindType)||g,d=ge.event.special[g]||{},c=ge.extend({type:g,origType:h,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&ge.expr.match.needsContext.test(o),namespace:p.join(".")},r),(f=l[g])||(f=l[g]=[],f.delegateCount=0,d.setup&&!1!==d.setup.call(e,i,p,a)||e.addEventListener&&e.addEventListener(g,a)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,c):f.push(c),ge.event.global[g]=!0)},remove:function(e,t,n,i,o){var r,a,s,l,u,c,d,f,g,p,h,m=Me.hasData(e)&&Me.get(e);if(m&&(l=m.events)){for(u=(t=(t||"").match(Pe)||[""]).length;u--;)if(s=Ze.exec(t[u])||[],g=h=s[1],p=(s[2]||"").split(".").sort(),g){for(d=ge.event.special[g]||{},f=l[g=(i?d.delegateType:d.bindType)||g]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=f.length;r--;)c=f[r],!o&&h!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(r,1),c.selector&&f.delegateCount--,d.remove&&d.remove.call(e,c));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,p,m.handle)||ge.removeEvent(e,g,m.handle),delete l[g])}else for(g in l)ge.event.remove(e,g+t[u],n,i,!0);ge.isEmptyObject(l)&&Me.remove(e,"handle events")}},dispatch:function(e){var t,n,i,o,r,a,s=ge.event.fix(e),l=new Array(arguments.length),u=(Me.get(this,"events")||{})[s.type]||[],c=ge.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=ge.event.handlers.call(this,s,u),t=0;(o=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(r.namespace)||(s.handleObj=r,s.data=r.data,void 0!==(i=((ge.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,o,r,a,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(r=[],a={},n=0;n<l;n++)i=t[n],o=i.selector+" ",void 0===a[o]&&(a[o]=i.needsContext?ge(o,this).index(u)>-1:ge.find(o,this,null,[u]).length),a[o]&&r.push(i);r.length&&s.push({elem:u,handlers:r})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(ge.Event.prototype,e,{enumerable:!0,configurable:!0,get:ge.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[ge.expando]?e:new ge.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==x()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===x()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ge.nodeName(this,"input"))return this.click(),!1},_default:function(e){return ge.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ge.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ge.Event=function(e,t){return this instanceof ge.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?y:w,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ge.extend(this,t),this.timeStamp=e&&e.timeStamp||ge.now(),void(this[ge.expando]=!0)):new ge.Event(e,t)},ge.Event.prototype={constructor:ge.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=y,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=y,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=y,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ge.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&$e.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Xe.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},ge.event.addProp),ge.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ge.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,r=e.handleObj;return o&&(o===i||ge.contains(i,o))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),ge.fn.extend({on:function(e,t,n,i){return T(this,e,t,n,i)},one:function(e,t,n,i){return T(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ge(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=w),this.each(function(){ge.event.remove(this,e,n,t)})}});var Ke=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Je=/<script|<style|<link/i,et=/checked\s*(?:[^=]|=\s*.checked.)/i,tt=/^true\/(.*)/,nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ge.extend({htmlPrefilter:function(e){return e.replace(Ke,"<$1></$2>")},clone:function(e,t,n){var i,o,r,a,s=e.cloneNode(!0),l=ge.contains(e.ownerDocument,e);if(!(de.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ge.isXMLDoc(e)))for(a=v(s),r=v(e),i=0,o=r.length;i<o;i++)P(r[i],a[i]);if(t)if(n)for(r=r||v(e),a=a||v(s),i=0,o=r.length;i<o;i++)I(r[i],a[i]);else I(e,s);return(a=v(s,"script")).length>0&&b(a,!l&&v(e,"script")),s},cleanData:function(e){for(var t,n,i,o=ge.event.special,r=0;void 0!==(n=e[r]);r++)if(Oe(n)){if(t=n[Me.expando]){if(t.events)for(i in t.events)o[i]?ge.event.remove(n,i):ge.removeEvent(n,i,t.handle);n[Me.expando]=void 0}n[Re.expando]&&(n[Re.expando]=void 0)}}}),ge.fn.extend({detach:function(e){return A(this,e,!0)},remove:function(e){return A(this,e)},text:function(e){return je(this,function(e){return void 0===e?ge.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return k(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||S(this,e).appendChild(e)})},prepend:function(){return k(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=S(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return k(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return k(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ge.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ge.clone(this,e,t)})},html:function(e){return je(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Je.test(e)&&!Ue[(Be.exec(e)||["",""])[1].toLowerCase()]){e=ge.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(ge.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return k(this,arguments,function(t){var n=this.parentNode;ge.inArray(this,e)<0&&(ge.cleanData(v(this)),n&&n.replaceChild(t,this))},e)}}),ge.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ge.fn[e]=function(e){for(var n,i=[],o=ge(e),r=o.length-1,a=0;a<=r;a++)n=a===r?this:this.clone(!0),ge(o[a])[t](n),oe.apply(i,n.get());return this.pushStack(i)}});var it=/^margin/,ot=new RegExp("^("+ze+")(?!px)[a-z%]+$","i"),rt=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Ye.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,r="2px"===t.marginLeft,i="4px"===t.width,s.style.marginRight="50%",o="4px"===t.marginRight,Ye.removeChild(a),s=null}}var n,i,o,r,a=ee.createElement("div"),s=ee.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",de.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),ge.extend(de,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),i},pixelMarginRight:function(){return t(),o},reliableMarginLeft:function(){return t(),r}}))}();var at=/^(none|table(?!-c[ea]).+)/,st={position:"absolute",visibility:"hidden",display:"block"},lt={letterSpacing:"0",fontWeight:"400"},ut=["Webkit","Moz","ms"],ct=ee.createElement("div").style;ge.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=j(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=ge.camelCase(t),l=e.style;return t=ge.cssProps[s]||(ge.cssProps[s]=M(s)||s),a=ge.cssHooks[t]||ge.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(o=a.get(e,!1,i))?o:l[t]:("string"===(r=typeof n)&&(o=Le.exec(n))&&o[1]&&(n=p(e,t,o),r="number"),void(null!=n&&n===n&&("number"===r&&(n+=o&&o[3]||(ge.cssNumber[s]?"":"px")),de.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n))))}},css:function(e,t,n,i){var o,r,a,s=ge.camelCase(t);return t=ge.cssProps[s]||(ge.cssProps[s]=M(s)||s),(a=ge.cssHooks[t]||ge.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=j(e,t,i)),"normal"===o&&t in lt&&(o=lt[t]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),ge.each(["height","width"],function(e,t){ge.cssHooks[t]={get:function(e,n,i){if(n)return!at.test(ge.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?N(e,t,i):We(e,st,function(){return N(e,t,i)})},set:function(e,n,i){var o,r=i&&rt(e),a=i&&D(e,t,i,"border-box"===ge.css(e,"boxSizing",!1,r),r);return a&&(o=Le.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=ge.css(e,t)),R(0,n,a)}}}),ge.cssHooks.marginLeft=O(de.reliableMarginLeft,function(e,t){if(t)return(parseFloat(j(e,"marginLeft"))||e.getBoundingClientRect().left-We(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ge.each({margin:"",padding:"",border:"Width"},function(e,t){ge.cssHooks[e+t]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[e+He[i]+t]=r[i]||r[i-2]||r[0];return o}},it.test(e)||(ge.cssHooks[e+t].set=R)}),ge.fn.extend({css:function(e,t){return je(this,function(e,t,n){var i,o,r={},a=0;if(ge.isArray(t)){for(i=rt(e),o=t.length;a<o;a++)r[t[a]]=ge.css(e,t[a],!1,i);return r}return void 0!==n?ge.style(e,t,n):ge.css(e,t)},e,t,arguments.length>1)}}),ge.Tween=z,z.prototype={constructor:z,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||ge.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ge.cssNumber[n]?"":"px")},cur:function(){var e=z.propHooks[this.prop];return e&&e.get?e.get(this):z.propHooks._default.get(this)},run:function(e){var t,n=z.propHooks[this.prop];return this.options.duration?this.pos=t=ge.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):z.propHooks._default.set(this),this}},z.prototype.init.prototype=z.prototype,z.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ge.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){ge.fx.step[e.prop]?ge.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ge.cssProps[e.prop]]&&!ge.cssHooks[e.prop]?e.elem[e.prop]=e.now:ge.style(e.elem,e.prop,e.now+e.unit)}}},z.propHooks.scrollTop=z.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ge.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ge.fx=z.prototype.init,ge.fx.step={};var dt,ft,gt=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;ge.Animation=ge.extend(Q,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return p(n.elem,e,Le.exec(t),n),n}]},tweener:function(e,t){ge.isFunction(e)?(t=e,e=["*"]):e=e.match(Pe);for(var n,i=0,o=e.length;i<o;i++)n=e[i],Q.tweeners[n]=Q.tweeners[n]||[],Q.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,o,r,a,s,l,u,c,d="width"in t||"height"in t,f=this,g={},p=e.style,h=e.nodeType&&Fe(e),v=Me.get(e,"fxshow");n.queue||(null==(a=ge._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,ge.queue(e,"fx").length||a.empty.fire()})}));for(i in t)if(o=t[i],gt.test(o)){if(delete t[i],r=r||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!v||void 0===v[i])continue;h=!0}g[i]=v&&v[i]||ge.style(e,i)}if((l=!ge.isEmptyObject(t))||!ge.isEmptyObject(g)){d&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=v&&v.display)&&(u=Me.get(e,"display")),"none"===(c=ge.css(e,"display"))&&(u?c=u:(m([e],!0),u=e.style.display||u,c=ge.css(e,"display"),m([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===ge.css(e,"float")&&(l||(f.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1;for(i in g)l||(v?"hidden"in v&&(h=v.hidden):v=Me.access(e,"fxshow",{display:u}),r&&(v.hidden=!h),h&&m([e],!0),f.done(function(){h||m([e]),Me.remove(e,"fxshow");for(i in g)ge.style(e,i,g[i])})),l=W(h?v[i]:0,i,f),i in v||(v[i]=l.start,h&&(l.end=l.start,l.start=0))}}],prefilter:function(e,t){t?Q.prefilters.unshift(e):Q.prefilters.push(e)}}),ge.speed=function(e,t,n){var i=e&&"object"==typeof e?ge.extend({},e):{complete:n||!n&&t||ge.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ge.isFunction(t)&&t};return ge.fx.off||ee.hidden?i.duration=0:"number"!=typeof i.duration&&(i.duration in ge.fx.speeds?i.duration=ge.fx.speeds[i.duration]:i.duration=ge.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ge.isFunction(i.old)&&i.old.call(this),i.queue&&ge.dequeue(this,i.queue)},i},ge.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Fe).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=ge.isEmptyObject(e),r=ge.speed(t,n,i),a=function(){var t=Q(this,ge.extend({},e),r);(o||Me.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",r=ge.timers,a=Me.get(this);if(o)a[o]&&a[o].stop&&i(a[o]);else for(o in a)a[o]&&a[o].stop&&pt.test(o)&&i(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(n),t=!1,r.splice(o,1));!t&&n||ge.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Me.get(this),i=n[e+"queue"],o=n[e+"queueHooks"],r=ge.timers,a=i?i.length:0;for(n.finish=!0,ge.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ge.each(["toggle","show","hide"],function(e,t){var n=ge.fn[t];ge.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(F(t,!0),e,i,o)}}),ge.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ge.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ge.timers=[],ge.fx.tick=function(){var e,t=0,n=ge.timers;for(dt=ge.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ge.fx.stop(),dt=void 0},ge.fx.timer=function(e){ge.timers.push(e),e()?ge.fx.start():ge.timers.pop()},ge.fx.interval=13,ge.fx.start=function(){ft||(ft=e.requestAnimationFrame?e.requestAnimationFrame(L):e.setInterval(ge.fx.tick,ge.fx.interval))},ge.fx.stop=function(){e.cancelAnimationFrame?e.cancelAnimationFrame(ft):e.clearInterval(ft),ft=null},ge.fx.speeds={slow:600,fast:200,_default:400},ge.fn.delay=function(t,n){return t=ge.fx?ge.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,i){var o=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(o)}})},function(){var e=ee.createElement("input"),t=ee.createElement("select").appendChild(ee.createElement("option"));e.type="checkbox",de.checkOn=""!==e.value,de.optSelected=t.selected,(e=ee.createElement("input")).value="t",e.type="radio",de.radioValue="t"===e.value}();var ht,mt=ge.expr.attrHandle;ge.fn.extend({attr:function(e,t){return je(this,ge.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ge.removeAttr(this,e)})}}),ge.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?ge.prop(e,t,n):(1===r&&ge.isXMLDoc(e)||(o=ge.attrHooks[t.toLowerCase()]||(ge.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void ge.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(i=o.get(e,t))?i:null==(i=ge.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!de.radioValue&&"radio"===t&&ge.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,o=t&&t.match(Pe);if(o&&1===e.nodeType)for(;n=o[i++];)e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?ge.removeAttr(e,n):e.setAttribute(n,n),n}},ge.each(ge.expr.match.bool.source.match(/\w+/g),function(e,t){var n=mt[t]||ge.find.attr;mt[t]=function(e,t,i){var o,r,a=t.toLowerCase();return i||(r=mt[a],mt[a]=o,o=null!=n(e,t,i)?a:null,mt[a]=r),o}});var vt=/^(?:input|select|textarea|button)$/i,bt=/^(?:a|area)$/i;ge.fn.extend({prop:function(e,t){return je(this,ge.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ge.propFix[e]||e]})}}),ge.extend({prop:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&ge.isXMLDoc(e)||(t=ge.propFix[t]||t,o=ge.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=ge.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),de.optSelected||(ge.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ge.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ge.propFix[this.toLowerCase()]=this}),ge.fn.extend({addClass:function(e){var t,n,i,o,r,a,s,l=0;if(ge.isFunction(e))return this.each(function(t){ge(this).addClass(e.call(this,t,q(this)))});if("string"==typeof e&&e)for(t=e.match(Pe)||[];n=this[l++];)if(o=q(n),i=1===n.nodeType&&" "+B(o)+" "){for(a=0;r=t[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o!==(s=B(i))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,o,r,a,s,l=0;if(ge.isFunction(e))return this.each(function(t){ge(this).removeClass(e.call(this,t,q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Pe)||[];n=this[l++];)if(o=q(n),i=1===n.nodeType&&" "+B(o)+" "){for(a=0;r=t[a++];)for(;i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");o!==(s=B(i))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ge.isFunction(e)?this.each(function(n){ge(this).toggleClass(e.call(this,n,q(this),t),t)}):this.each(function(){var t,i,o,r;if("string"===n)for(i=0,o=ge(this),r=e.match(Pe)||[];t=r[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=q(this))&&Me.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Me.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+B(q(n))+" ").indexOf(t)>-1)return!0;return!1}});var _t=/\r/g;ge.fn.extend({val:function(e){var t,n,i,o=this[0];return arguments.length?(i=ge.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(null==(o=i?e.call(this,n,ge(this).val()):e)?o="":"number"==typeof o?o+="":ge.isArray(o)&&(o=ge.map(o,function(e){return null==e?"":e+""})),(t=ge.valHooks[this.type]||ge.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=ge.valHooks[o.type]||ge.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(_t,""):null==n?"":n:void 0}}),ge.extend({valHooks:{option:{get:function(e){var t=ge.find.attr(e,"value");return null!=t?t:B(ge.text(e))}},select:{get:function(e){var t,n,i,o=e.options,r=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?r+1:o.length;for(i=r<0?l:a?r:0;i<l;i++)if(((n=o[i]).selected||i===r)&&!n.disabled&&(!n.parentNode.disabled||!ge.nodeName(n.parentNode,"optgroup"))){if(t=ge(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,o=e.options,r=ge.makeArray(t),a=o.length;a--;)i=o[a],(i.selected=ge.inArray(ge.valHooks.option.get(i),r)>-1)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),ge.each(["radio","checkbox"],function(){ge.valHooks[this]={set:function(e,t){if(ge.isArray(t))return e.checked=ge.inArray(ge(e).val(),t)>-1}},de.checkOn||(ge.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var yt=/^(?:focusinfocus|focusoutblur)$/;ge.extend(ge.event,{trigger:function(t,n,i,o){var r,a,s,l,u,c,d,f=[i||ee],g=le.call(t,"type")?t.type:t,p=le.call(t,"namespace")?t.namespace.split("."):[];if(a=s=i=i||ee,3!==i.nodeType&&8!==i.nodeType&&!yt.test(g+ge.event.triggered)&&(g.indexOf(".")>-1&&(p=g.split("."),g=p.shift(),p.sort()),u=g.indexOf(":")<0&&"on"+g,t=t[ge.expando]?t:new ge.Event(g,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:ge.makeArray(n,[t]),d=ge.event.special[g]||{},o||!d.trigger||!1!==d.trigger.apply(i,n))){if(!o&&!d.noBubble&&!ge.isWindow(i)){for(l=d.delegateType||g,yt.test(l+g)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(i.ownerDocument||ee)&&f.push(s.defaultView||s.parentWindow||e)}for(r=0;(a=f[r++])&&!t.isPropagationStopped();)t.type=r>1?l:d.bindType||g,(c=(Me.get(a,"events")||{})[t.type]&&Me.get(a,"handle"))&&c.apply(a,n),(c=u&&a[u])&&c.apply&&Oe(a)&&(t.result=c.apply(a,n),!1===t.result&&t.preventDefault());return t.type=g,o||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(f.pop(),n)||!Oe(i)||u&&ge.isFunction(i[g])&&!ge.isWindow(i)&&((s=i[u])&&(i[u]=null),ge.event.triggered=g,i[g](),ge.event.triggered=void 0,s&&(i[u]=s)),t.result}},simulate:function(e,t,n){var i=ge.extend(new ge.Event,n,{type:e,isSimulated:!0});ge.event.trigger(i,null,t)}}),ge.fn.extend({trigger:function(e,t){return this.each(function(){ge.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ge.event.trigger(e,t,n,!0)}}),ge.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){ge.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ge.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),de.focusin="onfocusin"in e,de.focusin||ge.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ge.event.simulate(t,e.target,ge.event.fix(e))};ge.event.special[t]={setup:function(){var i=this.ownerDocument||this,o=Me.access(i,t);o||i.addEventListener(e,n,!0),Me.access(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=Me.access(i,t)-1;o?Me.access(i,t,o):(i.removeEventListener(e,n,!0),Me.remove(i,t))}}});var wt=e.location,xt=ge.now(),Tt=/\?/;ge.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||ge.error("Invalid XML: "+t),n};var St=/\[\]$/,Ct=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,It=/^(?:input|select|textarea|keygen)/i;ge.param=function(e,t){var n,i=[],o=function(e,t){var n=ge.isFunction(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(ge.isArray(e)||e.jquery&&!ge.isPlainObject(e))ge.each(e,function(){o(this.name,this.value)});else for(n in e)U(n,e[n],t,o);return i.join("&")},ge.fn.extend({serialize:function(){return ge.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ge.prop(this,"elements");return e?ge.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ge(this).is(":disabled")&&It.test(this.nodeName)&&!Et.test(e)&&(this.checked||!Qe.test(e))}).map(function(e,t){var n=ge(this).val();return null==n?null:ge.isArray(n)?ge.map(n,function(e){return{name:t.name,value:e.replace(Ct,"\r\n")}}):{name:t.name,value:n.replace(Ct,"\r\n")}}).get()}});var Pt=/%20/g,kt=/#.*$/,At=/([?&])_=[^&]*/,jt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Dt={},Nt={},zt="*/".concat("*"),Lt=ee.createElement("a");Lt.href=wt.href,ge.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:Ot.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ge.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?$($(e,ge.ajaxSettings),t):$(ge.ajaxSettings,e)},ajaxPrefilter:V(Dt),ajaxTransport:V(Nt),ajax:function(t,n){function i(t,n,i,s){var u,f,g,y,w,x=n;c||(c=!0,l&&e.clearTimeout(l),o=void 0,a=s||"",T.readyState=t>0?4:0,u=t>=200&&t<300||304===t,i&&(y=X(p,T,i)),y=Z(p,y,T,u),u?(p.ifModified&&((w=T.getResponseHeader("Last-Modified"))&&(ge.lastModified[r]=w),(w=T.getResponseHeader("etag"))&&(ge.etag[r]=w)),204===t||"HEAD"===p.type?x="nocontent":304===t?x="notmodified":(x=y.state,f=y.data,g=y.error,u=!g)):(g=x,!t&&x||(x="error",t<0&&(t=0))),T.status=t,T.statusText=(n||x)+"",u?v.resolveWith(h,[f,x,T]):v.rejectWith(h,[T,x,g]),T.statusCode(_),_=void 0,d&&m.trigger(u?"ajaxSuccess":"ajaxError",[T,p,u?f:g]),b.fireWith(h,[T,x]),d&&(m.trigger("ajaxComplete",[T,p]),--ge.active||ge.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var o,r,a,s,l,u,c,d,f,g,p=ge.ajaxSetup({},n),h=p.context||p,m=p.context&&(h.nodeType||h.jquery)?ge(h):ge.event,v=ge.Deferred(),b=ge.Callbacks("once memory"),_=p.statusCode||{},y={},w={},x="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=jt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,y[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)T.always(e[T.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||x;return o&&o.abort(t),i(0,t),this}};if(v.promise(T),p.url=((t||p.url||wt.href)+"").replace(Rt,wt.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Pe)||[""],null==p.crossDomain){u=ee.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Lt.protocol+"//"+Lt.host!=u.protocol+"//"+u.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ge.param(p.data,p.traditional)),Y(Dt,p,n,T),c)return T;(d=ge.event&&p.global)&&0==ge.active++&&ge.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Mt.test(p.type),r=p.url.replace(kt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Pt,"+")):(g=p.url.slice(r.length),p.data&&(r+=(Tt.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(At,"$1"),g=(Tt.test(r)?"&":"?")+"_="+xt+++g),p.url=r+g),p.ifModified&&(ge.lastModified[r]&&T.setRequestHeader("If-Modified-Since",ge.lastModified[r]),ge.etag[r]&&T.setRequestHeader("If-None-Match",ge.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+zt+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)T.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(h,T,p)||c))return T.abort();if(x="abort",b.add(p.complete),T.done(p.success),T.fail(p.error),o=Y(Nt,p,n,T)){if(T.readyState=1,d&&m.trigger("ajaxSend",[T,p]),c)return T;p.async&&p.timeout>0&&(l=e.setTimeout(function(){T.abort("timeout")},p.timeout));try{c=!1,o.send(y,i)}catch(e){if(c)throw e;i(-1,e)}}else i(-1,"No Transport");return T},getJSON:function(e,t,n){return ge.get(e,t,n,"json")},getScript:function(e,t){return ge.get(e,void 0,t,"script")}}),ge.each(["get","post"],function(e,t){ge[t]=function(e,n,i,o){return ge.isFunction(n)&&(o=o||i,i=n,n=void 0),ge.ajax(ge.extend({url:e,type:t,dataType:o,data:n,success:i},ge.isPlainObject(e)&&e))}}),ge._evalUrl=function(e){return ge.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ge.fn.extend({wrapAll:function(e){var t;return this[0]&&(ge.isFunction(e)&&(e=e.call(this[0])),t=ge(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return ge.isFunction(e)?this.each(function(t){ge(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ge(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ge.isFunction(e);return this.each(function(n){ge(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ge(this).replaceWith(this.childNodes)}),this}}),ge.expr.pseudos.hidden=function(e){return!ge.expr.pseudos.visible(e)},ge.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ge.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ht={0:200,1223:204},Ft=ge.ajaxSettings.xhr();de.cors=!!Ft&&"withCredentials"in Ft,de.ajax=Ft=!!Ft,ge.ajaxTransport(function(t){var n,i;if(de.cors||Ft&&!t.crossDomain)return{send:function(o,r){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(a in o)s.setRequestHeader(a,o[a]);n=function(e){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?r(0,"error"):r(s.status,s.statusText):r(Ht[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),ge.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ge.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ge.globalEval(e),e}}}),ge.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ge.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,o){t=ge("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),ee.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Wt=[],Gt=/(=)\?(?=&|$)|\?\?/;ge.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||ge.expando+"_"+xt++;return this[e]=!0,e}}),ge.ajaxPrefilter("json jsonp",function(t,n,i){var o,r,a,s=!1!==t.jsonp&&(Gt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=ge.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Gt,"$1"+o):!1!==t.jsonp&&(t.url+=(Tt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||ge.error(o+" was not called"),a[0]},t.dataTypes[0]="json",r=e[o],e[o]=function(){a=arguments},i.always(function(){void 0===r?ge(e).removeProp(o):e[o]=r,t[o]&&(t.jsonpCallback=n.jsonpCallback,Wt.push(o)),a&&ge.isFunction(r)&&r(a[0]),a=r=void 0}),"script"}),de.createHTMLDocument=function(){var e=ee.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),ge.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,o,r;return t||(de.createHTMLDocument?(t=ee.implementation.createHTMLDocument(""),i=t.createElement("base"),i.href=ee.location.href,t.head.appendChild(i)):t=ee),o=xe.exec(e),r=!n&&[],o?[t.createElement(o[1])]:(o=_([e],t,r),r&&r.length&&ge(r).remove(),ge.merge([],o.childNodes))},ge.fn.load=function(e,t,n){var i,o,r,a=this,s=e.indexOf(" ");return s>-1&&(i=B(e.slice(s)),e=e.slice(0,s)),ge.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&ge.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){r=arguments,a.html(i?ge("<div>").append(ge.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,r||[e.responseText,t,e])})}),this},ge.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ge.fn[t]=function(e){return this.on(t,e)}}),ge.expr.pseudos.animated=function(e){return ge.grep(ge.timers,function(t){return e===t.elem}).length},ge.offset={setOffset:function(e,t,n){var i,o,r,a,s,l,u=ge.css(e,"position"),c=ge(e),d={};"static"===u&&(e.style.position="relative"),s=c.offset(),r=ge.css(e,"top"),l=ge.css(e,"left"),("absolute"===u||"fixed"===u)&&(r+l).indexOf("auto")>-1?(i=c.position(),a=i.top,o=i.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),ge.isFunction(t)&&(t=t.call(e,n,ge.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):c.css(d)}},ge.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ge.offset.setOffset(this,e,t)});var t,n,i,o,r=this[0];return r?r.getClientRects().length?(i=r.getBoundingClientRect()).width||i.height?(o=r.ownerDocument,n=K(o),t=o.documentElement,{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===ge.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ge.nodeName(e[0],"html")||(i=e.offset()),i={top:i.top+ge.css(e[0],"borderTopWidth",!0),left:i.left+ge.css(e[0],"borderLeftWidth",!0)}),{top:t.top-i.top-ge.css(n,"marginTop",!0),left:t.left-i.left-ge.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ge.css(e,"position");)e=e.offsetParent;return e||Ye})}}),ge.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;ge.fn[e]=function(i){return je(this,function(e,i,o){var r=K(e);return void 0===o?r?r[t]:e[i]:void(r?r.scrollTo(n?r.pageXOffset:o,n?o:r.pageYOffset):e[i]=o)},e,i,arguments.length)}}),ge.each(["top","left"],function(e,t){ge.cssHooks[t]=O(de.pixelPosition,function(e,n){if(n)return n=j(e,t),ot.test(n)?ge(e).position()[t]+"px":n})}),ge.each({Height:"height",Width:"width"},function(e,t){ge.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){ge.fn[i]=function(o,r){var a=arguments.length&&(n||"boolean"!=typeof o),s=n||(!0===o||!0===r?"margin":"border");return je(this,function(t,n,o){var r;return ge.isWindow(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===o?ge.css(t,n,s):ge.style(t,n,o,s)},t,a?o:void 0,a)}})}),ge.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),ge.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ge});var Qt=e.jQuery,Bt=e.$;return ge.noConflict=function(t){return e.$===ge&&(e.$=Bt),t&&e.jQuery===ge&&(e.jQuery=Qt),ge},t||(e.jQuery=e.$=ge),ge}),function(e,t,n,i){e.site=e.fn.site=function(i){var o,r,a=(new Date).getTime(),s=[],l=arguments[0],u="string"==typeof l,c=[].slice.call(arguments,1),d=e.isPlainObject(i)?e.extend(!0,{},e.site.settings,i):e.extend({},e.site.settings),f=d.namespace,g=d.error,p="module-"+f,h=e(n),m=this,v=h.data(p);return o={initialize:function(){o.instantiate()},instantiate:function(){o.verbose("Storing instance of site",o),v=o,h.data(p,o)},normalize:function(){o.fix.console(),o.fix.requestAnimationFrame()},fix:{console:function(){o.debug("Normalizing window.console"),void 0!==console&&void 0!==console.log||(o.verbose("Console not available, normalizing events"),o.disable.console()),void 0!==console.group&&void 0!==console.groupEnd&&void 0!==console.groupCollapsed||(o.verbose("Console group not available, normalizing events"),t.console.group=function(){},t.console.groupEnd=function(){},t.console.groupCollapsed=function(){}),void 0===console.markTimeline&&(o.verbose("Mark timeline not available, normalizing events"),t.console.markTimeline=function(){})},consoleClear:function(){o.debug("Disabling programmatic console clearing"),t.console.clear=function(){}},requestAnimationFrame:function(){o.debug("Normalizing requestAnimationFrame"),void 0===t.requestAnimationFrame&&(o.debug("RequestAnimationFrame not available, normalizing event"),t.requestAnimationFrame=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(t){return void 0!==e.fn[t]&&void 0!==e.fn[t].settings},enabled:{modules:function(t){var n=[];return t=t||d.modules,e.each(t,function(e,t){o.moduleExists(t)&&n.push(t)}),n}},disabled:{modules:function(t){var n=[];return t=t||d.modules,e.each(t,function(e,t){o.moduleExists(t)||n.push(t)}),n}},change:{setting:function(t,n,i,r){i="string"==typeof i?"all"===i?d.modules:[i]:i||d.modules,r=void 0===r||r,e.each(i,function(i,a){var s,l=!o.moduleExists(a)||e.fn[a].settings.namespace||!1;o.moduleExists(a)&&(o.verbose("Changing default setting",t,n,a),e.fn[a].settings[t]=n,r&&l&&(s=e(":data(module-"+l+")")).length>0&&(o.verbose("Modifying existing settings",s),s[a]("setting",t,n)))})},settings:function(t,n,i){n="string"==typeof n?[n]:n||d.modules,i=void 0===i||i,e.each(n,function(n,r){var a;o.moduleExists(r)&&(o.verbose("Changing default setting",t,r),e.extend(!0,e.fn[r].settings,t),i&&f&&(a=e(":data(module-"+f+")")).length>0&&(o.verbose("Modifying existing settings",a),a[r]("setting",t)))})}},enable:{console:function(){o.console(!0)},debug:function(e,t){e=e||d.modules,o.debug("Enabling debug for modules",e),o.change.setting("debug",!0,e,t)},verbose:function(e,t){e=e||d.modules,o.debug("Enabling verbose debug for modules",e),o.change.setting("verbose",!0,e,t)}},disable:{console:function(){o.console(!1)},debug:function(e,t){e=e||d.modules,o.debug("Disabling debug for modules",e),o.change.setting("debug",!1,e,t)},verbose:function(e,t){e=e||d.modules,o.debug("Disabling verbose debug for modules",e),o.change.setting("verbose",!1,e,t)}},console:function(e){if(e){if(void 0===v.cache.console)return void o.error(g.console);o.debug("Restoring console function"),t.console=v.cache.console}else o.debug("Disabling console function"),v.cache.console=t.console,t.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){o.verbose("Destroying previous site for",h),h.removeData(p)},cache:{},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(void 0===n)return d[t];d[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,o,t);else{if(void 0===n)return o[t];o[t]=n}},debug:function(){d.debug&&(d.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,d.name+":"),o.debug.apply(console,arguments)))},verbose:function(){d.verbose&&d.debug&&(d.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),o.verbose.apply(console,arguments)))},error:function(){o.error=Function.prototype.bind.call(console.error,console,d.name+":"),o.error.apply(console,arguments)},performance:{log:function(e){var t,n;d.performance&&(n=(t=(new Date).getTime())-(a||t),a=t,s.push({Element:m,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,500)},display:function(){var t=d.name+":",n=0;a=!1,clearTimeout(o.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,i){var a,s,l,u=v;return n=n||c,i=m||i,"string"==typeof t&&void 0!==u&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var r=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(u[r])&&n!=a)u=u[r];else{if(void 0!==u[r])return s=u[r],!1;if(!e.isPlainObject(u[i])||n==a)return void 0!==u[i]?(s=u[i],!1):(o.error(g.method,t),!1);u=u[i]}})),e.isFunction(s)?l=s.apply(i,n):void 0!==s&&(l=s),e.isArray(r)?r.push(l):void 0!==r?r=[r,l]:void 0!==l&&(r=l),s}},u?(void 0===v&&o.initialize(),o.invoke(l)):(void 0!==v&&o.destroy(),o.initialize()),void 0!==r?r:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])}})}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.form=function(t){var i,o=e(this),r=o.selector||"",a=(new Date).getTime(),s=[],l=arguments[0],u=arguments[1],c="string"==typeof l,d=[].slice.call(arguments,1);return o.each(function(){var f,g,p,h,m,v,b,_,y,w,x,T,S,C,E,I,P,k,A,j=e(this),O=this,M=[],R=!1;(A={initialize:function(){A.get.settings(),c?(void 0===k&&A.instantiate(),A.invoke(l)):(void 0!==k&&k.invoke("destroy"),A.verbose("Initializing form validation",j,_),A.bindEvents(),A.set.defaults(),A.instantiate())},instantiate:function(){A.verbose("Storing instance of module",A),k=A,j.data(I,A)},destroy:function(){A.verbose("Destroying previous module",k),A.removeEvents(),j.removeData(I)},refresh:function(){A.verbose("Refreshing selector cache"),f=j.find(x.field),g=j.find(x.group),p=j.find(x.message),h=j.find(x.prompt),m=j.find(x.submit),v=j.find(x.clear),b=j.find(x.reset)},submit:function(){A.verbose("Submitting form",j),j.submit()},attachEvents:function(t,n){n=n||"submit",e(t).on("click"+P,function(e){A[n](),e.preventDefault()})},bindEvents:function(){A.verbose("Attaching form events"),j.on("submit"+P,A.validate.form).on("blur"+P,x.field,A.event.field.blur).on("click"+P,x.submit,A.submit).on("click"+P,x.reset,A.reset).on("click"+P,x.clear,A.clear),_.keyboardShortcuts&&j.on("keydown"+P,x.field,A.event.field.keydown),f.each(function(){var t=e(this),n=t.prop("type"),i=A.get.changeEvent(n,t);e(this).on(i+P,A.event.field.change)})},clear:function(){f.each(function(){var t=e(this),n=t.parent(),i=t.closest(g),o=i.find(x.prompt),r=t.data(w.defaultValue)||"",a=n.is(x.uiCheckbox),s=n.is(x.uiDropdown);i.hasClass(T.error)&&(A.verbose("Resetting error on field",i),i.removeClass(T.error),o.remove()),s?(A.verbose("Resetting dropdown value",n,r),n.dropdown("clear")):a?t.prop("checked",!1):(A.verbose("Resetting field value",t,r),t.val(""))})},reset:function(){f.each(function(){var t=e(this),n=t.parent(),i=t.closest(g),o=i.find(x.prompt),r=t.data(w.defaultValue),a=n.is(x.uiCheckbox),s=n.is(x.uiDropdown),l=i.hasClass(T.error);void 0!==r&&(l&&(A.verbose("Resetting error on field",i),i.removeClass(T.error),o.remove()),s?(A.verbose("Resetting dropdown value",n,r),n.dropdown("restore defaults")):a?(A.verbose("Resetting checkbox value",n,r),t.prop("checked",r)):(A.verbose("Resetting field value",t,r),t.val(r)))})},determine:{isValid:function(){var t=!0;return e.each(y,function(e,n){A.validate.field(n,e,!0)||(t=!1)}),t}},is:{bracketedRule:function(e){return e.type&&e.type.match(_.regExp.bracket)},shorthandFields:function(e){var t=e[Object.keys(e)[0]];return A.is.shorthandRules(t)},shorthandRules:function(t){return"string"==typeof t||e.isArray(t)},empty:function(e){return!e||0===e.length||(e.is('input[type="checkbox"]')?!e.is(":checked"):A.is.blank(e))},blank:function(t){return""===e.trim(t.val())},valid:function(t){var n=!0;return t?(A.verbose("Checking if field is valid",t),A.validate.field(y[t],t,!1)):(A.verbose("Checking if form is valid"),e.each(y,function(e,t){A.is.valid(e)||(n=!1)}),n)}},removeEvents:function(){j.off(P),f.off(P),m.off(P),f.off(P)},event:{field:{keydown:function(t){var n=e(this),i=t.which,o=n.is(x.input),r=n.is(x.checkbox),a=n.closest(x.uiDropdown).length>0,s={enter:13,escape:27};i==s.escape&&(A.verbose("Escape key pressed blurring field"),n.blur()),t.ctrlKey||i!=s.enter||!o||a||r||(R||(n.one("keyup"+P,A.event.field.keyup),A.submit(),A.debug("Enter pressed on input submitting form")),R=!0)},keyup:function(){R=!1},blur:function(t){var n=e(this),i=n.closest(g),o=A.get.validation(n);i.hasClass(T.error)?(A.debug("Revalidating field",n,o),o&&A.validate.field(o)):"blur"!=_.on&&"change"!=_.on||o&&A.validate.field(o)},change:function(t){var n=e(this),i=n.closest(g),o=A.get.validation(n);o&&("change"==_.on||i.hasClass(T.error)&&_.revalidate)&&(clearTimeout(A.timer),A.timer=setTimeout(function(){A.debug("Revalidating field",n,A.get.validation(n)),A.validate.field(o)},_.delay))}}},get:{ancillaryValue:function(e){return!(!e.type||!e.value&&!A.is.bracketedRule(e))&&(void 0!==e.value?e.value:e.type.match(_.regExp.bracket)[1]+"")},ruleName:function(e){return A.is.bracketedRule(e)?e.type.replace(e.type.match(_.regExp.bracket)[0],""):e.type},changeEvent:function(e,t){return"checkbox"==e||"radio"==e||"hidden"==e||t.is("select")?"change":A.get.inputEvent()},inputEvent:function(){return void 0!==n.createElement("input").oninput?"input":void 0!==n.createElement("input").onpropertychange?"propertychange":"keyup"},fieldsFromShorthand:function(t){var n={};return e.each(t,function(t,i){"string"==typeof i&&(i=[i]),n[t]={rules:[]},e.each(i,function(e,i){n[t].rules.push({type:i})})}),n},prompt:function(e,t){var n,i,o,r=A.get.ruleName(e),a=A.get.ancillaryValue(e),s=e.prompt||_.prompt[r]||_.text.unspecifiedRule,l=-1!==s.search("{value}"),u=-1!==s.search("{name}");return(u||l)&&(i=A.get.field(t.identifier)),l&&(s=s.replace("{value}",i.val())),u&&(o=1==(n=i.closest(x.group).find("label").eq(0)).length?n.text():i.prop("placeholder")||_.text.unspecifiedField,s=s.replace("{name}",o)),s=s.replace("{identifier}",t.identifier),s=s.replace("{ruleValue}",a),e.prompt||A.verbose("Using default validation prompt for type",s,r),s},settings:function(){if(e.isPlainObject(t)){var n=Object.keys(t);n.length>0&&void 0!==t[n[0]].identifier&&void 0!==t[n[0]].rules?(_=e.extend(!0,{},e.fn.form.settings,u),y=e.extend({},e.fn.form.settings.defaults,t),A.error(_.error.oldSyntax,O),A.verbose("Extending settings from legacy parameters",y,_)):(t.fields&&A.is.shorthandFields(t.fields)&&(t.fields=A.get.fieldsFromShorthand(t.fields)),_=e.extend(!0,{},e.fn.form.settings,t),y=e.extend({},e.fn.form.settings.defaults,_.fields),A.verbose("Extending settings",y,_))}else _=e.fn.form.settings,y=e.fn.form.settings.defaults,A.verbose("Using default form validation",y,_);E=_.namespace,w=_.metadata,x=_.selector,T=_.className,S=_.regExp,C=_.error,I="module-"+E,P="."+E,k=j.data(I),A.refresh()},field:function(t){return A.verbose("Finding field with identifier",t),t=A.escape.string(t),f.filter("#"+t).length>0?f.filter("#"+t):f.filter('[name="'+t+'"]').length>0?f.filter('[name="'+t+'"]'):f.filter('[name="'+t+'[]"]').length>0?f.filter('[name="'+t+'[]"]'):f.filter("[data-"+w.validate+'="'+t+'"]').length>0?f.filter("[data-"+w.validate+'="'+t+'"]'):e("<input/>")},fields:function(t){var n=e();return e.each(t,function(e,t){n=n.add(A.get.field(t))}),n},validation:function(t){var n,i;return!!y&&(e.each(y,function(e,o){i=o.identifier||e,A.get.field(i)[0]==t[0]&&(o.identifier=i,n=o)}),n||!1)},value:function(e){var t=[];return t.push(e),A.get.values.call(O,t)[e]},values:function(t){var n={};return(e.isArray(t)?A.get.fields(t):f).each(function(t,i){var o=e(i),r=(o.prop("type"),o.prop("name")),a=o.val(),s=o.is(x.checkbox),l=o.is(x.radio),u=-1!==r.indexOf("[]"),c=!!s&&o.is(":checked");r&&(u?(r=r.replace("[]",""),n[r]||(n[r]=[]),s?c?n[r].push(a||!0):n[r].push(!1):n[r].push(a)):l?void 0===n[r]&&(n[r]=!!c):n[r]=s?!!c&&(a||!0):a)}),n}},has:{field:function(e){return A.verbose("Checking for existence of a field with identifier",e),"string"!=typeof(e=A.escape.string(e))&&A.error(C.identifier,e),f.filter("#"+e).length>0||f.filter('[name="'+e+'"]').length>0||f.filter("[data-"+w.validate+'="'+e+'"]').length>0}},escape:{string:function(e){return(e=String(e)).replace(S.escape,"\\$&")}},add:{rule:function(e,t){A.add.field(e,t)},field:function(t,n){var i={};A.is.shorthandRules(n)?(n=e.isArray(n)?n:[n],i[t]={rules:[]},e.each(n,function(e,n){i[t].rules.push({type:n})})):i[t]=n,y=e.extend({},y,i),A.debug("Adding rules",i,y)},fields:function(t){var n;n=t&&A.is.shorthandFields(t)?A.get.fieldsFromShorthand(t):t,y=e.extend({},y,n)},prompt:function(t,n){var i=A.get.field(t).closest(g),o=i.children(x.prompt),r=0!==o.length;n="string"==typeof n?[n]:n,A.verbose("Adding field error state",t),i.addClass(T.error),_.inline&&(r||(o=_.templates.prompt(n)).appendTo(i),o.html(n[0]),r?A.verbose("Inline errors are disabled, no inline error added",t):_.transition&&void 0!==e.fn.transition&&j.transition("is supported")?(A.verbose("Displaying error with css transition",_.transition),o.transition(_.transition+" in",_.duration)):(A.verbose("Displaying error with fallback javascript animation"),o.fadeIn(_.duration)))},errors:function(e){A.debug("Adding form error messages",e),A.set.error(),p.html(_.templates.error(e))}},remove:{rule:function(t,n){var i=e.isArray(n)?n:[n];if(void 0==n)return A.debug("Removed all rules"),void(y[t].rules=[]);void 0!=y[t]&&e.isArray(y[t].rules)&&e.each(y[t].rules,function(e,n){-1!==i.indexOf(n.type)&&(A.debug("Removed rule",n.type),y[t].rules.splice(e,1))})},field:function(t){var n=e.isArray(t)?t:[t];e.each(n,function(e,t){A.remove.rule(t)})},rules:function(t,n){e.isArray(t)?e.each(fields,function(e,t){A.remove.rule(t,n)}):A.remove.rule(t,n)},fields:function(e){A.remove.field(e)},prompt:function(t){var n=A.get.field(t).closest(g),i=n.children(x.prompt);n.removeClass(T.error),_.inline&&i.is(":visible")&&(A.verbose("Removing prompt for field",t),_.transition&&void 0!==e.fn.transition&&j.transition("is supported")?i.transition(_.transition+" out",_.duration,function(){i.remove()}):i.fadeOut(_.duration,function(){i.remove()}))}},set:{success:function(){j.removeClass(T.error).addClass(T.success)},defaults:function(){f.each(function(){var t=e(this),n=t.filter(x.checkbox).length>0?t.is(":checked"):t.val();t.data(w.defaultValue,n)})},error:function(){j.removeClass(T.success).addClass(T.error)},value:function(e,t){var n={};return n[e]=t,A.set.values.call(O,n)},values:function(t){e.isEmptyObject(t)||e.each(t,function(t,n){var i,o=A.get.field(t),r=o.parent(),a=e.isArray(n),s=r.is(x.uiCheckbox),l=r.is(x.uiDropdown),u=o.is(x.radio)&&s;o.length>0&&(a&&s?(A.verbose("Selecting multiple",n,o),r.checkbox("uncheck"),e.each(n,function(e,t){i=o.filter('[value="'+t+'"]'),r=i.parent(),i.length>0&&r.checkbox("check")})):u?(A.verbose("Selecting radio value",n,o),o.filter('[value="'+n+'"]').parent(x.uiCheckbox).checkbox("check")):s?(A.verbose("Setting checkbox value",n,r),!0===n?r.checkbox("check"):r.checkbox("uncheck")):l?(A.verbose("Setting dropdown value",n,r),r.dropdown("set selected",n)):(A.verbose("Setting field value",n,o),o.val(n)))})}},validate:{form:function(e,t){var n=A.get.values();if(R)return!1;if(M=[],A.determine.isValid()){if(A.debug("Form has no validation errors, submitting"),A.set.success(),!0!==t)return _.onSuccess.call(O,e,n)}else if(A.debug("Form has errors"),A.set.error(),_.inline||A.add.errors(M),void 0!==j.data("moduleApi")&&e.stopImmediatePropagation(),!0!==t)return _.onFailure.call(O,M,n)},field:function(t,n,i){i=void 0===i||i,"string"==typeof t&&(A.verbose("Validating field",t),n=t,t=y[t]);var o=t.identifier||n,r=A.get.field(o),a=!!t.depends&&A.get.field(t.depends),s=!0,l=[];return t.identifier||(A.debug("Using field name as identifier",o),t.identifier=o),r.prop("disabled")?(A.debug("Field is disabled. Skipping",o),s=!0):t.optional&&A.is.blank(r)?(A.debug("Field is optional and blank. Skipping",o),s=!0):t.depends&&A.is.empty(a)?(A.debug("Field depends on another value that is not present or empty. Skipping",a),s=!0):void 0!==t.rules&&e.each(t.rules,function(e,n){A.has.field(o)&&!A.validate.rule(t,n)&&(A.debug("Field is invalid",o,n.type),l.push(A.get.prompt(n,t)),s=!1)}),s?(i&&(A.remove.prompt(o,l),_.onValid.call(r)),!0):(i&&(M=M.concat(l),A.add.prompt(o,l),_.onInvalid.call(r,l)),!1)},rule:function(t,n){var i=A.get.field(t.identifier),o=(n.type,i.val()),r=A.get.ancillaryValue(n),a=A.get.ruleName(n),s=_.rules[a];if(e.isFunction(s))return o=void 0===o||""===o||null===o?"":e.trim(o+""),s.call(i,o,r);A.error(C.noRule,a)}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,_,t);else{if(void 0===n)return _[t];_[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,A,t);else{if(void 0===n)return A[t];A[t]=n}},debug:function(){!_.silent&&_.debug&&(_.performance?A.performance.log(arguments):(A.debug=Function.prototype.bind.call(console.info,console,_.name+":"),A.debug.apply(console,arguments)))},verbose:function(){!_.silent&&_.verbose&&_.debug&&(_.performance?A.performance.log(arguments):(A.verbose=Function.prototype.bind.call(console.info,console,_.name+":"),A.verbose.apply(console,arguments)))},error:function(){_.silent||(A.error=Function.prototype.bind.call(console.error,console,_.name+":"),A.error.apply(console,arguments))},performance:{log:function(e){var t,n;_.performance&&(n=(t=(new Date).getTime())-(a||t),a=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:O,"Execution Time":n})),clearTimeout(A.performance.timer),A.performance.timer=setTimeout(A.performance.display,500)},display:function(){var t=_.name+":",n=0;a=!1,clearTimeout(A.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),o.length>1&&(t+=" ("+o.length+")"),(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var r,a,s,l=k;return n=n||d,o=O||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,i){var o=n!=r?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=r)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[i])||n==r)return void 0!==l[i]&&(a=l[i],!1);l=l[i]}})),e.isFunction(a)?s=a.apply(o,n):void 0!==a&&(s=a),e.isArray(i)?i.push(s):void 0!==i?i=[i,s]:void 0!==s&&(i=s),a}}).initialize()}),void 0!==i?i:this},e.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},regExp:{htmlID:/^[a-zA-Z][\w:.-]*$/g,bracket:/\[(.*)\]/i,decimal:/^\d+\.?\d*$/,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field"},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} cannot contain "{ruleValue}"',containExactly:'{name} cannot contain exactly "{ruleValue}"',doesntContain:'{name} must contain  "{ruleValue}"',doesntContainExactly:'{name} must contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(t){var n='<ul class="list">';return e.each(t,function(e,t){n+="<li>"+t+"</li>"}),n+="</ul>",e(n)},prompt:function(t){return e("<div/>").addClass("ui basic red pointing prompt label").html(t[0])}},rules:{empty:function(t){return!(void 0===t||""===t||e.isArray(t)&&0===t.length)},checked:function(){return e(this).filter(":checked").length>0},email:function(t){return e.fn.form.settings.regExp.email.test(t)},url:function(t){return e.fn.form.settings.regExp.url.test(t)},regExp:function(t,n){if(n instanceof RegExp)return t.match(n);var i,o=n.match(e.fn.form.settings.regExp.flags);return o&&(n=o.length>=2?o[1]:n,i=o.length>=3?o[2]:""),t.match(new RegExp(n,i))},integer:function(t,n){var i,o,r,a=e.fn.form.settings.regExp.integer;return n&&-1===["",".."].indexOf(n)&&(-1==n.indexOf("..")?a.test(n)&&(i=o=n-0):(r=n.split("..",2),a.test(r[0])&&(i=r[0]-0),a.test(r[1])&&(o=r[1]-0))),a.test(t)&&(void 0===i||t>=i)&&(void 0===o||t<=o)},decimal:function(t){return e.fn.form.settings.regExp.decimal.test(t)},number:function(t){return e.fn.form.settings.regExp.number.test(t)},is:function(e,t){return t="string"==typeof t?t.toLowerCase():t,(e="string"==typeof e?e.toLowerCase():e)==t},isExactly:function(e,t){return e==t},not:function(e,t){return e="string"==typeof e?e.toLowerCase():e,t="string"==typeof t?t.toLowerCase():t,e!=t},notExactly:function(e,t){return e!=t},contains:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1!==t.search(new RegExp(n,"i"))},containsExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1!==t.search(new RegExp(n))},doesntContain:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1===t.search(new RegExp(n,"i"))},doesntContainExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1===t.search(new RegExp(n))},minLength:function(e,t){return void 0!==e&&e.length>=t},length:function(e,t){return void 0!==e&&e.length>=t},exactLength:function(e,t){return void 0!==e&&e.length==t},maxLength:function(e,t){return void 0!==e&&e.length<=t},match:function(t,n){var i;return e(this),e('[data-validate="'+n+'"]').length>0?i=e('[data-validate="'+n+'"]').val():e("#"+n).length>0?i=e("#"+n).val():e('[name="'+n+'"]').length>0?i=e('[name="'+n+'"]').val():e('[name="'+n+'[]"]').length>0&&(i=e('[name="'+n+'[]"]')),void 0!==i&&t.toString()==i.toString()},different:function(t,n){var i;return e(this),e('[data-validate="'+n+'"]').length>0?i=e('[data-validate="'+n+'"]').val():e("#"+n).length>0?i=e("#"+n).val():e('[name="'+n+'"]').length>0?i=e('[name="'+n+'"]').val():e('[name="'+n+'[]"]').length>0&&(i=e('[name="'+n+'[]"]')),void 0!==i&&t.toString()!==i.toString()},creditCard:function(t,n){var i,o,r={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},a={},s=!1,l="string"==typeof n&&n.split(",");if("string"==typeof t&&0!==t.length){if(t=t.replace(/[\-]/g,""),l&&(e.each(l,function(n,i){(o=r[i])&&(a={length:-1!==e.inArray(t.length,o.length),pattern:-1!==t.search(o.pattern)}).length&&a.pattern&&(s=!0)}),!s))return!1;if((i={number:-1!==e.inArray(t.length,r.unionPay.length),pattern:-1!==t.search(r.unionPay.pattern)}).number&&i.pattern)return!0;for(var u=t.length,c=0,d=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],f=0;u--;)f+=d[c][parseInt(t.charAt(u),10)],c^=1;return f%10==0&&f>0}},minCount:function(e,t){return 0==t||(1==t?""!==e:e.split(",").length>=t)},exactCount:function(e,t){return 0==t?""===e:1==t?""!==e&&-1===e.search(","):e.split(",").length==t},maxCount:function(e,t){return 0!=t&&(1==t?-1===e.search(","):e.split(",").length<=t)}}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.accordion=function(n){var i,o=e(this),r=(new Date).getTime(),a=[],s=arguments[0],l="string"==typeof s,u=[].slice.call(arguments,1);return t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame,o.each(function(){var c,d,f=e.isPlainObject(n)?e.extend(!0,{},e.fn.accordion.settings,n):e.extend({},e.fn.accordion.settings),g=f.className,p=f.namespace,h=f.selector,m=f.error,v="."+p,b="module-"+p,_=o.selector||"",y=e(this),w=y.find(h.title),x=y.find(h.content),T=this,S=y.data(b);d={initialize:function(){d.debug("Initializing",y),d.bind.events(),f.observeChanges&&d.observeChanges(),d.instantiate()},instantiate:function(){S=d,y.data(b,d)},destroy:function(){d.debug("Destroying previous instance",y),y.off(v).removeData(b)},refresh:function(){w=y.find(h.title),x=y.find(h.content)},observeChanges:function(){"MutationObserver"in t&&((c=new MutationObserver(function(e){d.debug("DOM tree modified, updating selector cache"),d.refresh()})).observe(T,{childList:!0,subtree:!0}),d.debug("Setting up mutation observer",c))},bind:{events:function(){d.debug("Binding delegated events"),y.on(f.on+v,h.trigger,d.event.click)}},event:{click:function(){d.toggle.call(this)}},toggle:function(t){var n=void 0!==t?"number"==typeof t?w.eq(t):e(t).closest(h.title):e(this).closest(h.title),i=n.next(x),o=i.hasClass(g.animating),r=i.hasClass(g.active),a=r&&!o,s=!r&&o;d.debug("Toggling visibility of content",n),a||s?f.collapsible?d.close.call(n):d.debug("Cannot close accordion content collapsing is disabled"):d.open.call(n)},open:function(t){var n=void 0!==t?"number"==typeof t?w.eq(t):e(t).closest(h.title):e(this).closest(h.title),i=n.next(x),o=i.hasClass(g.animating);i.hasClass(g.active)||o?d.debug("Accordion already open, skipping",i):(d.debug("Opening accordion content",n),f.onOpening.call(i),f.exclusive&&d.closeOthers.call(n),n.addClass(g.active),i.stop(!0,!0).addClass(g.animating),f.animateChildren&&(void 0!==e.fn.transition&&y.transition("is supported")?i.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:f.debug,verbose:f.verbose,duration:f.duration}):i.children().stop(!0,!0).animate({opacity:1},f.duration,d.resetOpacity)),i.slideDown(f.duration,f.easing,function(){i.removeClass(g.animating).addClass(g.active),d.reset.display.call(this),f.onOpen.call(this),f.onChange.call(this)}))},close:function(t){var n=void 0!==t?"number"==typeof t?w.eq(t):e(t).closest(h.title):e(this).closest(h.title),i=n.next(x),o=i.hasClass(g.animating),r=i.hasClass(g.active),a=!r&&o,s=r&&o;!r&&!a||s||(d.debug("Closing accordion content",i),f.onClosing.call(i),n.removeClass(g.active),i.stop(!0,!0).addClass(g.animating),f.animateChildren&&(void 0!==e.fn.transition&&y.transition("is supported")?i.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:f.debug,verbose:f.verbose,duration:f.duration}):i.children().stop(!0,!0).animate({opacity:0},f.duration,d.resetOpacity)),i.slideUp(f.duration,f.easing,function(){i.removeClass(g.animating).removeClass(g.active),d.reset.display.call(this),f.onClose.call(this),f.onChange.call(this)}))},closeOthers:function(t){var n,i,o,r=void 0!==t?w.eq(t):e(this).closest(h.title),a=r.parents(h.content).prev(h.title),s=r.closest(h.accordion),l=h.title+"."+g.active+":visible",u=h.content+"."+g.active+":visible";f.closeNested?o=(n=s.find(l).not(a)).next(x):(n=s.find(l).not(a),i=s.find(u).find(l).not(a),o=(n=n.not(i)).next(x)),n.length>0&&(d.debug("Exclusive enabled, closing other content",n),n.removeClass(g.active),o.removeClass(g.animating).stop(!0,!0),f.animateChildren&&(void 0!==e.fn.transition&&y.transition("is supported")?o.children().transition({animation:"fade out",useFailSafe:!0,debug:f.debug,verbose:f.verbose,duration:f.duration}):o.children().stop(!0,!0).animate({opacity:0},f.duration,d.resetOpacity)),o.slideUp(f.duration,f.easing,function(){e(this).removeClass(g.active),d.reset.display.call(this)}))},reset:{display:function(){d.verbose("Removing inline display from element",this),e(this).css("display",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")},opacity:function(){d.verbose("Removing inline opacity from element",this),e(this).css("opacity",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")}},setting:function(t,n){if(d.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===n)return f[t];e.isPlainObject(f[t])?e.extend(!0,f[t],n):f[t]=n}},internal:function(t,n){if(d.debug("Changing internal",t,n),void 0===n)return d[t];e.isPlainObject(t)?e.extend(!0,d,t):d[t]=n},debug:function(){!f.silent&&f.debug&&(f.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,f.name+":"),d.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),d.verbose.apply(console,arguments)))},error:function(){f.silent||(d.error=Function.prototype.bind.call(console.error,console,f.name+":"),d.error.apply(console,arguments))},performance:{log:function(e){var t,n;f.performance&&(n=(t=(new Date).getTime())-(r||t),r=t,a.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,500)},display:function(){var t=f.name+":",n=0;r=!1,clearTimeout(d.performance.timer),e.each(a,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",_&&(t+=" '"+_+"'"),(void 0!==console.group||void 0!==console.table)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,n,o){var r,a,s,l=S;return n=n||u,o=T||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,i){var o=n!=r?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=r)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[i])||n==r)return void 0!==l[i]?(a=l[i],!1):(d.error(m.method,t),!1);l=l[i]}})),e.isFunction(a)?s=a.apply(o,n):void 0!==a&&(s=a),e.isArray(i)?i.push(s):void 0!==i?i=[i,s]:void 0!==s&&(i=s),a}},l?(void 0===S&&d.initialize(),d.invoke(s)):(void 0!==S&&S.invoke("destroy"),d.initialize())}),void 0!==i?i:this},e.fn.accordion.settings={name:"Accordion",namespace:"accordion",silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onOpen:function(){},onClosing:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.checkbox=function(i){var o,r=e(this),a=r.selector||"",s=(new Date).getTime(),l=[],u=arguments[0],c="string"==typeof u,d=[].slice.call(arguments,1);return r.each(function(){var r,f,g=e.extend(!0,{},e.fn.checkbox.settings,i),p=g.className,h=g.namespace,m=g.selector,v=g.error,b="."+h,_="module-"+h,y=e(this),w=e(this).children(m.label),x=e(this).children(m.input),T=x[0],S=!1,C=!1,E=y.data(_),I=this;f={initialize:function(){f.verbose("Initializing checkbox",g),f.create.label(),f.bind.events(),f.set.tabbable(),f.hide.input(),f.observeChanges(),f.instantiate(),f.setup()},instantiate:function(){f.verbose("Storing instance of module",f),E=f,y.data(_,f)},destroy:function(){f.verbose("Destroying module"),f.unbind.events(),f.show.input(),y.removeData(_)},fix:{reference:function(){y.is(m.input)&&(f.debug("Behavior called on <input> adjusting invoked element"),y=y.closest(m.checkbox),f.refresh())}},setup:function(){f.set.initialLoad(),f.is.indeterminate()?(f.debug("Initial value is indeterminate"),f.indeterminate()):f.is.checked()?(f.debug("Initial value is checked"),f.check()):(f.debug("Initial value is unchecked"),f.uncheck()),f.remove.initialLoad()},refresh:function(){w=y.children(m.label),x=y.children(m.input),T=x[0]},hide:{input:function(){f.verbose("Modifying <input> z-index to be unselectable"),x.addClass(p.hidden)}},show:{input:function(){f.verbose("Modifying <input> z-index to be selectable"),x.removeClass(p.hidden)}},observeChanges:function(){"MutationObserver"in t&&((r=new MutationObserver(function(e){f.debug("DOM tree modified, updating selector cache"),f.refresh()})).observe(I,{childList:!0,subtree:!0}),f.debug("Setting up mutation observer",r))},attachEvents:function(t,n){var i=e(t);n=e.isFunction(f[n])?f[n]:f.toggle,i.length>0?(f.debug("Attaching checkbox events to element",t,n),i.on("click"+b,n)):f.error(v.notFound)},event:{click:function(t){var n=e(t.target);n.is(m.input)?f.verbose("Using default check action on initialized checkbox"):n.is(m.link)?f.debug("Clicking link inside checkbox, skipping toggle"):(f.toggle(),x.focus(),t.preventDefault())},keydown:function(e){var t=e.which,n={enter:13,space:32,escape:27};t==n.escape?(f.verbose("Escape key pressed blurring field"),x.blur(),C=!0):e.ctrlKey||t!=n.space&&t!=n.enter?C=!1:(f.verbose("Enter/space key pressed, toggling checkbox"),f.toggle(),C=!0)},keyup:function(e){C&&e.preventDefault()}},check:function(){f.should.allowCheck()&&(f.debug("Checking checkbox",x),f.set.checked(),f.should.ignoreCallbacks()||(g.onChecked.call(T),g.onChange.call(T)))},uncheck:function(){f.should.allowUncheck()&&(f.debug("Unchecking checkbox"),f.set.unchecked(),f.should.ignoreCallbacks()||(g.onUnchecked.call(T),g.onChange.call(T)))},indeterminate:function(){f.should.allowIndeterminate()?f.debug("Checkbox is already indeterminate"):(f.debug("Making checkbox indeterminate"),f.set.indeterminate(),f.should.ignoreCallbacks()||(g.onIndeterminate.call(T),g.onChange.call(T)))},determinate:function(){f.should.allowDeterminate()?f.debug("Checkbox is already determinate"):(f.debug("Making checkbox determinate"),f.set.determinate(),f.should.ignoreCallbacks()||(g.onDeterminate.call(T),g.onChange.call(T)))},enable:function(){f.is.enabled()?f.debug("Checkbox is already enabled"):(f.debug("Enabling checkbox"),f.set.enabled(),g.onEnable.call(T),g.onEnabled.call(T))},disable:function(){f.is.disabled()?f.debug("Checkbox is already disabled"):(f.debug("Disabling checkbox"),f.set.disabled(),g.onDisable.call(T),g.onDisabled.call(T))},get:{radios:function(){var t=f.get.name();return e('input[name="'+t+'"]').closest(m.checkbox)},otherRadios:function(){return f.get.radios().not(y)},name:function(){return x.attr("name")}},is:{initialLoad:function(){return S},radio:function(){return x.hasClass(p.radio)||"radio"==x.attr("type")},indeterminate:function(){return void 0!==x.prop("indeterminate")&&x.prop("indeterminate")},checked:function(){return void 0!==x.prop("checked")&&x.prop("checked")},disabled:function(){return void 0!==x.prop("disabled")&&x.prop("disabled")},enabled:function(){return!f.is.disabled()},determinate:function(){return!f.is.indeterminate()},unchecked:function(){return!f.is.checked()}},should:{allowCheck:function(){return f.is.determinate()&&f.is.checked()&&!f.should.forceCallbacks()?(f.debug("Should not allow check, checkbox is already checked"),!1):!1!==g.beforeChecked.apply(T)||(f.debug("Should not allow check, beforeChecked cancelled"),!1)},allowUncheck:function(){return f.is.determinate()&&f.is.unchecked()&&!f.should.forceCallbacks()?(f.debug("Should not allow uncheck, checkbox is already unchecked"),!1):!1!==g.beforeUnchecked.apply(T)||(f.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1)},allowIndeterminate:function(){return f.is.indeterminate()&&!f.should.forceCallbacks()?(f.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):!1!==g.beforeIndeterminate.apply(T)||(f.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1)},allowDeterminate:function(){return f.is.determinate()&&!f.should.forceCallbacks()?(f.debug("Should not allow determinate, checkbox is already determinate"),!1):!1!==g.beforeDeterminate.apply(T)||(f.debug("Should not allow determinate, beforeDeterminate cancelled"),!1)},forceCallbacks:function(){return f.is.initialLoad()&&g.fireOnInit},ignoreCallbacks:function(){return S&&!g.fireOnInit}},can:{change:function(){return!(y.hasClass(p.disabled)||y.hasClass(p.readOnly)||x.prop("disabled")||x.prop("readonly"))},uncheck:function(){return"boolean"==typeof g.uncheckable?g.uncheckable:!f.is.radio()}},set:{initialLoad:function(){S=!0},checked:function(){f.verbose("Setting class to checked"),y.removeClass(p.indeterminate).addClass(p.checked),f.is.radio()&&f.uncheckOthers(),f.is.indeterminate()||!f.is.checked()?(f.verbose("Setting state to checked",T),x.prop("indeterminate",!1).prop("checked",!0),f.trigger.change()):f.debug("Input is already checked, skipping input property change")},unchecked:function(){f.verbose("Removing checked class"),y.removeClass(p.indeterminate).removeClass(p.checked),f.is.indeterminate()||!f.is.unchecked()?(f.debug("Setting state to unchecked"),x.prop("indeterminate",!1).prop("checked",!1),f.trigger.change()):f.debug("Input is already unchecked")},indeterminate:function(){f.verbose("Setting class to indeterminate"),y.addClass(p.indeterminate),f.is.indeterminate()?f.debug("Input is already indeterminate, skipping input property change"):(f.debug("Setting state to indeterminate"),x.prop("indeterminate",!0),f.trigger.change())},determinate:function(){f.verbose("Removing indeterminate class"),y.removeClass(p.indeterminate),f.is.determinate()?f.debug("Input is already determinate, skipping input property change"):(f.debug("Setting state to determinate"),x.prop("indeterminate",!1))},disabled:function(){f.verbose("Setting class to disabled"),y.addClass(p.disabled),f.is.disabled()?f.debug("Input is already disabled, skipping input property change"):(f.debug("Setting state to disabled"),x.prop("disabled","disabled"),f.trigger.change())},enabled:function(){f.verbose("Removing disabled class"),y.removeClass(p.disabled),f.is.enabled()?f.debug("Input is already enabled, skipping input property change"):(f.debug("Setting state to enabled"),x.prop("disabled",!1),f.trigger.change())},tabbable:function(){f.verbose("Adding tabindex to checkbox"),void 0===x.attr("tabindex")&&x.attr("tabindex",0)}},remove:{initialLoad:function(){S=!1}},trigger:{change:function(){var e=n.createEvent("HTMLEvents"),t=x[0];t&&(f.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},create:{label:function(){x.prevAll(m.label).length>0?(x.prev(m.label).detach().insertAfter(x),f.debug("Moving existing label",w)):f.has.label()||(w=e("<label>").insertAfter(x),f.debug("Creating label",w))}},has:{label:function(){return w.length>0}},bind:{events:function(){f.verbose("Attaching checkbox events"),y.on("click"+b,f.event.click).on("keydown"+b,m.input,f.event.keydown).on("keyup"+b,m.input,f.event.keyup)}},unbind:{events:function(){f.debug("Removing events"),y.off(b)}},uncheckOthers:function(){var e=f.get.otherRadios();f.debug("Unchecking other radios",e),e.removeClass(p.checked)},toggle:function(){f.can.change()?f.is.indeterminate()||f.is.unchecked()?(f.debug("Currently unchecked"),f.check()):f.is.checked()&&f.can.uncheck()&&(f.debug("Currently checked"),f.uncheck()):f.is.radio()||f.debug("Checkbox is read-only or disabled, ignoring toggle")},setting:function(t,n){if(f.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,g,t);else{if(void 0===n)return g[t];e.isPlainObject(g[t])?e.extend(!0,g[t],n):g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===n)return f[t];f[t]=n}},debug:function(){!g.silent&&g.debug&&(g.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,g.name+":"),f.debug.apply(console,arguments)))},verbose:function(){!g.silent&&g.verbose&&g.debug&&(g.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),f.verbose.apply(console,arguments)))},error:function(){g.silent||(f.error=Function.prototype.bind.call(console.error,console,g.name+":"),f.error.apply(console,arguments))},performance:{log:function(e){var t,n;g.performance&&(n=(t=(new Date).getTime())-(s||t),s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:I,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=g.name+":",n=0;s=!1,clearTimeout(f.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,i){var r,a,s,l=E;return n=n||d,i=I||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,i){var o=n!=r?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=r)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[i])||n==r)return void 0!==l[i]?(a=l[i],!1):(f.error(v.method,t),!1);l=l[i]}})),e.isFunction(a)?s=a.apply(i,n):void 0!==a&&(s=a),e.isArray(o)?o.push(s):void 0!==o?o=[o,s]:void 0!==s&&(o=s),a}},c?(void 0===E&&f.initialize(),f.invoke(u)):(void 0!==E&&E.invoke("destroy"),f.initialize())}),void 0!==o?o:this},e.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",silent:!1,debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnable:function(){},onDisable:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.dimmer=function(t){var i,o=e(this),r=(new Date).getTime(),a=[],s=arguments[0],l="string"==typeof s,u=[].slice.call(arguments,1);return o.each(function(){var c,d,f,g=e.isPlainObject(t)?e.extend(!0,{},e.fn.dimmer.settings,t):e.extend({},e.fn.dimmer.settings),p=g.selector,h=g.namespace,m=g.className,v=g.error,b="."+h,_="module-"+h,y=o.selector||"",w="ontouchstart"in n.documentElement?"touchstart":"click",x=e(this),T=this,S=x.data(_);(f={preinitialize:function(){f.is.dimmer()?(d=x.parent(),c=x):(d=x,c=f.has.dimmer()?g.dimmerName?d.find(p.dimmer).filter("."+g.dimmerName):d.find(p.dimmer):f.create(),f.set.variation())},initialize:function(){f.debug("Initializing dimmer",g),f.bind.events(),f.set.dimmable(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),S=f,x.data(_,S)},destroy:function(){f.verbose("Destroying previous module",c),f.unbind.events(),f.remove.variation(),d.off(b)},bind:{events:function(){"hover"==g.on?d.on("mouseenter"+b,f.show).on("mouseleave"+b,f.hide):"click"==g.on&&d.on(w+b,f.toggle),f.is.page()&&(f.debug("Setting as a page dimmer",d),f.set.pageDimmer()),f.is.closable()&&(f.verbose("Adding dimmer close event",c),d.on(w+b,p.dimmer,f.event.click))}},unbind:{events:function(){x.removeData(_),d.off(b)}},event:{click:function(t){f.verbose("Determining if event occured on dimmer",t),(0===c.find(t.target).length||e(t.target).is(p.content))&&(f.hide(),t.stopImmediatePropagation())}},addContent:function(t){var n=e(t);f.debug("Add content to dimmer",n),n.parent()[0]!==c[0]&&n.detach().appendTo(c)},create:function(){var t=e(g.template.dimmer());return g.dimmerName&&(f.debug("Creating named dimmer",g.dimmerName),t.addClass(g.dimmerName)),t.appendTo(d),t},show:function(t){t=e.isFunction(t)?t:function(){},f.debug("Showing dimmer",c,g),f.is.dimmed()&&!f.is.animating()||!f.is.enabled()?f.debug("Dimmer is already shown or disabled"):(f.animate.show(t),g.onShow.call(T),g.onChange.call(T))},hide:function(t){t=e.isFunction(t)?t:function(){},f.is.dimmed()||f.is.animating()?(f.debug("Hiding dimmer",c),f.animate.hide(t),g.onHide.call(T),g.onChange.call(T)):f.debug("Dimmer is not visible")},toggle:function(){f.verbose("Toggling dimmer visibility",c),f.is.dimmed()?f.hide():f.show()},animate:{show:function(t){t=e.isFunction(t)?t:function(){},g.useCSS&&void 0!==e.fn.transition&&c.transition("is supported")?("auto"!==g.opacity&&f.set.opacity(),c.transition({animation:g.transition+" in",queue:!1,duration:f.get.duration(),useFailSafe:!0,onStart:function(){f.set.dimmed()},onComplete:function(){f.set.active(),t()}})):(f.verbose("Showing dimmer animation with javascript"),f.set.dimmed(),"auto"==g.opacity&&(g.opacity=.8),c.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(f.get.duration(),g.opacity,function(){c.removeAttr("style"),f.set.active(),t()}))},hide:function(t){t=e.isFunction(t)?t:function(){},g.useCSS&&void 0!==e.fn.transition&&c.transition("is supported")?(f.verbose("Hiding dimmer with css"),c.transition({animation:g.transition+" out",queue:!1,duration:f.get.duration(),useFailSafe:!0,onStart:function(){f.remove.dimmed()},onComplete:function(){f.remove.active(),t()}})):(f.verbose("Hiding dimmer with javascript"),f.remove.dimmed(),c.stop().fadeOut(f.get.duration(),function(){f.remove.active(),c.removeAttr("style"),t()}))}},get:{dimmer:function(){return c},duration:function(){return"object"==typeof g.duration?f.is.active()?g.duration.hide:g.duration.show:g.duration}},has:{dimmer:function(){return g.dimmerName?x.find(p.dimmer).filter("."+g.dimmerName).length>0:x.find(p.dimmer).length>0}},is:{active:function(){return c.hasClass(m.active)},animating:function(){return c.is(":animated")||c.hasClass(m.animating)},closable:function(){return"auto"==g.closable?"hover"!=g.on:g.closable},dimmer:function(){return x.hasClass(m.dimmer)},dimmable:function(){return x.hasClass(m.dimmable)},dimmed:function(){return d.hasClass(m.dimmed)},disabled:function(){return d.hasClass(m.disabled)},enabled:function(){return!f.is.disabled()},page:function(){return d.is("body")},pageDimmer:function(){return c.hasClass(m.pageDimmer)}},can:{show:function(){return!c.hasClass(m.disabled)}},set:{opacity:function(e){var t=c.css("background-color"),n=t.split(","),i=n&&3==n.length,o=n&&4==n.length;e=0===g.opacity?0:g.opacity||e,i||o?(n[3]=e+")",t=n.join(",")):t="rgba(0, 0, 0, "+e+")",f.debug("Setting opacity to",e),c.css("background-color",t)},active:function(){c.addClass(m.active)},dimmable:function(){d.addClass(m.dimmable)},dimmed:function(){d.addClass(m.dimmed)},pageDimmer:function(){c.addClass(m.pageDimmer)},disabled:function(){c.addClass(m.disabled)},variation:function(e){(e=e||g.variation)&&c.addClass(e)}},remove:{active:function(){c.removeClass(m.active)},dimmed:function(){d.removeClass(m.dimmed)},disabled:function(){c.removeClass(m.disabled)},variation:function(e){(e=e||g.variation)&&c.removeClass(e)}},setting:function(t,n){if(f.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,g,t);else{if(void 0===n)return g[t];e.isPlainObject(g[t])?e.extend(!0,g[t],n):g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===n)return f[t];f[t]=n}},debug:function(){!g.silent&&g.debug&&(g.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,g.name+":"),f.debug.apply(console,arguments)))},verbose:function(){!g.silent&&g.verbose&&g.debug&&(g.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),f.verbose.apply(console,arguments)))},error:function(){g.silent||(f.error=Function.prototype.bind.call(console.error,console,g.name+":"),f.error.apply(console,arguments))},performance:{log:function(e){var t,n;g.performance&&(n=(t=(new Date).getTime())-(r||t),r=t,a.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=g.name+":",n=0;r=!1,clearTimeout(f.performance.timer),e.each(a,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",y&&(t+=" '"+y+"'"),o.length>1&&(t+=" ("+o.length+")"),(void 0!==console.group||void 0!==console.table)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,n,o){var r,a,s,l=S;return n=n||u,o=T||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,i){var o=n!=r?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=r)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[i])||n==r)return void 0!==l[i]?(a=l[i],!1):(f.error(v.method,t),!1);l=l[i]}})),e.isFunction(a)?s=a.apply(o,n):void 0!==a&&(s=a),e.isArray(i)?i.push(s):void 0!==i?i=[i,s]:void 0!==s&&(i=s),a}}).preinitialize(),l?(void 0===S&&f.initialize(),f.invoke(s)):(void 0!==S&&S.invoke("destroy"),f.initialize())}),void 0!==i?i:this},e.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",silent:!1,debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return e("<div />").attr("class","ui dimmer")}}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.dropdown=function(i){var o,r=e(this),a=e(n),s=r.selector||"",l="ontouchstart"in n.documentElement,u=(new Date).getTime(),c=[],d=arguments[0],f="string"==typeof d,g=[].slice.call(arguments,1);return r.each(function(p){var h,m,v,b,_,y,w,x,T=e.isPlainObject(i)?e.extend(!0,{},e.fn.dropdown.settings,i):e.extend({},e.fn.dropdown.settings),S=T.className,C=T.message,E=T.fields,I=T.keys,P=T.metadata,k=T.namespace,A=T.regExp,j=T.selector,O=T.error,M=T.templates,R="."+k,D="module-"+k,N=e(this),z=e(T.context),L=N.find(j.text),H=N.find(j.search),F=N.find(j.sizer),W=N.find(j.input),G=N.find(j.icon),Q=N.prev().find(j.text).length>0?N.prev().find(j.text):N.prev(),B=N.children(j.menu),q=B.find(j.item),U=!1,V=!1,Y=!1,$=this,X=N.data(D);x={initialize:function(){x.debug("Initializing dropdown",T),x.is.alreadySetup()?x.setup.reference():(x.setup.layout(),T.values&&x.change.values(T.values),x.refreshData(),x.save.defaults(),x.restore.selected(),x.create.id(),x.bind.events(),x.observeChanges(),x.instantiate())},instantiate:function(){x.verbose("Storing instance of dropdown",x),X=x,N.data(D,x)},destroy:function(){x.verbose("Destroying previous dropdown",N),x.remove.tabbable(),N.off(R).removeData(D),B.off(R),a.off(b),x.disconnect.menuObserver(),x.disconnect.selectObserver()},observeChanges:function(){"MutationObserver"in t&&(y=new MutationObserver(x.event.select.mutation),w=new MutationObserver(x.event.menu.mutation),x.debug("Setting up mutation observer",y,w),x.observe.select(),x.observe.menu())},disconnect:{menuObserver:function(){w&&w.disconnect()},selectObserver:function(){y&&y.disconnect()}},observe:{select:function(){x.has.input()&&y.observe(N[0],{childList:!0,subtree:!0})},menu:function(){x.has.menu()&&w.observe(B[0],{childList:!0,subtree:!0})}},create:{id:function(){_=(Math.random().toString(16)+"000000000").substr(2,8),b="."+_,x.verbose("Creating unique id for element",_)},userChoice:function(t){var n,i,o;return!!(t=t||x.get.userValues())&&(t=e.isArray(t)?t:[t],e.each(t,function(t,r){!1===x.get.item(r)&&(o=T.templates.addition(x.add.variables(C.addResult,r)),i=e("<div />").html(o).attr("data-"+P.value,r).attr("data-"+P.text,r).addClass(S.addition).addClass(S.item),T.hideAdditions&&i.addClass(S.hidden),n=void 0===n?i:n.add(i),x.verbose("Creating user choices for value",r,i))}),n)},userLabels:function(t){var n=x.get.userValues();n&&(x.debug("Adding user labels",n),e.each(n,function(e,t){x.verbose("Adding custom user value"),x.add.label(t,t)}))},menu:function(){B=e("<div />").addClass(S.menu).appendTo(N)},sizer:function(){F=e("<span />").addClass(S.sizer).insertAfter(H)}},search:function(e){e=void 0!==e?e:x.get.query(),x.verbose("Searching for query",e),x.has.minCharacters(e)?x.filter(e):x.hide()},select:{firstUnfiltered:function(){x.verbose("Selecting first non-filtered element"),x.remove.selectedItem(),q.not(j.unselectable).not(j.addition+j.hidden).eq(0).addClass(S.selected)},nextAvailable:function(e){var t=(e=e.eq(0)).nextAll(j.item).not(j.unselectable).eq(0),n=e.prevAll(j.item).not(j.unselectable).eq(0);t.length>0?(x.verbose("Moving selection to",t),t.addClass(S.selected)):(x.verbose("Moving selection to",n),n.addClass(S.selected))}},setup:{api:function(){var e={debug:T.debug,urlData:{value:x.get.value(),query:x.get.query()},on:!1};x.verbose("First request, initializing API"),N.api(e)},layout:function(){N.is("select")&&(x.setup.select(),x.setup.returnedObject()),x.has.menu()||x.create.menu(),x.is.search()&&!x.has.search()&&(x.verbose("Adding search input"),H=e("<input />").addClass(S.search).prop("autocomplete","off").insertBefore(L)),x.is.multiple()&&x.is.searchSelection()&&!x.has.sizer()&&x.create.sizer(),T.allowTab&&x.set.tabbable()},select:function(){var t=x.get.selectValues();x.debug("Dropdown initialized on a select",t),N.is("select")&&(W=N),W.parent(j.dropdown).length>0?(x.debug("UI dropdown already exists. Creating dropdown menu only"),N=W.closest(j.dropdown),x.has.menu()||x.create.menu(),B=N.children(j.menu),x.setup.menu(t)):(x.debug("Creating entire dropdown from select"),N=e("<div />").attr("class",W.attr("class")).addClass(S.selection).addClass(S.dropdown).html(M.dropdown(t)).insertBefore(W),W.hasClass(S.multiple)&&!1===W.prop("multiple")&&(x.error(O.missingMultiple),W.prop("multiple",!0)),W.is("[multiple]")&&x.set.multiple(),W.prop("disabled")&&(x.debug("Disabling dropdown"),N.addClass(S.disabled)),W.removeAttr("class").detach().prependTo(N)),x.refresh()},menu:function(e){B.html(M.menu(e,E)),q=B.find(j.item)},reference:function(){x.debug("Dropdown behavior was called on select, replacing with closest dropdown"),N=N.parent(j.dropdown),X=N.data(D),$=N.get(0),x.refresh(),x.setup.returnedObject()},returnedObject:function(){var e=r.slice(0,p),t=r.slice(p+1);r=e.add(N).add(t)}},refresh:function(){x.refreshSelectors(),x.refreshData()},refreshItems:function(){q=B.find(j.item)},refreshSelectors:function(){x.verbose("Refreshing selector cache"),L=N.find(j.text),H=N.find(j.search),W=N.find(j.input),G=N.find(j.icon),Q=N.prev().find(j.text).length>0?N.prev().find(j.text):N.prev(),B=N.children(j.menu),q=B.find(j.item)},refreshData:function(){x.verbose("Refreshing cached metadata"),q.removeData(P.text).removeData(P.value)},clearData:function(){x.verbose("Clearing metadata"),q.removeData(P.text).removeData(P.value),N.removeData(P.defaultText).removeData(P.defaultValue).removeData(P.placeholderText)},toggle:function(){x.verbose("Toggling menu visibility"),x.is.active()?x.hide():x.show()},show:function(t){if(t=e.isFunction(t)?t:function(){},!x.can.show()&&x.is.remote()&&(x.debug("No API results retrieved, searching before show"),x.queryRemote(x.get.query(),x.show)),x.can.show()&&!x.is.active()){if(x.debug("Showing dropdown"),!x.has.message()||x.has.maxSelections()||x.has.allResultsFiltered()||x.remove.message(),x.is.allFiltered())return!0;!1!==T.onShow.call($)&&x.animate.show(function(){x.can.click()&&x.bind.intent(),x.has.menuSearch()&&x.focusSearch(),x.set.visible(),t.call($)})}},hide:function(t){t=e.isFunction(t)?t:function(){},x.is.active()&&(x.debug("Hiding dropdown"),!1!==T.onHide.call($)&&x.animate.hide(function(){x.remove.visible(),t.call($)}))},hideOthers:function(){x.verbose("Finding other dropdowns to hide"),r.not(N).has(j.menu+"."+S.visible).dropdown("hide")},hideMenu:function(){x.verbose("Hiding menu  instantaneously"),x.remove.active(),x.remove.visible(),B.transition("hide")},hideSubMenus:function(){var e=B.children(j.item).find(j.menu);x.verbose("Hiding sub menus",e),e.transition("hide")},bind:{events:function(){l&&x.bind.touchEvents(),x.bind.keyboardEvents(),x.bind.inputEvents(),x.bind.mouseEvents()},touchEvents:function(){x.debug("Touch device detected binding additional touch events"),x.is.searchSelection()||x.is.single()&&N.on("touchstart"+R,x.event.test.toggle),B.on("touchstart"+R,j.item,x.event.item.mouseenter)},keyboardEvents:function(){x.verbose("Binding keyboard events"),N.on("keydown"+R,x.event.keydown),x.has.search()&&N.on(x.get.inputEvent()+R,j.search,x.event.input),x.is.multiple()&&a.on("keydown"+b,x.event.document.keydown)},inputEvents:function(){x.verbose("Binding input change events"),N.on("change"+R,j.input,x.event.change)},mouseEvents:function(){x.verbose("Binding mouse events"),x.is.multiple()&&N.on("click"+R,j.label,x.event.label.click).on("click"+R,j.remove,x.event.remove.click),x.is.searchSelection()?(N.on("mousedown"+R,x.event.mousedown).on("mouseup"+R,x.event.mouseup).on("mousedown"+R,j.menu,x.event.menu.mousedown).on("mouseup"+R,j.menu,x.event.menu.mouseup).on("click"+R,j.icon,x.event.icon.click).on("focus"+R,j.search,x.event.search.focus).on("click"+R,j.search,x.event.search.focus).on("blur"+R,j.search,x.event.search.blur).on("click"+R,j.text,x.event.text.focus),x.is.multiple()&&N.on("click"+R,x.event.click)):("click"==T.on?N.on("click"+R,j.icon,x.event.icon.click).on("click"+R,x.event.test.toggle):"hover"==T.on?N.on("mouseenter"+R,x.delay.show).on("mouseleave"+R,x.delay.hide):N.on(T.on+R,x.toggle),N.on("mousedown"+R,x.event.mousedown).on("mouseup"+R,x.event.mouseup).on("focus"+R,x.event.focus),x.has.menuSearch()?N.on("blur"+R,j.search,x.event.search.blur):N.on("blur"+R,x.event.blur)),B.on("mouseenter"+R,j.item,x.event.item.mouseenter).on("mouseleave"+R,j.item,x.event.item.mouseleave).on("click"+R,j.item,x.event.item.click)},intent:function(){x.verbose("Binding hide intent event to document"),l&&a.on("touchstart"+b,x.event.test.touch).on("touchmove"+b,x.event.test.touch),a.on("click"+b,x.event.test.hide)}},unbind:{intent:function(){x.verbose("Removing hide intent event from document"),l&&a.off("touchstart"+b).off("touchmove"+b),a.off("click"+b)}},filter:function(e){var t=void 0!==e?e:x.get.query(),n=function(){x.is.multiple()&&x.filterActive(),(e||!e&&0==x.get.activeItem().length)&&x.select.firstUnfiltered(),x.has.allResultsFiltered()?T.onNoResults.call($,t)?T.allowAdditions?T.hideAdditions&&(x.verbose("User addition with no menu, setting empty style"),x.set.empty(),x.hideMenu()):(x.verbose("All items filtered, showing message",t),x.add.message(C.noResults)):(x.verbose("All items filtered, hiding dropdown",t),x.hideMenu()):(x.remove.empty(),x.remove.message()),T.allowAdditions&&x.add.userSuggestion(e),x.is.searchSelection()&&x.can.show()&&x.is.focusedOnSearch()&&x.show()};T.useLabels&&x.has.maxSelections()||(T.apiSettings?x.can.useAPI()?x.queryRemote(t,function(){T.filterRemoteData&&x.filterItems(t),n()}):x.error(O.noAPI):(x.filterItems(t),n()))},queryRemote:function(t,n){var i={errorDuration:!1,cache:"local",throttle:T.throttle,urlData:{query:t},onError:function(){x.add.message(C.serverError),n()},onFailure:function(){x.add.message(C.serverError),n()},onSuccess:function(e){x.remove.message(),x.setup.menu({values:e[E.remoteValues]}),n()}};N.api("get request")||x.setup.api(),i=e.extend(!0,{},i,T.apiSettings),N.api("setting",i).api("query")},filterItems:function(t){var n=void 0!==t?t:x.get.query(),i=null,o=x.escape.string(n),r=new RegExp("^"+o,"igm");x.has.query()&&(i=[],x.verbose("Searching for matching values",n),q.each(function(){var t,o,a=e(this);if("both"==T.match||"text"==T.match){if(-1!==(t=String(x.get.choiceText(a,!1))).search(r))return i.push(this),!0;if("exact"===T.fullTextSearch&&x.exactSearch(n,t))return i.push(this),!0;if(!0===T.fullTextSearch&&x.fuzzySearch(n,t))return i.push(this),!0}if("both"==T.match||"value"==T.match){if(-1!==(o=String(x.get.choiceValue(a,t))).search(r))return i.push(this),!0;if("exact"===T.fullTextSearch&&x.exactSearch(n,o))return i.push(this),!0;if(!0===T.fullTextSearch&&x.fuzzySearch(n,o))return i.push(this),!0}})),x.debug("Showing only matched items",n),x.remove.filteredItem(),i&&q.not(i).addClass(S.filtered)},fuzzySearch:function(e,t){var n=t.length,i=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var o=0,r=0;o<i;o++){for(var a=e.charCodeAt(o);r<n;)if(t.charCodeAt(r++)===a)continue e;return!1}return!0},exactSearch:function(e,t){return e=e.toLowerCase(),(t=t.toLowerCase()).indexOf(e)>-1},filterActive:function(){T.useLabels&&q.filter("."+S.active).addClass(S.filtered)},focusSearch:function(e){x.has.search()&&!x.is.focusedOnSearch()&&(e?(N.off("focus"+R,j.search),H.focus(),N.on("focus"+R,j.search,x.event.search.focus)):H.focus())},forceSelection:function(){var e=q.not(S.filtered).filter("."+S.selected).eq(0),t=q.not(S.filtered).filter("."+S.active).eq(0),n=e.length>0?e:t;if(n.length>0&&!x.is.multiple())return x.debug("Forcing partial selection to selected item",n),void x.event.item.click.call(n,{},!0);T.allowAdditions?(x.set.selected(x.get.query()),x.remove.searchTerm()):x.remove.searchTerm()},change:{values:function(t){T.allowAdditions||x.clear(),x.debug("Creating dropdown with specified values",t),x.setup.menu({values:t}),e.each(t,function(e,t){if(1==t.selected)return x.debug("Setting initial selection to",t.value),x.set.selected(t.value),!0})}},event:{change:function(){Y||(x.debug("Input changed, updating selection"),x.set.selected())},focus:function(){T.showOnFocus&&!U&&x.is.hidden()&&!m&&x.show()},blur:function(e){m=n.activeElement===this,U||m||(x.remove.activeLabel(),x.hide())},mousedown:function(){x.is.searchSelection()?v=!0:U=!0},mouseup:function(){x.is.searchSelection()?v=!1:U=!1},click:function(t){e(t.target).is(N)&&(x.is.focusedOnSearch()?x.show():x.focusSearch())},search:{focus:function(){U=!0,x.is.multiple()&&x.remove.activeLabel(),T.showOnFocus&&x.search()},blur:function(e){m=n.activeElement===this,x.is.searchSelection()&&!v&&(V||m||(T.forceSelection&&x.forceSelection(),x.hide())),v=!1}},icon:{click:function(e){x.toggle()}},text:{focus:function(e){U=!0,x.focusSearch()}},input:function(e){(x.is.multiple()||x.is.searchSelection())&&x.set.filtered(),clearTimeout(x.timer),x.timer=setTimeout(x.search,T.delay.search)},label:{click:function(t){var n=e(this),i=N.find(j.label),o=i.filter("."+S.active),r=n.nextAll("."+S.active),a=n.prevAll("."+S.active),s=r.length>0?n.nextUntil(r).add(o).add(n):n.prevUntil(a).add(o).add(n);t.shiftKey?(o.removeClass(S.active),s.addClass(S.active)):t.ctrlKey?n.toggleClass(S.active):(o.removeClass(S.active),n.addClass(S.active)),T.onLabelSelect.apply(this,i.filter("."+S.active))}},remove:{click:function(){var t=e(this).parent();t.hasClass(S.active)?x.remove.activeLabels():x.remove.activeLabels(t)}},test:{toggle:function(e){var t=x.is.multiple()?x.show:x.toggle;x.is.bubbledLabelClick(e)||x.is.bubbledIconClick(e)||x.determine.eventOnElement(e,t)&&e.preventDefault()},touch:function(e){x.determine.eventOnElement(e,function(){"touchstart"==e.type?x.timer=setTimeout(function(){x.hide()},T.delay.touch):"touchmove"==e.type&&clearTimeout(x.timer)}),e.stopPropagation()},hide:function(e){x.determine.eventInModule(e,x.hide)}},select:{mutation:function(t){x.debug("<select> modified, recreating menu");var n=!1;e.each(t,function(t,i){if(e(i.target).is("select")||e(i.addedNodes).is("select"))return n=!0,!0}),n&&(x.disconnect.selectObserver(),x.refresh(),x.setup.select(),x.set.selected(),x.observe.select())}},menu:{mutation:function(t){var n=t[0],i=e(!!n.addedNodes&&n.addedNodes[0]),o=e(!!n.removedNodes&&n.removedNodes[0]),r=i.add(o),a=r.is(j.addition)||r.closest(j.addition).length>0,s=r.is(j.message)||r.closest(j.message).length>0;a||s?(x.debug("Updating item selector cache"),x.refreshItems()):(x.debug("Menu modified, updating selector cache"),x.refresh())},mousedown:function(){V=!0},mouseup:function(){V=!1}},item:{mouseenter:function(t){var n=e(t.target),i=e(this),o=i.children(j.menu),r=i.siblings(j.item).children(j.menu),a=o.length>0;!(o.find(n).length>0)&&a&&(clearTimeout(x.itemTimer),x.itemTimer=setTimeout(function(){x.verbose("Showing sub-menu",o),e.each(r,function(){x.animate.hide(!1,e(this))}),x.animate.show(!1,o)},T.delay.show),t.preventDefault())},mouseleave:function(t){var n=e(this).children(j.menu);n.length>0&&(clearTimeout(x.itemTimer),x.itemTimer=setTimeout(function(){x.verbose("Hiding sub-menu",n),x.animate.hide(!1,n)},T.delay.hide))},click:function(t,i){var o=e(this),r=e(t?t.target:""),a=o.find(j.menu),s=x.get.choiceText(o),l=x.get.choiceValue(o,s),u=a.length>0,c=a.find(r).length>0;x.has.menuSearch()&&e(n.activeElement).blur(),c||u&&!T.allowCategorySelection||(x.is.searchSelection()&&(T.allowAdditions&&x.remove.userAddition(),x.remove.searchTerm(),x.is.focusedOnSearch()||1==i||x.focusSearch(!0)),T.useLabels||(x.remove.filteredItem(),x.set.scrollPosition(o)),x.determine.selectAction.call(this,s,l))}},document:{keydown:function(e){var t=e.which;if(x.is.inObject(t,I)){var n=N.find(j.label),i=n.filter("."+S.active),o=(i.data(P.value),n.index(i)),r=n.length,a=i.length>0,s=i.length>1,l=0===o,u=o+1==r,c=x.is.searchSelection(),d=x.is.focusedOnSearch(),f=x.is.focused(),g=d&&0===x.get.caretPosition();if(c&&!a&&!d)return;t==I.leftArrow?!f&&!g||a?a&&(e.shiftKey?x.verbose("Adding previous label to selection"):(x.verbose("Selecting previous label"),n.removeClass(S.active)),l&&!s?i.addClass(S.active):i.prev(j.siblingLabel).addClass(S.active).end(),e.preventDefault()):(x.verbose("Selecting previous label"),n.last().addClass(S.active)):t==I.rightArrow?(f&&!a&&n.first().addClass(S.active),a&&(e.shiftKey?x.verbose("Adding next label to selection"):(x.verbose("Selecting next label"),n.removeClass(S.active)),u?c?d?n.removeClass(S.active):x.focusSearch():s?i.next(j.siblingLabel).addClass(S.active):i.addClass(S.active):i.next(j.siblingLabel).addClass(S.active),e.preventDefault())):t==I.deleteKey||t==I.backspace?a?(x.verbose("Removing active labels"),u&&c&&!d&&x.focusSearch(),i.last().next(j.siblingLabel).addClass(S.active),x.remove.activeLabels(i),e.preventDefault()):g&&!a&&t==I.backspace&&(x.verbose("Removing last label on input backspace"),i=n.last().addClass(S.active),x.remove.activeLabels(i)):i.removeClass(S.active)}}},keydown:function(e){var t=e.which;if(x.is.inObject(t,I)){var n,i=q.not(j.unselectable).filter("."+S.selected).eq(0),o=B.children("."+S.active).eq(0),r=i.length>0?i:o,a=r.length>0?r.siblings(":not(."+S.filtered+")").addBack():B.children(":not(."+S.filtered+")"),s=r.children(j.menu),l=r.closest(j.menu),u=l.hasClass(S.visible)||l.hasClass(S.animating)||l.parent(j.menu).length>0,c=s.length>0,d=r.length>0,f=r.not(j.unselectable).length>0,g=t==I.delimiter&&T.allowAdditions&&x.is.multiple();if(T.allowAdditions&&T.hideAdditions&&(t==I.enter||g)&&f&&(x.verbose("Selecting item from keyboard shortcut",r),x.event.item.click.call(r,e),x.is.searchSelection()&&x.remove.searchTerm()),x.is.visible()){if((t==I.enter||g)&&(t==I.enter&&d&&c&&!T.allowCategorySelection?(x.verbose("Pressed enter on unselectable category, opening sub menu"),t=I.rightArrow):f&&(x.verbose("Selecting item from keyboard shortcut",r),x.event.item.click.call(r,e),x.is.searchSelection()&&x.remove.searchTerm()),e.preventDefault()),d&&(t==I.leftArrow&&l[0]!==B[0]&&(x.verbose("Left key pressed, closing sub-menu"),x.animate.hide(!1,l),r.removeClass(S.selected),l.closest(j.item).addClass(S.selected),e.preventDefault()),t==I.rightArrow&&c&&(x.verbose("Right key pressed, opening sub-menu"),x.animate.show(!1,s),r.removeClass(S.selected),s.find(j.item).eq(0).addClass(S.selected),e.preventDefault())),t==I.upArrow){if(n=d&&u?r.prevAll(j.item+":not("+j.unselectable+")").eq(0):q.eq(0),a.index(n)<0)return x.verbose("Up key pressed but reached top of current menu"),void e.preventDefault();x.verbose("Up key pressed, changing active item"),r.removeClass(S.selected),n.addClass(S.selected),x.set.scrollPosition(n),T.selectOnKeydown&&x.is.single()&&x.set.selectedItem(n),e.preventDefault()}if(t==I.downArrow){if(0===(n=d&&u?n=r.nextAll(j.item+":not("+j.unselectable+")").eq(0):q.eq(0)).length)return x.verbose("Down key pressed but reached bottom of current menu"),void e.preventDefault();x.verbose("Down key pressed, changing active item"),q.removeClass(S.selected),n.addClass(S.selected),x.set.scrollPosition(n),T.selectOnKeydown&&x.is.single()&&x.set.selectedItem(n),e.preventDefault()}t==I.pageUp&&(x.scrollPage("up"),e.preventDefault()),t==I.pageDown&&(x.scrollPage("down"),e.preventDefault()),t==I.escape&&(x.verbose("Escape key pressed, closing dropdown"),x.hide())}else g&&e.preventDefault(),t!=I.downArrow||x.is.visible()||(x.verbose("Down key pressed, showing dropdown"),x.show(),e.preventDefault())}else x.has.search()||x.set.selectedLetter(String.fromCharCode(t))}},trigger:{change:function(){var e=n.createEvent("HTMLEvents"),t=W[0];t&&(x.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},determine:{selectAction:function(t,n){x.verbose("Determining action",T.action),e.isFunction(x.action[T.action])?(x.verbose("Triggering preset action",T.action,t,n),x.action[T.action].call($,t,n,this)):e.isFunction(T.action)?(x.verbose("Triggering user action",T.action,t,n),T.action.call($,t,n,this)):x.error(O.action,T.action)},eventInModule:function(t,i){var o=e(t.target),r=o.closest(n.documentElement).length>0,a=o.closest(N).length>0;return i=e.isFunction(i)?i:function(){},r&&!a?(x.verbose("Triggering event",i),i(),!0):(x.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(t,i){var o=e(t.target),r=o.closest(j.siblingLabel),a=n.body.contains(t.target),s=0===N.find(r).length,l=0===o.closest(B).length;return i=e.isFunction(i)?i:function(){},a&&s&&l?(x.verbose("Triggering event",i),i(),!0):(x.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(t,n,i){if(n=void 0!==n?n:t,x.can.activate(e(i))){if(x.set.selected(n,e(i)),x.is.multiple()&&!x.is.allFiltered())return;x.hideAndClear()}},select:function(t,n,i){if(n=void 0!==n?n:t,x.can.activate(e(i))){if(x.set.value(n,e(i)),x.is.multiple()&&!x.is.allFiltered())return;x.hideAndClear()}},combo:function(t,n,i){n=void 0!==n?n:t,x.set.selected(n,e(i)),x.hideAndClear()},hide:function(e,t,n){x.set.value(t,e),x.hideAndClear()}},get:{id:function(){return _},defaultText:function(){return N.data(P.defaultText)},defaultValue:function(){return N.data(P.defaultValue)},placeholderText:function(){return"auto"!=T.placeholder&&"string"==typeof T.placeholder?T.placeholder:N.data(P.placeholderText)||""},text:function(){return L.text()},query:function(){return e.trim(H.val())},searchWidth:function(e){return e=void 0!==e?e:H.val(),F.text(e),Math.ceil(F.width()+1)},selectionCount:function(){var t=x.get.values();return x.is.multiple()?e.isArray(t)?t.length:0:""!==x.get.value()?1:0},transition:function(e){return"auto"==T.transition?x.is.upward(e)?"slide up":"slide down":T.transition},userValues:function(){var t=x.get.values();return!!t&&(t=e.isArray(t)?t:[t],e.grep(t,function(e){return!1===x.get.item(e)}))},uniqueArray:function(t){return e.grep(t,function(n,i){return e.inArray(n,t)===i})},caretPosition:function(){var e,t,i=H.get(0);return"selectionStart"in i?i.selectionStart:n.selection?(i.focus(),e=n.selection.createRange(),t=e.text.length,e.moveStart("character",-i.value.length),e.text.length-t):void 0},value:function(){var t=W.length>0?W.val():N.data(P.value),n=e.isArray(t)&&1===t.length&&""===t[0];return void 0===t||n?"":t},values:function(){var e=x.get.value();return""===e?"":!x.has.selectInput()&&x.is.multiple()?"string"==typeof e?e.split(T.delimiter):"":e},remoteValues:function(){var t=x.get.values(),n=!1;return t&&("string"==typeof t&&(t=[t]),e.each(t,function(e,t){var i=x.read.remoteData(t);x.verbose("Restoring value from session data",i,t),i&&(n||(n={}),n[t]=i)})),n},choiceText:function(t,n){if(n=void 0!==n?n:T.preserveHTML,t)return t.find(j.menu).length>0&&(x.verbose("Retrieving text of element with sub-menu"),(t=t.clone()).find(j.menu).remove(),t.find(j.menuIcon).remove()),void 0!==t.data(P.text)?t.data(P.text):n?e.trim(t.html()):e.trim(t.text())},choiceValue:function(t,n){return n=n||x.get.choiceText(t),!!t&&(void 0!==t.data(P.value)?String(t.data(P.value)):"string"==typeof n?e.trim(n.toLowerCase()):String(n))},inputEvent:function(){var e=H[0];return!!e&&(void 0!==e.oninput?"input":void 0!==e.onpropertychange?"propertychange":"keyup")},selectValues:function(){var t={};return t.values=[],N.find("option").each(function(){var n=e(this),i=n.html(),o=n.attr("disabled"),r=void 0!==n.attr("value")?n.attr("value"):i;"auto"===T.placeholder&&""===r?t.placeholder=i:t.values.push({name:i,value:r,disabled:o})}),T.placeholder&&"auto"!==T.placeholder&&(x.debug("Setting placeholder value to",T.placeholder),t.placeholder=T.placeholder),T.sortSelect?(t.values.sort(function(e,t){return e.name>t.name?1:-1}),x.debug("Retrieved and sorted values from select",t)):x.debug("Retrieved values from select",t),t},activeItem:function(){return q.filter("."+S.active)},selectedItem:function(){var e=q.not(j.unselectable).filter("."+S.selected);return e.length>0?e:q.eq(0)},itemWithAdditions:function(e){var t=x.get.item(e),n=x.create.userChoice(e);return n&&n.length>0&&(t=t.length>0?t.add(n):n),t},item:function(t,n){var i,o,r=!1;return t=void 0!==t?t:void 0!==x.get.values()?x.get.values():x.get.text(),i=o?t.length>0:void 0!==t&&null!==t,o=x.is.multiple()&&e.isArray(t),n=""===t||0===t||n||!1,i&&q.each(function(){var i=e(this),a=x.get.choiceText(i),s=x.get.choiceValue(i,a);if(null!==s&&void 0!==s)if(o)-1===e.inArray(String(s),t)&&-1===e.inArray(a,t)||(r=r?r.add(i):i);else if(n){if(x.verbose("Ambiguous dropdown value using strict type check",i,t),s===t||a===t)return r=i,!0}else if(String(s)==String(t)||a==t)return x.verbose("Found select item by value",s,t),r=i,!0}),r}},check:{maxSelections:function(e){return!T.maxSelections||((e=void 0!==e?e:x.get.selectionCount())>=T.maxSelections?(x.debug("Maximum selection count reached"),T.useLabels&&(q.addClass(S.filtered),x.add.message(C.maxSelections)),!0):(x.verbose("No longer at maximum selection count"),x.remove.message(),x.remove.filteredItem(),x.is.searchSelection()&&x.filterItems(),!1))}},restore:{defaults:function(){x.clear(),x.restore.defaultText(),x.restore.defaultValue()},defaultText:function(){var e=x.get.defaultText();e===x.get.placeholderText?(x.debug("Restoring default placeholder text",e),x.set.placeholderText(e)):(x.debug("Restoring default text",e),x.set.text(e))},placeholderText:function(){x.set.placeholderText()},defaultValue:function(){var e=x.get.defaultValue();void 0!==e&&(x.debug("Restoring default value",e),""!==e?(x.set.value(e),x.set.selected()):(x.remove.activeItem(),x.remove.selectedItem()))},labels:function(){T.allowAdditions&&(T.useLabels||(x.error(O.labels),T.useLabels=!0),x.debug("Restoring selected values"),x.create.userLabels()),x.check.maxSelections()},selected:function(){x.restore.values(),x.is.multiple()?(x.debug("Restoring previously selected values and labels"),x.restore.labels()):x.debug("Restoring previously selected values")},values:function(){x.set.initialLoad(),T.apiSettings&&T.saveRemoteData&&x.get.remoteValues()?x.restore.remoteValues():x.set.selected(),x.remove.initialLoad()},remoteValues:function(){var t=x.get.remoteValues();x.debug("Recreating selected from session data",t),t&&(x.is.single()?e.each(t,function(e,t){x.set.text(t)}):e.each(t,function(e,t){x.add.label(e,t)}))}},read:{remoteData:function(e){var n;if(void 0!==t.Storage)return void 0!==(n=sessionStorage.getItem(e))&&n;x.error(O.noStorage)}},save:{defaults:function(){x.save.defaultText(),x.save.placeholderText(),x.save.defaultValue()},defaultValue:function(){var e=x.get.value();x.verbose("Saving default value as",e),N.data(P.defaultValue,e)},defaultText:function(){var e=x.get.text();x.verbose("Saving default text as",e),N.data(P.defaultText,e)},placeholderText:function(){var e;!1!==T.placeholder&&L.hasClass(S.placeholder)&&(e=x.get.text(),x.verbose("Saving placeholder text as",e),N.data(P.placeholderText,e))},remoteData:function(e,n){void 0!==t.Storage?(x.verbose("Saving remote data to session storage",n,e),sessionStorage.setItem(n,e)):x.error(O.noStorage)}},clear:function(){x.is.multiple()&&T.useLabels?x.remove.labels():(x.remove.activeItem(),x.remove.selectedItem()),x.set.placeholderText(),x.clearValue()},clearValue:function(){x.set.value("")},scrollPage:function(e,t){var n,i,o=t||x.get.selectedItem(),r=o.closest(j.menu),a=r.outerHeight(),s=r.scrollTop(),l=q.eq(0).outerHeight(),u=Math.floor(a/l),c=(r.prop("scrollHeight"),"up"==e?s-l*u:s+l*u),d=q.not(j.unselectable);i="up"==e?d.index(o)-u:d.index(o)+u,(n=("up"==e?i>=0:i<d.length)?d.eq(i):"up"==e?d.first():d.last()).length>0&&(x.debug("Scrolling page",e,n),o.removeClass(S.selected),n.addClass(S.selected),T.selectOnKeydown&&x.is.single()&&x.set.selectedItem(n),r.scrollTop(c))},set:{filtered:function(){var e=x.is.multiple(),t=x.is.searchSelection(),n=e&&t,i=t?x.get.query():"",o="string"==typeof i&&i.length>0,r=x.get.searchWidth(),a=""!==i;e&&o&&(x.verbose("Adjusting input width",r,T.glyphWidth),H.css("width",r)),o||n&&a?(x.verbose("Hiding placeholder text"),L.addClass(S.filtered)):(!e||n&&!a)&&(x.verbose("Showing placeholder text"),L.removeClass(S.filtered))},empty:function(){N.addClass(S.empty)},loading:function(){N.addClass(S.loading)},placeholderText:function(e){e=e||x.get.placeholderText(),x.debug("Setting placeholder text",e),x.set.text(e),L.addClass(S.placeholder)},tabbable:function(){x.is.searchSelection()?(x.debug("Added tabindex to searchable dropdown"),H.val("").attr("tabindex",0),B.attr("tabindex",-1)):(x.debug("Added tabindex to dropdown"),void 0===N.attr("tabindex")&&(N.attr("tabindex",0),B.attr("tabindex",-1)))},initialLoad:function(){x.verbose("Setting initial load"),h=!0},activeItem:function(e){T.allowAdditions&&e.filter(j.addition).length>0?e.addClass(S.filtered):e.addClass(S.active)},partialSearch:function(e){var t=x.get.query().length;H.val(e.substr(0,t))},scrollPosition:function(e,t){var n,i,o,r,a,s;n=(e=e||x.get.selectedItem()).closest(j.menu),i=e&&e.length>0,t=void 0!==t&&t,e&&n.length>0&&i&&(e.position().top,n.addClass(S.loading),o=(r=n.scrollTop())-n.offset().top+e.offset().top,t||(s=r+n.height()<o+5,a=o-5<r),x.debug("Scrolling to active item",o),(t||a||s)&&n.scrollTop(o),n.removeClass(S.loading))},text:function(e){"select"!==T.action&&("combo"==T.action?(x.debug("Changing combo button text",e,Q),T.preserveHTML?Q.html(e):Q.text(e)):(e!==x.get.placeholderText()&&L.removeClass(S.placeholder),x.debug("Changing text",e,L),L.removeClass(S.filtered),T.preserveHTML?L.html(e):L.text(e)))},selectedItem:function(e){var t=x.get.choiceValue(e),n=x.get.choiceText(e,!1),i=x.get.choiceText(e,!0);x.debug("Setting user selection to item",e),x.remove.activeItem(),x.set.partialSearch(n),x.set.activeItem(e),x.set.selected(t,e),x.set.text(i)},selectedLetter:function(t){var n,i=q.filter("."+S.selected),o=!1;i.length>0&&x.has.firstLetter(i,t)&&(n=i.nextAll(q).eq(0),x.has.firstLetter(n,t)&&(o=n)),o||q.each(function(){if(x.has.firstLetter(e(this),t))return o=e(this),!1}),o&&(x.verbose("Scrolling to next value with letter",t),x.set.scrollPosition(o),i.removeClass(S.selected),o.addClass(S.selected),T.selectOnKeydown&&x.is.single()&&x.set.selectedItem(o))},direction:function(e){"auto"==T.direction?(x.remove.upward(),x.can.openDownward(e)?x.remove.upward(e):x.set.upward(e),x.is.leftward(e)||x.can.openRightward(e)||x.set.leftward(e)):"upward"==T.direction&&x.set.upward(e)},upward:function(e){(e||N).addClass(S.upward)},leftward:function(e){(e||B).addClass(S.leftward)},value:function(e,t,n){var i=x.escape.value(e),o=W.length>0,r=(x.has.value(e),x.get.values()),a=void 0!==e?String(e):e;if(o){if(!T.allowReselection&&a==r&&(x.verbose("Skipping value update already same value",e,r),!x.is.initialLoad()))return;x.is.single()&&x.has.selectInput()&&x.can.extendSelect()&&(x.debug("Adding user option",e),x.add.optionValue(e)),x.debug("Updating input value",i,r),Y=!0,W.val(i),!1===T.fireOnInit&&x.is.initialLoad()?x.debug("Input native change event ignored on initial load"):x.trigger.change(),Y=!1}else x.verbose("Storing value in metadata",i,W),i!==r&&N.data(P.value,a);!1===T.fireOnInit&&x.is.initialLoad()?x.verbose("No callback on initial load",T.onChange):T.onChange.call($,e,t,n)},active:function(){N.addClass(S.active)},multiple:function(){N.addClass(S.multiple)},visible:function(){N.addClass(S.visible)},exactly:function(e,t){x.debug("Setting selected to exact values"),x.clear(),x.set.selected(e,t)},selected:function(t,n){var i=x.is.multiple();(n=T.allowAdditions?n||x.get.itemWithAdditions(t):n||x.get.item(t))&&(x.debug("Setting selected menu item to",n),x.is.multiple()&&x.remove.searchWidth(),x.is.single()?(x.remove.activeItem(),x.remove.selectedItem()):T.useLabels&&x.remove.selectedItem(),n.each(function(){var t=e(this),o=x.get.choiceText(t),r=x.get.choiceValue(t,o),a=t.hasClass(S.filtered),s=t.hasClass(S.active),l=t.hasClass(S.addition),u=i&&1==n.length;i?!s||l?(T.apiSettings&&T.saveRemoteData&&x.save.remoteData(o,r),T.useLabels?(x.add.value(r,o,t),x.add.label(r,o,u),x.set.activeItem(t),x.filterActive(),x.select.nextAvailable(n)):(x.add.value(r,o,t),x.set.text(x.add.variables(C.count)),x.set.activeItem(t))):a||(x.debug("Selected active value, removing label"),x.remove.selected(r)):(T.apiSettings&&T.saveRemoteData&&x.save.remoteData(o,r),x.set.text(o),x.set.value(r,o,t),t.addClass(S.active).addClass(S.selected))}))}},add:{label:function(t,n,i){var o,r=x.is.searchSelection()?H:L,a=x.escape.value(t);o=e("<a />").addClass(S.label).attr("data-"+P.value,a).html(M.label(a,n)),o=T.onLabelCreate.call(o,a,n),x.has.label(t)?x.debug("Label already exists, skipping",a):(T.label.variation&&o.addClass(T.label.variation),!0===i?(x.debug("Animating in label",o),o.addClass(S.hidden).insertBefore(r).transition(T.label.transition,T.label.duration)):(x.debug("Adding selection label",o),o.insertBefore(r)))},message:function(t){var n=B.children(j.message),i=T.templates.message(x.add.variables(t));n.length>0?n.html(i):n=e("<div/>").html(i).addClass(S.message).appendTo(B)},optionValue:function(t){var n=x.escape.value(t);W.find('option[value="'+x.escape.string(n)+'"]').length>0||(x.disconnect.selectObserver(),x.is.single()&&(x.verbose("Removing previous user addition"),W.find("option."+S.addition).remove()),e("<option/>").prop("value",n).addClass(S.addition).html(t).appendTo(W),x.verbose("Adding user addition as an <option>",t),x.observe.select())},userSuggestion:function(e){var t,n=B.children(j.addition),i=x.get.item(e),o=i&&i.not(j.addition).length,r=n.length>0;T.useLabels&&x.has.maxSelections()||(""===e||o?n.remove():(r?(n.data(P.value,e).data(P.text,e).attr("data-"+P.value,e).attr("data-"+P.text,e).removeClass(S.filtered),T.hideAdditions||(t=T.templates.addition(x.add.variables(C.addResult,e)),n.html(t)),x.verbose("Replacing user suggestion with new value",n)):((n=x.create.userChoice(e)).prependTo(B),x.verbose("Adding item choice to menu corresponding with user choice addition",n)),T.hideAdditions&&!x.is.allFiltered()||n.addClass(S.selected).siblings().removeClass(S.selected),x.refreshItems()))},variables:function(e,t){var n,i,o=-1!==e.search("{count}"),r=-1!==e.search("{maxCount}"),a=-1!==e.search("{term}");return x.verbose("Adding templated variables to message",e),o&&(n=x.get.selectionCount(),e=e.replace("{count}",n)),r&&(n=x.get.selectionCount(),e=e.replace("{maxCount}",T.maxSelections)),a&&(i=t||x.get.query(),e=e.replace("{term}",i)),e},value:function(t,n,i){var o,r=x.get.values();""!==t?(e.isArray(r)?(o=r.concat([t]),o=x.get.uniqueArray(o)):o=[t],x.has.selectInput()?x.can.extendSelect()&&(x.debug("Adding value to select",t,o,W),x.add.optionValue(t)):(o=o.join(T.delimiter),x.debug("Setting hidden input to delimited value",o,W)),!1===T.fireOnInit&&x.is.initialLoad()?x.verbose("Skipping onadd callback on initial load",T.onAdd):T.onAdd.call($,t,n,i),x.set.value(o,t,n,i),x.check.maxSelections()):x.debug("Cannot select blank values from multiselect")}},remove:{active:function(){N.removeClass(S.active)},activeLabel:function(){N.find(j.label).removeClass(S.active)},empty:function(){N.removeClass(S.empty)},loading:function(){N.removeClass(S.loading)},initialLoad:function(){h=!1},upward:function(e){(e||N).removeClass(S.upward)},leftward:function(e){(e||B).removeClass(S.leftward)},visible:function(){N.removeClass(S.visible)},activeItem:function(){q.removeClass(S.active)},filteredItem:function(){T.useLabels&&x.has.maxSelections()||(T.useLabels&&x.is.multiple()?q.not("."+S.active).removeClass(S.filtered):q.removeClass(S.filtered),x.remove.empty())},optionValue:function(e){var t=x.escape.value(e),n=W.find('option[value="'+x.escape.string(t)+'"]');n.length>0&&n.hasClass(S.addition)&&(y&&(y.disconnect(),x.verbose("Temporarily disconnecting mutation observer")),n.remove(),x.verbose("Removing user addition as an <option>",t),y&&y.observe(W[0],{childList:!0,subtree:!0}))},message:function(){B.children(j.message).remove()},searchWidth:function(){H.css("width","")},searchTerm:function(){x.verbose("Cleared search term"),H.val(""),x.set.filtered()},userAddition:function(){q.filter(j.addition).remove()},selected:function(t,n){if(!(n=T.allowAdditions?n||x.get.itemWithAdditions(t):n||x.get.item(t)))return!1;n.each(function(){var t=e(this),n=x.get.choiceText(t),i=x.get.choiceValue(t,n);x.is.multiple()?T.useLabels?(x.remove.value(i,n,t),x.remove.label(i)):(x.remove.value(i,n,t),0===x.get.selectionCount()?x.set.placeholderText():x.set.text(x.add.variables(C.count))):x.remove.value(i,n,t),t.removeClass(S.filtered).removeClass(S.active),T.useLabels&&t.removeClass(S.selected)})},selectedItem:function(){q.removeClass(S.selected)},value:function(e,t,n){var i,o=x.get.values();x.has.selectInput()?(x.verbose("Input is <select> removing selected option",e),i=x.remove.arrayValue(e,o),x.remove.optionValue(e)):(x.verbose("Removing from delimited values",e),i=(i=x.remove.arrayValue(e,o)).join(T.delimiter)),!1===T.fireOnInit&&x.is.initialLoad()?x.verbose("No callback on initial load",T.onRemove):T.onRemove.call($,e,t,n),x.set.value(i,t,n),x.check.maxSelections()},arrayValue:function(t,n){return e.isArray(n)||(n=[n]),n=e.grep(n,function(e){return t!=e}),x.verbose("Removed value from delimited string",t,n),n},label:function(e,t){var n=N.find(j.label).filter("[data-"+P.value+'="'+x.escape.string(e)+'"]');x.verbose("Removing label",n),n.remove()},activeLabels:function(e){e=e||N.find(j.label).filter("."+S.active),x.verbose("Removing active label selections",e),x.remove.labels(e)},labels:function(t){t=t||N.find(j.label),x.verbose("Removing labels",t),t.each(function(){var t=e(this),n=t.data(P.value),i=void 0!==n?String(n):n,o=x.is.userValue(i);!1!==T.onLabelRemove.call(t,n)?(x.remove.message(),o?(x.remove.value(i),x.remove.label(i)):x.remove.selected(i)):x.debug("Label remove callback cancelled removal")})},tabbable:function(){x.is.searchSelection()?(x.debug("Searchable dropdown initialized"),H.removeAttr("tabindex"),B.removeAttr("tabindex")):(x.debug("Simple selection dropdown initialized"),N.removeAttr("tabindex"),B.removeAttr("tabindex"))}},has:{menuSearch:function(){return x.has.search()&&H.closest(B).length>0},search:function(){return H.length>0},sizer:function(){return F.length>0},selectInput:function(){return W.is("select")},minCharacters:function(e){return!T.minCharacters||(e=void 0!==e?String(e):String(x.get.query())).length>=T.minCharacters},firstLetter:function(e,t){var n,i;return!(!e||0===e.length||"string"!=typeof t)&&(n=x.get.choiceText(e,!1),t=t.toLowerCase(),i=String(n).charAt(0).toLowerCase(),t==i)},input:function(){return W.length>0},items:function(){return q.length>0},menu:function(){return B.length>0},message:function(){return 0!==B.children(j.message).length},label:function(e){var t=x.escape.value(e);return N.find(j.label).filter("[data-"+P.value+'="'+x.escape.string(t)+'"]').length>0},maxSelections:function(){return T.maxSelections&&x.get.selectionCount()>=T.maxSelections},allResultsFiltered:function(){var e=q.not(j.addition);return e.filter(j.unselectable).length===e.length},userSuggestion:function(){return B.children(j.addition).length>0},query:function(){return""!==x.get.query()},value:function(t){var n=x.get.values();return!!(e.isArray(n)?n&&-1!==e.inArray(t,n):n==t)}},is:{active:function(){return N.hasClass(S.active)},bubbledLabelClick:function(t){return e(t.target).is("select, input")&&N.closest("label").length>0},bubbledIconClick:function(t){return e(t.target).closest(G).length>0},alreadySetup:function(){return N.is("select")&&void 0!==N.parent(j.dropdown).data(D)&&0===N.prev().length},animating:function(e){return e?e.transition&&e.transition("is animating"):B.transition&&B.transition("is animating")},leftward:function(e){return(e||B).hasClass(S.leftward)},disabled:function(){return N.hasClass(S.disabled)},focused:function(){return n.activeElement===N[0]},focusedOnSearch:function(){return n.activeElement===H[0]},allFiltered:function(){return(x.is.multiple()||x.has.search())&&!(0==T.hideAdditions&&x.has.userSuggestion())&&!x.has.message()&&x.has.allResultsFiltered()},hidden:function(e){return!x.is.visible(e)},initialLoad:function(){return h},inObject:function(t,n){var i=!1;return e.each(n,function(e,n){if(n==t)return i=!0,!0}),i},multiple:function(){return N.hasClass(S.multiple)},remote:function(){return T.apiSettings&&x.can.useAPI()},single:function(){return!x.is.multiple()},selectMutation:function(t){var n=!1;return e.each(t,function(t,i){if(i.target&&e(i.target).is("select"))return n=!0,!0}),n},search:function(){return N.hasClass(S.search)},searchSelection:function(){return x.has.search()&&1===H.parent(j.dropdown).length},selection:function(){return N.hasClass(S.selection)},userValue:function(t){return-1!==e.inArray(t,x.get.userValues())},upward:function(e){return(e||N).hasClass(S.upward)},visible:function(e){return e?e.hasClass(S.visible):B.hasClass(S.visible)},verticallyScrollableContext:function(){var e=z.get(0)!==t&&z.css("overflow-y");return"auto"==e||"scroll"==e},horizontallyScrollableContext:function(){var e=z.get(0)!==t&&z.css("overflow-X");return"auto"==e||"scroll"==e}},can:{activate:function(e){return!!T.useLabels||!x.has.maxSelections()||!(!x.has.maxSelections()||!e.hasClass(S.active))},openDownward:function(e){var t,n=e||B,i=!0,o={};return n.addClass(S.loading),t={context:{scrollTop:z.scrollTop(),height:z.outerHeight()},menu:{offset:n.offset(),height:n.outerHeight()}},x.is.verticallyScrollableContext()&&(t.menu.offset.top+=t.context.scrollTop),(o={above:t.context.scrollTop<=t.menu.offset.top-t.menu.height,below:t.context.scrollTop+t.context.height>=t.menu.offset.top+t.menu.height}).below?(x.verbose("Dropdown can fit in context downward",o),i=!0):o.below||o.above?(x.verbose("Dropdown cannot fit below, opening upward",o),i=!1):(x.verbose("Dropdown cannot fit in either direction, favoring downward",o),i=!0),n.removeClass(S.loading),i},openRightward:function(e){var t,n=e||B,i=!0,o=!1;return n.addClass(S.loading),t={context:{scrollLeft:z.scrollLeft(),width:z.outerWidth()},menu:{offset:n.offset(),width:n.outerWidth()}},x.is.horizontallyScrollableContext()&&(t.menu.offset.left+=t.context.scrollLeft),(o=t.menu.offset.left+t.menu.width>=t.context.scrollLeft+t.context.width)&&(x.verbose("Dropdown cannot fit in context rightward",o),i=!1),n.removeClass(S.loading),i},click:function(){return l||"click"==T.on},extendSelect:function(){return T.allowAdditions||T.apiSettings},show:function(){return!x.is.disabled()&&(x.has.items()||x.has.message())},useAPI:function(){return void 0!==e.fn.api}},animate:{show:function(t,n){var i,o=n||B,r=n?function(){}:function(){x.hideSubMenus(),x.hideOthers(),x.set.active()};t=e.isFunction(t)?t:function(){},x.verbose("Doing menu show animation",o),x.set.direction(n),i=x.get.transition(n),x.is.selection()&&x.set.scrollPosition(x.get.selectedItem(),!0),(x.is.hidden(o)||x.is.animating(o))&&("none"==i?(r(),o.transition("show"),t.call($)):void 0!==e.fn.transition&&N.transition("is supported")?o.transition({animation:i+" in",debug:T.debug,verbose:T.verbose,duration:T.duration,queue:!0,onStart:r,onComplete:function(){t.call($)}}):x.error(O.noTransition,i))},hide:function(t,n){var i=n||B,o=(T.duration,n?function(){}:function(){x.can.click()&&x.unbind.intent(),x.remove.active()}),r=x.get.transition(n);t=e.isFunction(t)?t:function(){},(x.is.visible(i)||x.is.animating(i))&&(x.verbose("Doing menu hide animation",i),"none"==r?(o(),i.transition("hide"),t.call($)):void 0!==e.fn.transition&&N.transition("is supported")?i.transition({animation:r+" out",duration:T.duration,debug:T.debug,verbose:T.verbose,queue:!0,onStart:o,onComplete:function(){t.call($)}}):x.error(O.transition))}},hideAndClear:function(){x.remove.searchTerm(),x.has.maxSelections()||(x.has.search()?x.hide(function(){x.remove.filteredItem()}):x.hide())},delay:{show:function(){x.verbose("Delaying show event to ensure user intent"),clearTimeout(x.timer),x.timer=setTimeout(x.show,T.delay.show)},hide:function(){x.verbose("Delaying hide event to ensure user intent"),clearTimeout(x.timer),x.timer=setTimeout(x.hide,T.delay.hide)}},escape:{value:function(t){var n=e.isArray(t),i="string"==typeof t,o=!i&&!n,r=i&&-1!==t.search(A.quote),a=[];return o||!r?t:(x.debug("Encoding quote values for use in select",t),n?(e.each(t,function(e,t){a.push(t.replace(A.quote,"&quot;"))}),a):t.replace(A.quote,"&quot;"))},string:function(e){return(e=String(e)).replace(A.escape,"\\$&")}},setting:function(t,n){if(x.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,T,t);else{if(void 0===n)return T[t];e.isPlainObject(T[t])?e.extend(!0,T[t],n):T[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(void 0===n)return x[t];x[t]=n}},debug:function(){!T.silent&&T.debug&&(T.performance?x.performance.log(arguments):(x.debug=Function.prototype.bind.call(console.info,console,T.name+":"),x.debug.apply(console,arguments)))},verbose:function(){!T.silent&&T.verbose&&T.debug&&(T.performance?x.performance.log(arguments):(x.verbose=Function.prototype.bind.call(console.info,console,T.name+":"),x.verbose.apply(console,arguments)))},error:function(){T.silent||(x.error=Function.prototype.bind.call(console.error,console,T.name+":"),x.error.apply(console,arguments))},performance:{log:function(e){var t,n;T.performance&&(n=(t=(new Date).getTime())-(u||t),u=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:$,"Execution Time":n})),clearTimeout(x.performance.timer),x.performance.timer=setTimeout(x.performance.display,500)},display:function(){var t=T.name+":",n=0;u=!1,clearTimeout(x.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(void 0!==console.group||void 0!==console.table)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,i){var r,a,s,l=X;return n=n||g,i=$||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,i){var o=n!=r?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=r)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[i])||n==r)return void 0!==l[i]?(a=l[i],!1):(x.error(O.method,t),!1);l=l[i]}})),e.isFunction(a)?s=a.apply(i,n):void 0!==a&&(s=a),e.isArray(o)?o.push(s):void 0!==o?o=[o,s]:void 0!==s&&(o=s),a}},f?(void 0===X&&x.initialize(),x.invoke(d)):(void 0!==X&&X.invoke("destroy"),x.initialize())}),void 0!==o?o:r},e.fn.dropdown.settings={silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",values:!1,apiSettings:!1,selectOnKeydown:!0,minCharacters:0,filterRemoteData:!1,saveRemoteData:!0,throttle:200,context:t,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,hideAdditions:!0,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowReselection:!1,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.037,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(e,t,n){},onAdd:function(e,t,n){},onRemove:function(e,t,n){},onLabelSelect:function(e){},onLabelCreate:function(t,n){return e(this)},onLabelRemove:function(e){return!0},onNoResults:function(e){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g,quote:/"/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",disabled:"disabled",name:"name",value:"value",text:"text"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",hidden:".hidden",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input, .menu input.search",sizer:"> input.sizer",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",empty:"empty",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",sizer:"sizer",search:"search",selected:"selected",selection:"selection",upward:"upward",leftward:"left",visible:"visible"}},e.fn.dropdown.settings.templates={dropdown:function(t){var n=t.placeholder||!1,i=(t.values,"");return i+='<i class="dropdown icon"></i>',t.placeholder?i+='<div class="default text">'+n+"</div>":i+='<div class="text"></div>',i+='<div class="menu">',e.each(t.values,function(e,t){i+=t.disabled?'<div class="disabled item" data-value="'+t.value+'">'+t.name+"</div>":'<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),i+="</div>"},menu:function(t,n){var i=t[n.values]||{},o="";return e.each(i,function(e,t){var i=t[n.text]?'data-text="'+t[n.text]+'"':"",r=t[n.disabled]?"disabled ":"";o+='<div class="'+r+'item" data-value="'+t[n.value]+'"'+i+">",o+=t[n.name],o+="</div>"}),o},label:function(e,t){return t+'<i class="delete icon"></i>'},message:function(e){return e},addition:function(e){return e}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.embed=function(n){var i,o=e(this),r=o.selector||"",a=(new Date).getTime(),s=[],l=arguments[0],u="string"==typeof l,c=[].slice.call(arguments,1);return o.each(function(){var d,f=e.isPlainObject(n)?e.extend(!0,{},e.fn.embed.settings,n):e.extend({},e.fn.embed.settings),g=f.selector,p=f.className,h=f.sources,m=f.error,v=f.metadata,b=f.namespace,_=f.templates,y="."+b,w="module-"+b,x=(e(t),e(this)),T=x.find(g.placeholder),S=x.find(g.icon),C=x.find(g.embed),E=this,I=x.data(w);d={initialize:function(){d.debug("Initializing embed"),d.determine.autoplay(),d.create(),d.bind.events(),d.instantiate()},instantiate:function(){d.verbose("Storing instance of module",d),I=d,x.data(w,d)},destroy:function(){d.verbose("Destroying previous instance of embed"),d.reset(),x.removeData(w).off(y)},refresh:function(){d.verbose("Refreshing selector cache"),T=x.find(g.placeholder),S=x.find(g.icon),C=x.find(g.embed)},bind:{events:function(){d.has.placeholder()&&(d.debug("Adding placeholder events"),x.on("click"+y,g.placeholder,d.createAndShow).on("click"+y,g.icon,d.createAndShow))}},create:function(){d.get.placeholder()?d.createPlaceholder():d.createAndShow()},createPlaceholder:function(e){var t=d.get.icon(),n=d.get.url();d.generate.embed(n),e=e||d.get.placeholder(),x.html(_.placeholder(e,t)),d.debug("Creating placeholder for embed",e,t)},createEmbed:function(t){d.refresh(),t=t||d.get.url(),C=e("<div/>").addClass(p.embed).html(d.generate.embed(t)).appendTo(x),f.onCreate.call(E,t),d.debug("Creating embed object",C)},changeEmbed:function(e){C.html(d.generate.embed(e))},createAndShow:function(){d.createEmbed(),d.show()},change:function(e,t,n){d.debug("Changing video to ",e,t,n),x.data(v.source,e).data(v.id,t),n?x.data(v.url,n):x.removeData(v.url),d.has.embed()?d.changeEmbed():d.create()},reset:function(){d.debug("Clearing embed and showing placeholder"),d.remove.active(),d.remove.embed(),d.showPlaceholder(),f.onReset.call(E)},show:function(){d.debug("Showing embed"),d.set.active(),f.onDisplay.call(E)},hide:function(){d.debug("Hiding embed"),d.showPlaceholder()},showPlaceholder:function(){d.debug("Showing placeholder image"),d.remove.active(),f.onPlaceholderDisplay.call(E)},get:{id:function(){return f.id||x.data(v.id)},placeholder:function(){return f.placeholder||x.data(v.placeholder)},icon:function(){return f.icon?f.icon:void 0!==x.data(v.icon)?x.data(v.icon):d.determine.icon()},source:function(e){return f.source?f.source:void 0!==x.data(v.source)?x.data(v.source):d.determine.source()},type:function(){var e=d.get.source();return void 0!==h[e]&&h[e].type},url:function(){return f.url?f.url:void 0!==x.data(v.url)?x.data(v.url):d.determine.url()}},determine:{autoplay:function(){d.should.autoplay()&&(f.autoplay=!0)},source:function(t){var n=!1;return(t=t||d.get.url())&&e.each(h,function(e,i){if(-1!==t.search(i.domain))return n=e,!1}),n},icon:function(){var e=d.get.source();return void 0!==h[e]&&h[e].icon},url:function(){var e,t=f.id||x.data(v.id),n=f.source||x.data(v.source);return(e=void 0!==h[n]&&h[n].url.replace("{id}",t))&&x.data(v.url,e),e}},set:{active:function(){x.addClass(p.active)}},remove:{active:function(){x.removeClass(p.active)},embed:function(){C.empty()}},encode:{parameters:function(e){var t,n=[];for(t in e)n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&amp;")}},generate:{embed:function(e){d.debug("Generating embed html");var t,n,i=d.get.source();return(e=d.get.url(e))?(n=d.generate.parameters(i),t=_.iframe(e,n)):d.error(m.noURL,x),t},parameters:function(t,n){var i=h[t]&&void 0!==h[t].parameters?h[t].parameters(f):{};return(n=n||f.parameters)&&(i=e.extend({},i,n)),i=f.onEmbed(i),d.encode.parameters(i)}},has:{embed:function(){return C.length>0},placeholder:function(){return f.placeholder||x.data(v.placeholder)}},should:{autoplay:function(){return"auto"===f.autoplay?f.placeholder||void 0!==x.data(v.placeholder):f.autoplay}},is:{video:function(){return"video"==d.get.type()}},setting:function(t,n){if(d.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===n)return f[t];e.isPlainObject(f[t])?e.extend(!0,f[t],n):f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(void 0===n)return d[t];d[t]=n}},debug:function(){!f.silent&&f.debug&&(f.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,f.name+":"),d.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),d.verbose.apply(console,arguments)))},error:function(){f.silent||(d.error=Function.prototype.bind.call(console.error,console,f.name+":"),d.error.apply(console,arguments))},performance:{log:function(e){var t,n;f.performance&&(n=(t=(new Date).getTime())-(a||t),a=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:E,"Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,500)},display:function(){var t=f.name+":",n=0;a=!1,clearTimeout(d.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),o.length>1&&(t+=" ("+o.length+")"),(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var r,a,s,l=I;return n=n||c,o=E||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,i){var o=n!=r?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=r)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[i])||n==r)return void 0!==l[i]?(a=l[i],!1):(d.error(m.method,t),!1);l=l[i]}})),e.isFunction(a)?s=a.apply(o,n):void 0!==a&&(s=a),e.isArray(i)?i.push(s):void 0!==i?i=[i,s]:void 0!==s&&(i=s),a}},u?(void 0===I&&d.initialize(),d.invoke(l)):(void 0!==I&&I.invoke("destroy"),d.initialize())}),void 0!==i?i:this},e.fn.embed.settings={name:"Embed",namespace:"embed",silent:!1,debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:"auto",color:"#444444",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(e){},onEmbed:function(e){return e},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(e){return{autohide:!e.brandedUI,autoplay:e.autoplay,color:e.color||void 0,hq:e.hd,jsapi:e.api,modestbranding:!e.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(e){return{api:e.api,autoplay:e.autoplay,byline:e.brandedUI,color:e.color||void 0,portrait:e.brandedUI,title:e.brandedUI}}}},templates:{iframe:function(e,t){var n=e;return t&&(n+="?"+t),'<iframe src="'+n+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(e,t){var n="";return t&&(n+='<i class="'+t+' icon"></i>'),e&&(n+='<img class="placeholder" src="'+e+'">'),n}},api:!1,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.modal=function(i){var o,r=e(this),a=e(t),s=e(n),l=e("body"),u=r.selector||"",c=(new Date).getTime(),d=[],f=arguments[0],g="string"==typeof f,p=[].slice.call(arguments,1),h=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return r.each(function(){var r,m,v,b,_,y,w,x,T,S=e.isPlainObject(i)?e.extend(!0,{},e.fn.modal.settings,i):e.extend({},e.fn.modal.settings),C=S.selector,E=S.className,I=S.namespace,P=S.error,k="."+I,A="module-"+I,j=e(this),O=e(S.context),M=j.find(C.close),R=this,D=j.data(A),N=!1;T={initialize:function(){T.verbose("Initializing dimmer",O),T.create.id(),T.create.dimmer(),T.refreshModals(),T.bind.events(),S.observeChanges&&T.observeChanges(),T.instantiate()},instantiate:function(){T.verbose("Storing instance of modal"),D=T,j.data(A,D)},create:{dimmer:function(){var t={debug:S.debug,dimmerName:"modals"},n=e.extend(!0,t,S.dimmerSettings);void 0!==e.fn.dimmer?(T.debug("Creating dimmer"),b=O.dimmer(n),S.detachable?(T.verbose("Modal is detachable, moving content into dimmer"),b.dimmer("add content",j)):T.set.undetached(),_=b.dimmer("get dimmer")):T.error(P.dimmer)},id:function(){w=(Math.random().toString(16)+"000000000").substr(2,8),y="."+w,T.verbose("Creating unique id for element",w)}},destroy:function(){T.verbose("Destroying previous modal"),j.removeData(A).off(k),a.off(y),_.off(y),M.off(k),O.dimmer("destroy")},observeChanges:function(){"MutationObserver"in t&&((x=new MutationObserver(function(e){T.debug("DOM tree modified, refreshing"),T.refresh()})).observe(R,{childList:!0,subtree:!0}),T.debug("Setting up mutation observer",x))},refresh:function(){T.remove.scrolling(),T.cacheSizes(),T.set.screenHeight(),T.set.type(),T.set.position()},refreshModals:function(){m=j.siblings(C.modal),r=m.add(j)},attachEvents:function(t,n){var i=e(t);n=e.isFunction(T[n])?T[n]:T.toggle,i.length>0?(T.debug("Attaching modal events to element",t,n),i.off(k).on("click"+k,n)):T.error(P.notFound,t)},bind:{events:function(){T.verbose("Attaching events"),j.on("click"+k,C.close,T.event.close).on("click"+k,C.approve,T.event.approve).on("click"+k,C.deny,T.event.deny),a.on("resize"+y,T.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){N||!1===S.onApprove.call(R,e(this))?T.verbose("Approve callback returned false cancelling hide"):(N=!0,T.hide(function(){N=!1}))},deny:function(){N||!1===S.onDeny.call(R,e(this))?T.verbose("Deny callback returned false cancelling hide"):(N=!0,T.hide(function(){N=!1}))},close:function(){T.hide()},click:function(t){var i=e(t.target).closest(C.modal).length>0,o=e.contains(n.documentElement,t.target);!i&&o&&(T.debug("Dimmer clicked, hiding all modals"),T.is.active()&&(T.remove.clickaway(),S.allowMultiple?T.hide():T.hideAll()))},debounce:function(e,t){clearTimeout(T.timer),T.timer=setTimeout(e,t)},keyboard:function(e){27==e.which&&(S.closable?(T.debug("Escape key pressed hiding modal"),T.hide()):T.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){b.dimmer("is active")&&(T.is.animating()||T.is.active())&&h(T.refresh)}},toggle:function(){T.is.active()||T.is.animating()?T.hide():T.show()},show:function(t){t=e.isFunction(t)?t:function(){},T.refreshModals(),T.set.dimmerSettings(),T.showModal(t)},hide:function(t){t=e.isFunction(t)?t:function(){},T.refreshModals(),T.hideModal(t)},showModal:function(t){t=e.isFunction(t)?t:function(){},T.is.animating()||!T.is.active()?(T.showDimmer(),T.cacheSizes(),T.set.position(),T.set.screenHeight(),T.set.type(),T.set.clickaway(),!S.allowMultiple&&T.others.active()?T.hideOthers(T.showModal):(S.allowMultiple&&S.detachable&&j.detach().appendTo(_),S.onShow.call(R),S.transition&&void 0!==e.fn.transition&&j.transition("is supported")?(T.debug("Showing modal with css animations"),j.transition({debug:S.debug,animation:S.transition+" in",queue:S.queue,duration:S.duration,useFailSafe:!0,onComplete:function(){S.onVisible.apply(R),S.keyboardShortcuts&&T.add.keyboardShortcuts(),T.save.focus(),T.set.active(),S.autofocus&&T.set.autofocus(),t()}})):T.error(P.noTransition))):T.debug("Modal is already visible")},hideModal:function(t,n){t=e.isFunction(t)?t:function(){},T.debug("Hiding modal"),!1!==S.onHide.call(R,e(this))?(T.is.animating()||T.is.active())&&(S.transition&&void 0!==e.fn.transition&&j.transition("is supported")?(T.remove.active(),j.transition({debug:S.debug,animation:S.transition+" out",queue:S.queue,duration:S.duration,useFailSafe:!0,onStart:function(){T.others.active()||n||T.hideDimmer(),S.keyboardShortcuts&&T.remove.keyboardShortcuts()},onComplete:function(){S.onHidden.call(R),T.restore.focus(),t()}})):T.error(P.noTransition)):T.verbose("Hide callback returned false cancelling hide")},showDimmer:function(){b.dimmer("is animating")||!b.dimmer("is active")?(T.debug("Showing dimmer"),b.dimmer("show")):T.debug("Dimmer already visible")},hideDimmer:function(){b.dimmer("is animating")||b.dimmer("is active")?b.dimmer("hide",function(){T.remove.clickaway(),T.remove.screenHeight()}):T.debug("Dimmer is not visible cannot hide")},hideAll:function(t){var n=r.filter("."+E.active+", ."+E.animating);t=e.isFunction(t)?t:function(){},n.length>0&&(T.debug("Hiding all visible modals"),T.hideDimmer(),n.modal("hide modal",t))},hideOthers:function(t){var n=m.filter("."+E.active+", ."+E.animating);t=e.isFunction(t)?t:function(){},n.length>0&&(T.debug("Hiding other modals",m),n.modal("hide modal",t,!0))},others:{active:function(){return m.filter("."+E.active).length>0},animating:function(){return m.filter("."+E.animating).length>0}},add:{keyboardShortcuts:function(){T.verbose("Adding keyboard shortcuts"),s.on("keyup"+k,T.event.keyboard)}},save:{focus:function(){v=e(n.activeElement).blur()}},restore:{focus:function(){v&&v.length>0&&v.focus()}},remove:{active:function(){j.removeClass(E.active)},clickaway:function(){S.closable&&_.off("click"+y)},bodyStyle:function(){""===l.attr("style")&&(T.verbose("Removing style attribute"),l.removeAttr("style"))},screenHeight:function(){T.debug("Removing page height"),l.css("height","")},keyboardShortcuts:function(){T.verbose("Removing keyboard shortcuts"),s.off("keyup"+k)},scrolling:function(){b.removeClass(E.scrolling),j.removeClass(E.scrolling)}},cacheSizes:function(){j.addClass(E.loading);var i=j.prop("scrollHeight"),o=j.outerHeight();void 0!==T.cache&&0===o||(T.cache={pageHeight:e(n).outerHeight(),height:o+S.offset,scrollHeight:i+S.offset,contextHeight:"body"==S.context?e(t).height():b.height()},T.cache.topOffset=-T.cache.height/2),j.removeClass(E.loading),T.debug("Caching modal and container sizes",T.cache)},can:{fit:function(){var e=T.cache.contextHeight,t=T.cache.contextHeight/2,n=T.cache.topOffset,i=T.cache.scrollHeight,o=T.cache.height,r=S.padding,a=t+n;return i>o?a+i+r<e:o+2*r<e}},is:{active:function(){return j.hasClass(E.active)},animating:function(){return j.transition("is supported")?j.transition("is animating"):j.is(":visible")},scrolling:function(){return b.hasClass(E.scrolling)},modernBrowser:function(){return!(t.ActiveXObject||"ActiveXObject"in t)}},set:{autofocus:function(){var e=j.find("[tabindex], :input").filter(":visible"),t=e.filter("[autofocus]"),n=t.length>0?t.first():e.first();n.length>0&&n.focus()},clickaway:function(){S.closable&&_.on("click"+y,T.event.click)},dimmerSettings:function(){if(void 0!==e.fn.dimmer){var t={debug:S.debug,dimmerName:"modals",variation:!1,closable:"auto",duration:{show:S.duration,hide:S.duration}},n=e.extend(!0,t,S.dimmerSettings);S.inverted?(n.variation=void 0!==n.variation?n.variation+" inverted":"inverted",_.addClass(E.inverted)):_.removeClass(E.inverted),S.blurring?b.addClass(E.blurring):b.removeClass(E.blurring),O.dimmer("setting",n)}else T.error(P.dimmer)},screenHeight:function(){T.can.fit()?l.css("height",""):(T.debug("Modal is taller than page content, resizing page height"),l.css("height",T.cache.height+2*S.padding))},active:function(){j.addClass(E.active)},scrolling:function(){b.addClass(E.scrolling),j.addClass(E.scrolling)},type:function(){T.can.fit()?(T.verbose("Modal fits on screen"),T.others.active()||T.others.animating()||T.remove.scrolling()):(T.verbose("Modal cannot fit on screen setting to scrolling"),T.set.scrolling())},position:function(){T.verbose("Centering modal on page",T.cache),T.can.fit()?j.css({top:"",marginTop:T.cache.topOffset}):j.css({marginTop:"",top:s.scrollTop()})},undetached:function(){b.addClass(E.undetached)}},setting:function(t,n){if(T.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,S,t);else{if(void 0===n)return S[t];e.isPlainObject(S[t])?e.extend(!0,S[t],n):S[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,T,t);else{if(void 0===n)return T[t];T[t]=n}},debug:function(){!S.silent&&S.debug&&(S.performance?T.performance.log(arguments):(T.debug=Function.prototype.bind.call(console.info,console,S.name+":"),T.debug.apply(console,arguments)))},verbose:function(){!S.silent&&S.verbose&&S.debug&&(S.performance?T.performance.log(arguments):(T.verbose=Function.prototype.bind.call(console.info,console,S.name+":"),T.verbose.apply(console,arguments)))},error:function(){S.silent||(T.error=Function.prototype.bind.call(console.error,console,S.name+":"),T.error.apply(console,arguments))},performance:{log:function(e){var t,n;S.performance&&(n=(t=(new Date).getTime())-(c||t),c=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:R,"Execution Time":n})),clearTimeout(T.performance.timer),T.performance.timer=setTimeout(T.performance.display,500)},display:function(){var t=S.name+":",n=0;c=!1,clearTimeout(T.performance.timer),e.each(d,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",u&&(t+=" '"+u+"'"),(void 0!==console.group||void 0!==console.table)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,n,i){var r,a,s,l=D;return n=n||p,i=R||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,i){var o=n!=r?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=r)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[i])||n==r)return void 0!==l[i]&&(a=l[i],!1);l=l[i]}})),e.isFunction(a)?s=a.apply(i,n):void 0!==a&&(s=a),e.isArray(o)?o.push(s):void 0!==o?o=[o,s]:void 0!==s&&(o=s),a}},g?(void 0===D&&T.initialize(),T.invoke(f)):(void 0!==D&&D.invoke("destroy"),T.initialize())}),void 0!==o?o:this},e.fn.modal.settings={name:"Modal",namespace:"modal",silent:!1,debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,dimmerSettings:{closable:!1,useCSS:!0},keyboardShortcuts:!0,context:"body",queue:!1,duration:500,offset:0,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",inverted:"inverted",loading:"loading",scrolling:"scrolling",undetached:"undetached"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.nag=function(n){var i,o=e(this),r=o.selector||"",a=(new Date).getTime(),s=[],l=arguments[0],u="string"==typeof l,c=[].slice.call(arguments,1);return o.each(function(){var o,d=e.isPlainObject(n)?e.extend(!0,{},e.fn.nag.settings,n):e.extend({},e.fn.nag.settings),f=(d.className,d.selector),g=d.error,p=d.namespace,h="."+p,m=p+"-module",v=e(this),b=(v.find(f.close),e(d.context?d.context:"body")),_=this,y=v.data(m);t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame,o={initialize:function(){o.verbose("Initializing element"),v.on("click"+h,f.close,o.dismiss).data(m,o),d.detachable&&v.parent()[0]!==b[0]&&v.detach().prependTo(b),d.displayTime>0&&setTimeout(o.hide,d.displayTime),o.show()},destroy:function(){o.verbose("Destroying instance"),v.removeData(m).off(h)},show:function(){o.should.show()&&!v.is(":visible")&&(o.debug("Showing nag",d.animation.show),"fade"==d.animation.show?v.fadeIn(d.duration,d.easing):v.slideDown(d.duration,d.easing))},hide:function(){o.debug("Showing nag",d.animation.hide),"fade"==d.animation.show?v.fadeIn(d.duration,d.easing):v.slideUp(d.duration,d.easing)},onHide:function(){o.debug("Removing nag",d.animation.hide),v.remove(),d.onHide&&d.onHide()},dismiss:function(e){d.storageMethod&&o.storage.set(d.key,d.value),o.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return d.persist?(o.debug("Persistent nag is set, can show nag"),!0):o.storage.get(d.key)!=d.value.toString()?(o.debug("Stored value is not set, can show nag",o.storage.get(d.key)),!0):(o.debug("Stored value is set, cannot show nag",o.storage.get(d.key)),!1)}},get:{storageOptions:function(){var e={};return d.expires&&(e.expires=d.expires),d.domain&&(e.domain=d.domain),d.path&&(e.path=d.path),e}},clear:function(){o.storage.remove(d.key)},storage:{set:function(n,i){var r=o.get.storageOptions();if("localstorage"==d.storageMethod&&void 0!==t.localStorage)t.localStorage.setItem(n,i),o.debug("Value stored using local storage",n,i);else if("sessionstorage"==d.storageMethod&&void 0!==t.sessionStorage)t.sessionStorage.setItem(n,i),o.debug("Value stored using session storage",n,i);else{if(void 0===e.cookie)return void o.error(g.noCookieStorage);e.cookie(n,i,r),o.debug("Value stored using cookie",n,i,r)}},get:function(n,i){var r;return"localstorage"==d.storageMethod&&void 0!==t.localStorage?r=t.localStorage.getItem(n):"sessionstorage"==d.storageMethod&&void 0!==t.sessionStorage?r=t.sessionStorage.getItem(n):void 0!==e.cookie?r=e.cookie(n):o.error(g.noCookieStorage),"undefined"!=r&&"null"!=r&&void 0!==r&&null!==r||(r=void 0),r},remove:function(n){var i=o.get.storageOptions();"localstorage"==d.storageMethod&&void 0!==t.localStorage?t.localStorage.removeItem(n):"sessionstorage"==d.storageMethod&&void 0!==t.sessionStorage?t.sessionStorage.removeItem(n):void 0!==e.cookie?e.removeCookie(n,i):o.error(g.noStorage)}},setting:function(t,n){if(o.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,d,t);else{if(void 0===n)return d[t];e.isPlainObject(d[t])?e.extend(!0,d[t],n):d[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,o,t);else{if(void 0===n)return o[t];o[t]=n}},debug:function(){!d.silent&&d.debug&&(d.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,d.name+":"),o.debug.apply(console,arguments)))},verbose:function(){!d.silent&&d.verbose&&d.debug&&(d.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),o.verbose.apply(console,arguments)))},error:function(){d.silent||(o.error=Function.prototype.bind.call(console.error,console,d.name+":"),o.error.apply(console,arguments))},performance:{log:function(e){var t,n;d.performance&&(n=(t=(new Date).getTime())-(a||t),a=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:_,"Execution Time":n})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,500)},display:function(){var t=d.name+":",n=0;a=!1,clearTimeout(o.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,r){var a,s,l,u=y;return n=n||c,r=_||r,"string"==typeof t&&void 0!==u&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var r=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(u[r])&&n!=a)u=u[r];else{if(void 0!==u[r])return s=u[r],!1;if(!e.isPlainObject(u[i])||n==a)return void 0!==u[i]?(s=u[i],!1):(o.error(g.method,t),!1);u=u[i]}})),e.isFunction(s)?l=s.apply(r,n):void 0!==s&&(l=s),e.isArray(i)?i.push(l):void 0!==i?i=[i,l]:void 0!==l&&(i=l),s}},u?(void 0===y&&o.initialize(),o.invoke(l)):(void 0!==y&&y.invoke("destroy"),o.initialize())}),void 0!==i?i:this},e.fn.nag.settings={name:"Nag",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.popup=function(i){var o,r=e(this),a=e(n),s=e(t),l=e("body"),u=r.selector||"",c=(new Date).getTime(),d=[],f=arguments[0],g="string"==typeof f,p=[].slice.call(arguments,1);return r.each(function(){var r,h,m,v,b,_,y=e.isPlainObject(i)?e.extend(!0,{},e.fn.popup.settings,i):e.extend({},e.fn.popup.settings),w=y.selector,x=y.className,T=y.error,S=y.metadata,C=y.namespace,E="."+y.namespace,I="module-"+C,P=e(this),k=e(y.context),A=e(y.scrollContext),j=e(y.boundary),O=y.target?e(y.target):P,M=0,R=!1,D=!1,N=this,z=P.data(I);_={initialize:function(){_.debug("Initializing",P),_.createID(),_.bind.events(),!_.exists()&&y.preserve&&_.create(),y.observeChanges&&_.observeChanges(),_.instantiate()},instantiate:function(){_.verbose("Storing instance",_),z=_,P.data(I,z)},observeChanges:function(){"MutationObserver"in t&&((m=new MutationObserver(_.event.documentChanged)).observe(n,{childList:!0,subtree:!0}),_.debug("Setting up mutation observer",m))},refresh:function(){y.popup?r=e(y.popup).eq(0):y.inline&&(r=O.nextAll(w.popup).eq(0),y.popup=r),y.popup?(r.addClass(x.loading),h=_.get.offsetParent(),r.removeClass(x.loading),y.movePopup&&_.has.popup()&&_.get.offsetParent(r)[0]!==h[0]&&(_.debug("Moving popup to the same offset parent as target"),r.detach().appendTo(h))):h=y.inline?_.get.offsetParent(O):_.has.popup()?_.get.offsetParent(r):l,h.is("html")&&h[0]!==l[0]&&(_.debug("Setting page as offset parent"),h=l),_.get.variation()&&_.set.variation()},reposition:function(){_.refresh(),_.set.position()},destroy:function(){_.debug("Destroying previous module"),m&&m.disconnect(),r&&!y.preserve&&_.removePopup(),clearTimeout(_.hideTimer),clearTimeout(_.showTimer),_.unbind.close(),_.unbind.events(),P.removeData(I)},event:{start:function(t){var n=e.isPlainObject(y.delay)?y.delay.show:y.delay;clearTimeout(_.hideTimer),D||(_.showTimer=setTimeout(_.show,n))},end:function(){var t=e.isPlainObject(y.delay)?y.delay.hide:y.delay;clearTimeout(_.showTimer),_.hideTimer=setTimeout(_.hide,t)},touchstart:function(e){D=!0,_.show()},resize:function(){_.is.visible()&&_.set.position()},documentChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==N||e(t).find(N).length>0)&&(_.debug("Element removed from DOM, tearing down events"),_.destroy())})})},hideGracefully:function(t){var i=e(t.target),o=e.contains(n.documentElement,t.target),r=i.closest(w.popup).length>0;t&&!r&&o?(_.debug("Click occurred outside popup hiding popup"),_.hide()):_.debug("Click was inside popup, keeping popup open")}},create:function(){var t=_.get.html(),n=_.get.title(),i=_.get.content();t||i||n?(_.debug("Creating pop-up html"),t||(t=y.templates.popup({title:n,content:i})),r=e("<div/>").addClass(x.popup).data(S.activator,P).html(t),y.inline?(_.verbose("Inserting popup element inline",r),r.insertAfter(P)):(_.verbose("Appending popup element to body",r),r.appendTo(k)),_.refresh(),_.set.variation(),y.hoverable&&_.bind.popup(),y.onCreate.call(r,N)):0!==O.next(w.popup).length?(_.verbose("Pre-existing popup found"),y.inline=!0,y.popup=O.next(w.popup).data(S.activator,P),_.refresh(),y.hoverable&&_.bind.popup()):y.popup?(e(y.popup).data(S.activator,P),_.verbose("Used popup specified in settings"),_.refresh(),y.hoverable&&_.bind.popup()):_.debug("No content specified skipping display",N)},createID:function(){b=(Math.random().toString(16)+"000000000").substr(2,8),v="."+b,_.verbose("Creating unique id for element",b)},toggle:function(){_.debug("Toggling pop-up"),_.is.hidden()?(_.debug("Popup is hidden, showing pop-up"),_.unbind.close(),_.show()):(_.debug("Popup is visible, hiding pop-up"),_.hide())},show:function(e){if(e=e||function(){},_.debug("Showing pop-up",y.transition),_.is.hidden()&&(!_.is.active()||!_.is.dropdown())){if(_.exists()||_.create(),!1===y.onShow.call(r,N))return void _.debug("onShow callback returned false, cancelling popup animation");y.preserve||y.popup||_.refresh(),r&&_.set.position()&&(_.save.conditions(),y.exclusive&&_.hideAll(),_.animate.show(e))}},hide:function(e){if(e=e||function(){},_.is.visible()||_.is.animating()){if(!1===y.onHide.call(r,N))return void _.debug("onHide callback returned false, cancelling popup animation");_.remove.visible(),_.unbind.close(),_.restore.conditions(),_.animate.hide(e)}},hideAll:function(){e(w.popup).filter("."+x.popupVisible).each(function(){e(this).data(S.activator).popup("hide")})},exists:function(){return!!r&&(y.inline||y.popup?_.has.popup():r.closest(k).length>=1)},removePopup:function(){_.has.popup()&&!y.popup&&(_.debug("Removing popup",r),r.remove(),r=void 0,y.onRemove.call(r,N))},save:{conditions:function(){_.cache={title:P.attr("title")},_.cache.title&&P.removeAttr("title"),_.verbose("Saving original attributes",_.cache.title)}},restore:{conditions:function(){return _.cache&&_.cache.title&&(P.attr("title",_.cache.title),_.verbose("Restoring original attributes",_.cache.title)),!0}},supports:{svg:function(){return"undefined"==typeof SVGGraphicsElement}},animate:{show:function(t){t=e.isFunction(t)?t:function(){},y.transition&&void 0!==e.fn.transition&&P.transition("is supported")?(_.set.visible(),r.transition({animation:y.transition+" in",queue:!1,debug:y.debug,verbose:y.verbose,duration:y.duration,onComplete:function(){_.bind.close(),t.call(r,N),y.onVisible.call(r,N)}})):_.error(T.noTransition)},hide:function(t){t=e.isFunction(t)?t:function(){},_.debug("Hiding pop-up"),!1!==y.onHide.call(r,N)?y.transition&&void 0!==e.fn.transition&&P.transition("is supported")?r.transition({animation:y.transition+" out",queue:!1,duration:y.duration,debug:y.debug,verbose:y.verbose,onComplete:function(){_.reset(),t.call(r,N),y.onHidden.call(r,N)}}):_.error(T.noTransition):_.debug("onHide callback returned false, cancelling popup animation")}},change:{content:function(e){r.html(e)}},get:{html:function(){return P.removeData(S.html),P.data(S.html)||y.html},title:function(){return P.removeData(S.title),P.data(S.title)||y.title},content:function(){return P.removeData(S.content),P.data(S.content)||P.attr("title")||y.content},variation:function(){return P.removeData(S.variation),P.data(S.variation)||y.variation},popup:function(){return r},popupOffset:function(){return r.offset()},calculations:function(){var e,n=O[0],i=j[0]==t,o=y.inline||y.popup&&y.movePopup?O.position():O.offset(),a=i?{top:0,left:0}:j.offset(),l={},u=i?{top:s.scrollTop(),left:s.scrollLeft()}:{top:0,left:0};return l={target:{element:O[0],width:O.outerWidth(),height:O.outerHeight(),top:o.top,left:o.left,margin:{}},popup:{width:r.outerWidth(),height:r.outerHeight()},parent:{width:h.outerWidth(),height:h.outerHeight()},screen:{top:a.top,left:a.left,scroll:{top:u.top,left:u.left},width:j.width(),height:j.height()}},y.setFluidWidth&&_.is.fluid()&&(l.container={width:r.parent().outerWidth()},l.popup.width=l.container.width),l.target.margin.top=y.inline?parseInt(t.getComputedStyle(n).getPropertyValue("margin-top"),10):0,l.target.margin.left=y.inline?_.is.rtl()?parseInt(t.getComputedStyle(n).getPropertyValue("margin-right"),10):parseInt(t.getComputedStyle(n).getPropertyValue("margin-left"),10):0,e=l.screen,l.boundary={top:e.top+e.scroll.top,bottom:e.top+e.scroll.top+e.height,left:e.left+e.scroll.left,right:e.left+e.scroll.left+e.width},l},id:function(){return b},startEvent:function(){return"hover"==y.on?"mouseenter":"focus"==y.on&&"focus"},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==y.on?"mouseleave":"focus"==y.on&&"blur"},distanceFromBoundary:function(e,t){var n,i,o={};return t=t||_.get.calculations(),n=t.popup,i=t.boundary,e&&(o={top:e.top-i.top,left:e.left-i.left,right:i.right-(e.left+n.width),bottom:i.bottom-(e.top+n.height)},_.verbose("Distance from boundaries determined",e,o)),o},offsetParent:function(t){var n=(void 0!==t?t[0]:P[0]).parentNode,i=e(n);if(n)for(var o="none"===i.css("transform"),r="static"===i.css("position"),a=i.is("html");n&&!a&&r&&o;)n=n.parentNode,o="none"===(i=e(n)).css("transform"),r="static"===i.css("position"),a=i.is("html");return i&&i.length>0?i:e()},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(e){var t=e.split(" "),n=t[0],i=t[1],o={top:"bottom",bottom:"top",left:"right",right:"left"},r={left:"center",center:"right",right:"left"},a={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},s="top"==n||"bottom"==n,l=!1,u=!1,c=!1;return R||(_.verbose("All available positions available"),R=_.get.positions()),_.debug("Recording last position tried",e),R[e]=!0,"opposite"===y.prefer&&(c=(c=[o[n],i]).join(" "),l=!0===R[c],_.debug("Trying opposite strategy",c)),"adjacent"===y.prefer&&s&&(c=(c=[n,r[i]]).join(" "),u=!0===R[c],_.debug("Trying adjacent strategy",c)),(u||l)&&(_.debug("Using backup position",c),c=a[e]),c}},set:{position:function(e,t){if(0!==O.length&&0!==r.length){var n,i,o,a,s,l,u,c;if(t=t||_.get.calculations(),e=e||P.data(S.position)||y.position,n=P.data(S.offset)||y.offset,i=y.distanceAway,o=t.target,a=t.popup,s=t.parent,0===o.width&&0===o.height&&!_.is.svg(o.element))return _.debug("Popup target is hidden, no action taken"),!1;switch(y.inline&&(_.debug("Adding margin to calculation",o.margin),"left center"==e||"right center"==e?(n+=o.margin.top,i+=-o.margin.left):"top left"==e||"top center"==e||"top right"==e?(n+=o.margin.left,i-=o.margin.top):(n+=o.margin.left,i+=o.margin.top)),_.debug("Determining popup position from calculations",e,t),_.is.rtl()&&(e=e.replace(/left|right/g,function(e){return"left"==e?"right":"left"}),_.debug("RTL: Popup position updated",e)),M==y.maxSearchDepth&&"string"==typeof y.lastResort&&(e=y.lastResort),e){case"top left":l={top:"auto",bottom:s.height-o.top+i,left:o.left+n,right:"auto"};break;case"top center":l={bottom:s.height-o.top+i,left:o.left+o.width/2-a.width/2+n,top:"auto",right:"auto"};break;case"top right":l={bottom:s.height-o.top+i,right:s.width-o.left-o.width-n,top:"auto",left:"auto"};break;case"left center":l={top:o.top+o.height/2-a.height/2+n,right:s.width-o.left+i,left:"auto",bottom:"auto"};break;case"right center":l={top:o.top+o.height/2-a.height/2+n,left:o.left+o.width+i,bottom:"auto",right:"auto"};break;case"bottom left":l={top:o.top+o.height+i,left:o.left+n,bottom:"auto",right:"auto"};break;case"bottom center":l={top:o.top+o.height+i,left:o.left+o.width/2-a.width/2+n,bottom:"auto",right:"auto"};break;case"bottom right":l={top:o.top+o.height+i,right:s.width-o.left-o.width-n,left:"auto",bottom:"auto"}}if(void 0===l&&_.error(T.invalidPosition,e),_.debug("Calculated popup positioning values",l),r.css(l).removeClass(x.position).addClass(e).addClass(x.loading),u=_.get.popupOffset(),c=_.get.distanceFromBoundary(u,t),_.is.offstage(c,e)){if(_.debug("Position is outside viewport",e),M<y.maxSearchDepth)return M++,e=_.get.nextPosition(e),_.debug("Trying new position",e),!!r&&_.set.position(e,t);if(!y.lastResort)return _.debug("Popup could not find a position to display",r),_.error(T.cannotPlace,N),_.remove.attempts(),_.remove.loading(),_.reset(),y.onUnplaceable.call(r,N),!1;_.debug("No position found, showing with last position")}return _.debug("Position is on stage",e),_.remove.attempts(),_.remove.loading(),y.setFluidWidth&&_.is.fluid()&&_.set.fluidWidth(t),!0}_.error(T.notFound)},fluidWidth:function(e){e=e||_.get.calculations(),_.debug("Automatically setting element width to parent width",e.parent.width),r.css("width",e.container.width)},variation:function(e){(e=e||_.get.variation())&&_.has.popup()&&(_.verbose("Adding variation to popup",e),r.addClass(e))},visible:function(){P.addClass(x.visible)}},remove:{loading:function(){r.removeClass(x.loading)},variation:function(e){(e=e||_.get.variation())&&(_.verbose("Removing variation",e),r.removeClass(e))},visible:function(){P.removeClass(x.visible)},attempts:function(){_.verbose("Resetting all searched positions"),M=0,R=!1}},bind:{events:function(){_.debug("Binding popup events to module"),"click"==y.on&&P.on("click"+E,_.toggle),"hover"==y.on&&P.on("touchstart"+E,_.event.touchstart),_.get.startEvent()&&P.on(_.get.startEvent()+E,_.event.start).on(_.get.endEvent()+E,_.event.end),y.target&&_.debug("Target set to element",O),s.on("resize"+v,_.event.resize)},popup:function(){_.verbose("Allowing hover events on popup to prevent closing"),r&&_.has.popup()&&r.on("mouseenter"+E,_.event.start).on("mouseleave"+E,_.event.end)},close:function(){(!0===y.hideOnScroll||"auto"==y.hideOnScroll&&"click"!=y.on)&&_.bind.closeOnScroll(),"hover"==y.on&&D&&_.bind.touchClose(),"click"==y.on&&y.closable&&_.bind.clickaway()},closeOnScroll:function(){_.verbose("Binding scroll close event to document"),A.one(_.get.scrollEvent()+v,_.event.hideGracefully)},touchClose:function(){_.verbose("Binding popup touchclose event to document"),a.on("touchstart"+v,function(e){_.verbose("Touched away from popup"),_.event.hideGracefully.call(N,e)})},clickaway:function(){_.verbose("Binding popup close event to document"),a.on("click"+v,function(e){_.verbose("Clicked away from popup"),_.event.hideGracefully.call(N,e)})}},unbind:{events:function(){s.off(v),P.off(E)},close:function(){a.off(v),A.off(v)}},has:{popup:function(){return r&&r.length>0}},is:{offstage:function(t,n){var i=[];return e.each(t,function(e,t){t<-y.jitter&&(_.debug("Position exceeds allowable distance from edge",e,t,n),i.push(e))}),i.length>0},svg:function(e){return _.supports.svg()&&e instanceof SVGGraphicsElement},active:function(){return P.hasClass(x.active)},animating:function(){return void 0!==r&&r.hasClass(x.animating)},fluid:function(){return void 0!==r&&r.hasClass(x.fluid)},visible:function(){return void 0!==r&&r.hasClass(x.popupVisible)},dropdown:function(){return P.hasClass(x.dropdown)},hidden:function(){return!_.is.visible()},rtl:function(){return"rtl"==P.css("direction")}},reset:function(){_.remove.visible(),y.preserve?void 0!==e.fn.transition&&r.transition("remove transition"):_.removePopup()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(void 0===n)return y[t];y[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,_,t);else{if(void 0===n)return _[t];_[t]=n}},debug:function(){!y.silent&&y.debug&&(y.performance?_.performance.log(arguments):(_.debug=Function.prototype.bind.call(console.info,console,y.name+":"),_.debug.apply(console,arguments)))},verbose:function(){!y.silent&&y.verbose&&y.debug&&(y.performance?_.performance.log(arguments):(_.verbose=Function.prototype.bind.call(console.info,console,y.name+":"),_.verbose.apply(console,arguments)))},error:function(){y.silent||(_.error=Function.prototype.bind.call(console.error,console,y.name+":"),_.error.apply(console,arguments))},performance:{log:function(e){var t,n;y.performance&&(n=(t=(new Date).getTime())-(c||t),c=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:N,"Execution Time":n})),clearTimeout(_.performance.timer),_.performance.timer=setTimeout(_.performance.display,500)},display:function(){var t=y.name+":",n=0;c=!1,clearTimeout(_.performance.timer),e.each(d,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",u&&(t+=" '"+u+"'"),(void 0!==console.group||void 0!==console.table)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,n,i){var r,a,s,l=z;return n=n||p,i=N||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,i){var o=n!=r?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=r)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[i])||n==r)return void 0!==l[i]&&(a=l[i],!1);l=l[i]}})),e.isFunction(a)?s=a.apply(i,n):void 0!==a&&(s=a),e.isArray(o)?o.push(s):void 0!==o?o=[o,s]:void 0!==s&&(o=s),a}},g?(void 0===z&&_.initialize(),_.invoke(f)):(void 0!==z&&z.invoke("destroy"),_.initialize())}),void 0!==o?o:this},e.fn.popup.settings={name:"Popup",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"popup",observeChanges:!0,onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onUnplaceable:function(){},onHidden:function(){},on:"hover",boundary:t,addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",scrollContext:t,prefer:"opposite",lastResort:!1,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible",popupVisible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(e){var t=/[&<>"'`]/g,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return/[&<>"'`]/.test(e)?e.replace(t,function(e){return n[e]}):e},popup:function(t){var n="",i=e.fn.popup.settings.templates.escape;return void 0!==typeof t&&(void 0!==typeof t.title&&t.title&&(t.title=i(t.title),n+='<div class="header">'+t.title+"</div>"),void 0!==typeof t.content&&t.content&&(t.content=i(t.content),n+='<div class="content">'+t.content+"</div>")),n}}}}(jQuery,window,document),function(e,t,n,i){"use strict";void 0!==(t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")())&&t.Math==Math||("undefined"!=typeof self&&self.Math==Math?self:Function("return this")()),e.fn.progress=function(t){var i,o=e(this),r=o.selector||"",a=(new Date).getTime(),s=[],l=arguments[0],u="string"==typeof l,c=[].slice.call(arguments,1);return o.each(function(){var o,d,f=e.isPlainObject(t)?e.extend(!0,{},e.fn.progress.settings,t):e.extend({},e.fn.progress.settings),g=f.className,p=f.metadata,h=f.namespace,m=f.selector,v=f.error,b="."+h,_="module-"+h,y=e(this),w=e(this).find(m.bar),x=e(this).find(m.progress),T=e(this).find(m.label),S=this,C=y.data(_),E=!1;d={initialize:function(){d.debug("Initializing progress bar",f),d.set.duration(),d.set.transitionEvent(),d.read.metadata(),d.read.settings(),d.instantiate()},instantiate:function(){d.verbose("Storing instance of progress",d),C=d,y.data(_,d)},destroy:function(){d.verbose("Destroying previous progress for",y),clearInterval(C.interval),d.remove.state(),y.removeData(_),C=void 0},reset:function(){d.remove.nextValue(),d.update.progress(0)},complete:function(){(void 0===d.percent||d.percent<100)&&(d.remove.progressPoll(),d.set.percent(100))},read:{metadata:function(){var e={percent:y.data(p.percent),total:y.data(p.total),value:y.data(p.value)};e.percent&&(d.debug("Current percent value set from metadata",e.percent),d.set.percent(e.percent)),e.total&&(d.debug("Total value set from metadata",e.total),d.set.total(e.total)),e.value&&(d.debug("Current value set from metadata",e.value),d.set.value(e.value),d.set.progress(e.value))},settings:function(){!1!==f.total&&(d.debug("Current total set in settings",f.total),d.set.total(f.total)),!1!==f.value&&(d.debug("Current value set in settings",f.value),d.set.value(f.value),d.set.progress(d.value)),!1!==f.percent&&(d.debug("Current percent set in settings",f.percent),d.set.percent(f.percent))}},bind:{transitionEnd:function(e){var t=d.get.transitionEnd();w.one(t+b,function(t){clearTimeout(d.failSafeTimer),e.call(this,t)}),d.failSafeTimer=setTimeout(function(){w.triggerHandler(t)},f.duration+f.failSafeDelay),d.verbose("Adding fail safe timer",d.timer)}},increment:function(e){var t,n;d.has.total()?n=(t=d.get.value())+(e=e||1):(n=(t=d.get.percent())+(e=e||d.get.randomValue()),d.debug("Incrementing percentage by",t,n)),n=d.get.normalizedValue(n),d.set.progress(n)},decrement:function(e){var t,n;d.get.total()?(n=(t=d.get.value())-(e=e||1),d.debug("Decrementing value by",e,t)):(n=(t=d.get.percent())-(e=e||d.get.randomValue()),d.debug("Decrementing percentage by",e,t)),n=d.get.normalizedValue(n),d.set.progress(n)},has:{progressPoll:function(){return d.progressPoll},total:function(){return!1!==d.get.total()}},get:{text:function(e){var t=d.value||0,n=d.total||0,i=E?d.get.displayPercent():d.percent||0,o=d.total>0?n-t:100-i;return e=e||"",e=e.replace("{value}",t).replace("{total}",n).replace("{left}",o).replace("{percent}",i),d.verbose("Adding variables to progress bar text",e),e},normalizedValue:function(e){if(e<0)return d.debug("Value cannot decrement below 0"),0;if(d.has.total()){if(e>d.total)return d.debug("Value cannot increment above total",d.total),d.total}else if(e>100)return d.debug("Value cannot increment above 100 percent"),100;return e},updateInterval:function(){return"auto"==f.updateInterval?f.duration:f.updateInterval},randomValue:function(){return d.debug("Generating random increment percentage"),Math.floor(Math.random()*f.random.max+f.random.min)},numericValue:function(e){return"string"==typeof e?""!==e.replace(/[^\d.]/g,"")&&+e.replace(/[^\d.]/g,""):e},transitionEnd:function(){var e,t=n.createElement("element"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==t.style[e])return i[e]},displayPercent:function(){var e=w.width(),t=y.width(),n=e>parseInt(w.css("min-width"),10)?e/t*100:d.percent;return f.precision>0?Math.round(n*(10*f.precision))/(10*f.precision):Math.round(n)},percent:function(){return d.percent||0},value:function(){return d.nextValue||d.value||0},total:function(){return d.total||!1}},create:{progressPoll:function(){d.progressPoll=setTimeout(function(){d.update.toNextValue(),d.remove.progressPoll()},d.get.updateInterval())}},is:{complete:function(){return d.is.success()||d.is.warning()||d.is.error()},success:function(){return y.hasClass(g.success)},warning:function(){return y.hasClass(g.warning)},error:function(){return y.hasClass(g.error)},active:function(){return y.hasClass(g.active)},visible:function(){return y.is(":visible")}},remove:{progressPoll:function(){d.verbose("Removing progress poll timer"),d.progressPoll&&(clearTimeout(d.progressPoll),delete d.progressPoll)},nextValue:function(){d.verbose("Removing progress value stored for next update"),delete d.nextValue},state:function(){d.verbose("Removing stored state"),delete d.total,delete d.percent,delete d.value},active:function(){d.verbose("Removing active state"),y.removeClass(g.active)},success:function(){d.verbose("Removing success state"),y.removeClass(g.success)},warning:function(){d.verbose("Removing warning state"),y.removeClass(g.warning)},error:function(){d.verbose("Removing error state"),y.removeClass(g.error)}},set:{barWidth:function(e){e>100?d.error(v.tooHigh,e):e<0?d.error(v.tooLow,e):(w.css("width",e+"%"),y.attr("data-percent",parseInt(e,10)))},duration:function(e){e="number"==typeof(e=e||f.duration)?e+"ms":e,d.verbose("Setting progress bar transition duration",e),w.css({"transition-duration":e})},percent:function(e){e="string"==typeof e?+e.replace("%",""):e,e=f.precision>0?Math.round(e*(10*f.precision))/(10*f.precision):Math.round(e),d.percent=e,d.has.total()||(d.value=f.precision>0?Math.round(e/100*d.total*(10*f.precision))/(10*f.precision):Math.round(e/100*d.total*10)/10,f.limitValues&&(d.value=d.value>100?100:d.value<0?0:d.value)),d.set.barWidth(e),d.set.labelInterval(),d.set.labels(),f.onChange.call(S,e,d.value,d.total)},labelInterval:function(){clearInterval(d.interval),d.bind.transitionEnd(function(){d.verbose("Bar finished animating, removing continuous label updates"),clearInterval(d.interval),E=!1,d.set.labels()}),E=!0,d.interval=setInterval(function(){e.contains(n.documentElement,S)||(clearInterval(d.interval),E=!1),d.set.labels()},f.framerate)},labels:function(){d.verbose("Setting both bar progress and outer label text"),d.set.barLabel(),d.set.state()},label:function(e){(e=e||"")&&(e=d.get.text(e),d.verbose("Setting label to text",e),T.text(e))},state:function(e){100===(e=void 0!==e?e:d.percent)?f.autoSuccess&&!(d.is.warning()||d.is.error()||d.is.success())?(d.set.success(),d.debug("Automatically triggering success at 100%")):(d.verbose("Reached 100% removing active state"),d.remove.active(),d.remove.progressPoll()):e>0?(d.verbose("Adjusting active progress bar label",e),d.set.active()):(d.remove.active(),d.set.label(f.text.active))},barLabel:function(e){void 0!==e?x.text(d.get.text(e)):"ratio"==f.label&&d.total?(d.verbose("Adding ratio to bar label"),x.text(d.get.text(f.text.ratio))):"percent"==f.label&&(d.verbose("Adding percentage to bar label"),x.text(d.get.text(f.text.percent)))},active:function(e){e=e||f.text.active,d.debug("Setting active state"),f.showActivity&&!d.is.active()&&y.addClass(g.active),d.remove.warning(),d.remove.error(),d.remove.success(),(e=f.onLabelUpdate("active",e,d.value,d.total))&&d.set.label(e),d.bind.transitionEnd(function(){f.onActive.call(S,d.value,d.total)})},success:function(e){e=e||f.text.success||f.text.active,d.debug("Setting success state"),y.addClass(g.success),d.remove.active(),d.remove.warning(),d.remove.error(),d.complete(),f.text.success?(e=f.onLabelUpdate("success",e,d.value,d.total),d.set.label(e)):(e=f.onLabelUpdate("active",e,d.value,d.total),d.set.label(e)),d.bind.transitionEnd(function(){f.onSuccess.call(S,d.total)})},warning:function(e){e=e||f.text.warning,d.debug("Setting warning state"),y.addClass(g.warning),d.remove.active(),d.remove.success(),d.remove.error(),d.complete(),(e=f.onLabelUpdate("warning",e,d.value,d.total))&&d.set.label(e),d.bind.transitionEnd(function(){f.onWarning.call(S,d.value,d.total)})},error:function(e){e=e||f.text.error,d.debug("Setting error state"),y.addClass(g.error),d.remove.active(),d.remove.success(),d.remove.warning(),d.complete(),(e=f.onLabelUpdate("error",e,d.value,d.total))&&d.set.label(e),d.bind.transitionEnd(function(){f.onError.call(S,d.value,d.total)})},transitionEvent:function(){o=d.get.transitionEnd()},total:function(e){d.total=e},value:function(e){d.value=e},progress:function(e){d.has.progressPoll()?(d.debug("Updated within interval, setting next update to use new value",e),d.set.nextValue(e)):(d.debug("First update in progress update interval, immediately updating",e),d.update.progress(e),d.create.progressPoll())},nextValue:function(e){d.nextValue=e}},update:{toNextValue:function(){var e=d.nextValue;e&&(d.debug("Update interval complete using last updated value",e),d.update.progress(e),d.remove.nextValue())},progress:function(e){var t;!1===(e=d.get.numericValue(e))&&d.error(v.nonNumeric,e),e=d.get.normalizedValue(e),d.has.total()?(d.set.value(e),t=e/d.total*100,d.debug("Calculating percent complete from total",t),d.set.percent(t)):(t=e,d.debug("Setting value to exact percentage value",t),d.set.percent(t))}},setting:function(t,n){if(d.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===n)return f[t];e.isPlainObject(f[t])?e.extend(!0,f[t],n):f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(void 0===n)return d[t];d[t]=n}},debug:function(){!f.silent&&f.debug&&(f.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,f.name+":"),d.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),d.verbose.apply(console,arguments)))},error:function(){f.silent||(d.error=Function.prototype.bind.call(console.error,console,f.name+":"),d.error.apply(console,arguments))},performance:{log:function(e){var t,n;f.performance&&(n=(t=(new Date).getTime())-(a||t),a=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,500)},display:function(){var t=f.name+":",n=0;a=!1,clearTimeout(d.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var r,a,s,l=C;return n=n||c,o=S||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,i){var o=n!=r?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=r)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[i])||n==r)return void 0!==l[i]?(a=l[i],!1):(d.error(v.method,t),!1);l=l[i]}})),e.isFunction(a)?s=a.apply(o,n):void 0!==a&&(s=a),e.isArray(i)?i.push(s):void 0!==i?i=[i,s]:void 0!==s&&(i=s),a}},u?(void 0===C&&d.initialize(),d.invoke(l)):(void 0!==C&&C.invoke("destroy"),d.initialize())}),void 0!==i?i:this},e.fn.progress.settings={name:"Progress",namespace:"progress",silent:!1,debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,updateInterval:"auto",autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1e3/30,percent:!1,total:!1,value:!1,failSafeDelay:100,onLabelUpdate:function(e,t,n,i){return t},onChange:function(e,t,n){},onSuccess:function(e){},onActive:function(e,t){},onError:function(e,t){},onWarning:function(e,t){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.rating=function(t){var n,i=e(this),o=i.selector||"",r=(new Date).getTime(),a=[],s=arguments[0],l="string"==typeof s,u=[].slice.call(arguments,1);return i.each(function(){var c,d,f=e.isPlainObject(t)?e.extend(!0,{},e.fn.rating.settings,t):e.extend({},e.fn.rating.settings),g=f.namespace,p=f.className,h=f.metadata,m=f.selector,v=(f.error,"."+g),b="module-"+g,_=this,y=e(this).data(b),w=e(this),x=w.find(m.icon);d={initialize:function(){d.verbose("Initializing rating module",f),0===x.length&&d.setup.layout(),f.interactive?d.enable():d.disable(),d.set.initialLoad(),d.set.rating(d.get.initialRating()),d.remove.initialLoad(),d.instantiate()},instantiate:function(){d.verbose("Instantiating module",f),y=d,w.data(b,d)},destroy:function(){d.verbose("Destroying previous instance",y),d.remove.events(),w.removeData(b)},refresh:function(){x=w.find(m.icon)},setup:{layout:function(){var t=d.get.maxRating(),n=e.fn.rating.settings.templates.icon(t);d.debug("Generating icon html dynamically"),w.html(n),d.refresh()}},event:{mouseenter:function(){var t=e(this);t.nextAll().removeClass(p.selected),w.addClass(p.selected),t.addClass(p.selected).prevAll().addClass(p.selected)},mouseleave:function(){w.removeClass(p.selected),x.removeClass(p.selected)},click:function(){var t=e(this),n=d.get.rating(),i=x.index(t)+1;("auto"==f.clearable?1===x.length:f.clearable)&&n==i?d.clearRating():d.set.rating(i)}},clearRating:function(){d.debug("Clearing current rating"),d.set.rating(0)},bind:{events:function(){d.verbose("Binding events"),w.on("mouseenter"+v,m.icon,d.event.mouseenter).on("mouseleave"+v,m.icon,d.event.mouseleave).on("click"+v,m.icon,d.event.click)}},remove:{events:function(){d.verbose("Removing events"),w.off(v)},initialLoad:function(){c=!1}},enable:function(){d.debug("Setting rating to interactive mode"),d.bind.events(),w.removeClass(p.disabled)},disable:function(){d.debug("Setting rating to read-only mode"),d.remove.events(),w.addClass(p.disabled)},is:{initialLoad:function(){return c}},get:{initialRating:function(){return void 0!==w.data(h.rating)?(w.removeData(h.rating),w.data(h.rating)):f.initialRating},maxRating:function(){return void 0!==w.data(h.maxRating)?(w.removeData(h.maxRating),w.data(h.maxRating)):f.maxRating},rating:function(){var e=x.filter("."+p.active).length;return d.verbose("Current rating retrieved",e),e}},set:{rating:function(e){var t=e-1>=0?e-1:0,n=x.eq(t);w.removeClass(p.selected),x.removeClass(p.selected).removeClass(p.active),e>0&&(d.verbose("Setting current rating to",e),n.prevAll().addBack().addClass(p.active)),d.is.initialLoad()||f.onRate.call(_,e)},initialLoad:function(){c=!0}},setting:function(t,n){if(d.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===n)return f[t];e.isPlainObject(f[t])?e.extend(!0,f[t],n):f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(void 0===n)return d[t];d[t]=n}},debug:function(){!f.silent&&f.debug&&(f.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,f.name+":"),d.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),d.verbose.apply(console,arguments)))},error:function(){f.silent||(d.error=Function.prototype.bind.call(console.error,console,f.name+":"),d.error.apply(console,arguments))},performance:{log:function(e){var t,n;f.performance&&(n=(t=(new Date).getTime())-(r||t),r=t,a.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:_,"Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,500)},display:function(){var t=f.name+":",n=0;r=!1,clearTimeout(d.performance.timer),e.each(a,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",o&&(t+=" '"+o+"'"),i.length>1&&(t+=" ("+i.length+")"),(void 0!==console.group||void 0!==console.table)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,i,o){var r,a,s,l=y;return i=i||u,o=_||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,i){var o=n!=r?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=r)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[i])||n==r)return void 0!==l[i]&&(a=l[i],!1);l=l[i]}})),e.isFunction(a)?s=a.apply(o,i):void 0!==a&&(s=a),e.isArray(n)?n.push(s):void 0!==n?n=[n,s]:void 0!==s&&(n=s),a}},l?(void 0===y&&d.initialize(),d.invoke(s)):(void 0!==y&&y.invoke("destroy"),d.initialize())}),void 0!==n?n:this},e.fn.rating.settings={name:"Rating",namespace:"rating",slent:!1,debug:!1,verbose:!1,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",fireOnInit:!1,onRate:function(e){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(e){for(var t=1,n="";t<=e;)n+='<i class="icon"></i>',t++;return n}}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.search=function(i){var o,r=e(this),a=r.selector||"",s=(new Date).getTime(),l=[],u=arguments[0],c="string"==typeof u,d=[].slice.call(arguments,1);return e(this).each(function(){var f,g=e.isPlainObject(i)?e.extend(!0,{},e.fn.search.settings,i):e.extend({},e.fn.search.settings),p=g.className,h=g.metadata,m=g.regExp,v=g.fields,b=g.selector,_=g.error,y=g.namespace,w="."+y,x=y+"-module",T=e(this),S=T.find(b.prompt),C=T.find(b.searchButton),E=T.find(b.results),I=T.find(b.result),P=T.find(b.category),k=this,A=T.data(x),j=!1,O=!1;f={initialize:function(){f.verbose("Initializing module"),f.determine.searchFields(),f.bind.events(),f.set.type(),f.create.results(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),A=f,T.data(x,f)},destroy:function(){f.verbose("Destroying instance"),T.off(w).removeData(x)},refresh:function(){f.debug("Refreshing selector cache"),S=T.find(b.prompt),C=T.find(b.searchButton),P=T.find(b.category),E=T.find(b.results),I=T.find(b.result)},refreshResults:function(){E=T.find(b.results),I=T.find(b.result)},bind:{events:function(){f.verbose("Binding events to search"),g.automatic&&(T.on(f.get.inputEvent()+w,b.prompt,f.event.input),S.attr("autocomplete","off")),T.on("focus"+w,b.prompt,f.event.focus).on("blur"+w,b.prompt,f.event.blur).on("keydown"+w,b.prompt,f.handleKeyboard).on("click"+w,b.searchButton,f.query).on("mousedown"+w,b.results,f.event.result.mousedown).on("mouseup"+w,b.results,f.event.result.mouseup).on("click"+w,b.result,f.event.result.click)}},determine:{searchFields:function(){i&&void 0!==i.searchFields&&(g.searchFields=i.searchFields)}},event:{input:function(){g.searchDelay?(clearTimeout(f.timer),f.timer=setTimeout(function(){f.is.focused()&&f.query()},g.searchDelay)):f.query()},focus:function(){f.set.focus(),g.searchOnFocus&&f.has.minimumCharacters()&&f.query(function(){f.can.show()&&f.showResults()})},blur:function(e){var t=function(){f.cancel.query(),f.remove.focus(),f.timer=setTimeout(f.hideResults,g.hideDelay)};n.activeElement===this||(O=!1,f.resultsClicked?(f.debug("Determining if user action caused search to close"),T.one("click.close"+w,b.results,function(e){f.is.inMessage(e)||j?S.focus():(j=!1,f.is.animating()||f.is.hidden()||t())})):(f.debug("Input blurred without user action, closing results"),t()))},result:{mousedown:function(){f.resultsClicked=!0},mouseup:function(){f.resultsClicked=!1},click:function(n){f.debug("Search result selected");var i=e(this),o=i.find(b.title).eq(0),r=i.is("a[href]")?i:i.find("a[href]").eq(0),a=r.attr("href")||!1,s=r.attr("target")||!1,l=(o.html(),o.length>0&&o.text()),u=f.get.results(),c=i.data(h.result)||f.get.result(l,u);if(e.isFunction(g.onSelect)&&!1===g.onSelect.call(k,c,u))return f.debug("Custom onSelect callback cancelled default select action"),void(j=!0);f.hideResults(),l&&f.set.value(l),a&&(f.verbose("Opening search link found in result",r),"_blank"==s||n.ctrlKey?t.open(a):t.location.href=a)}}},handleKeyboard:function(e){var t,n=T.find(b.result),i=T.find(b.category),o=n.filter("."+p.active),r=n.index(o),a=n.length,s=o.length>0,l=e.which,u={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40};if(l==u.escape&&(f.verbose("Escape key pressed, blurring search field"),f.hideResults(),O=!0),f.is.visible())if(l==u.enter){if(f.verbose("Enter key pressed, selecting active result"),n.filter("."+p.active).length>0)return f.event.result.click.call(n.filter("."+p.active),e),e.preventDefault(),!1}else l==u.upArrow&&s?(f.verbose("Up key pressed, changing active result"),t=r-1<0?r:r-1,i.removeClass(p.active),n.removeClass(p.active).eq(t).addClass(p.active).closest(i).addClass(p.active),e.preventDefault()):l==u.downArrow&&(f.verbose("Down key pressed, changing active result"),t=r+1>=a?r:r+1,i.removeClass(p.active),n.removeClass(p.active).eq(t).addClass(p.active).closest(i).addClass(p.active),e.preventDefault());else l==u.enter&&(f.verbose("Enter key pressed, executing query"),f.query(),f.set.buttonPressed(),S.one("keyup",f.remove.buttonFocus))},setup:{api:function(t,n){var i={debug:g.debug,on:!1,cache:!0,action:"search",urlData:{query:t},onSuccess:function(e){f.parse.response.call(k,e,t),n()},onFailure:function(){f.displayMessage(_.serverError),n()},onAbort:function(e){},onError:f.error};e.extend(!0,i,g.apiSettings),f.verbose("Setting up API request",i),T.api(i)}},can:{useAPI:function(){return void 0!==e.fn.api},show:function(){return f.is.focused()&&!f.is.visible()&&!f.is.empty()},transition:function(){return g.transition&&void 0!==e.fn.transition&&T.transition("is supported")}},is:{animating:function(){return E.hasClass(p.animating)},hidden:function(){return E.hasClass(p.hidden)},inMessage:function(t){if(t.target){var i=e(t.target);return e.contains(n.documentElement,t.target)&&i.closest(b.message).length>0}},empty:function(){return""===E.html()},visible:function(){return E.filter(":visible").length>0},focused:function(){return S.filter(":focus").length>0}},get:{inputEvent:function(){var e=S[0];return void 0!==e&&void 0!==e.oninput?"input":void 0!==e&&void 0!==e.onpropertychange?"propertychange":"keyup"},value:function(){return S.val()},results:function(){return T.data(h.results)},result:function(t,n){var i=["title","id"],o=!1;return t=void 0!==t?t:f.get.value(),n=void 0!==n?n:f.get.results(),"category"===g.type?(f.debug("Finding result that matches",t),e.each(n,function(n,r){if(e.isArray(r.results)&&(o=f.search.object(t,r.results,i)[0]))return!1})):(f.debug("Finding result in results object",t),o=f.search.object(t,n,i)[0]),o||!1}},select:{firstResult:function(){f.verbose("Selecting first result"),I.first().addClass(p.active)}},set:{focus:function(){T.addClass(p.focus)},loading:function(){T.addClass(p.loading)},value:function(e){f.verbose("Setting search input value",e),S.val(e)},type:function(e){e=e||g.type,"category"==g.type&&T.addClass(g.type)},buttonPressed:function(){C.addClass(p.pressed)}},remove:{loading:function(){T.removeClass(p.loading)},focus:function(){T.removeClass(p.focus)},buttonPressed:function(){C.removeClass(p.pressed)}},query:function(t){t=e.isFunction(t)?t:function(){};var n=f.get.value(),i=f.read.cache(n);t=t||function(){},f.has.minimumCharacters()?(i?(f.debug("Reading result from cache",n),f.save.results(i.results),f.addResults(i.html),f.inject.id(i.results),t()):(f.debug("Querying for",n),e.isPlainObject(g.source)||e.isArray(g.source)?(f.search.local(n),t()):f.can.useAPI()?f.search.remote(n,t):(f.error(_.source),t())),g.onSearchQuery.call(k,n)):f.hideResults()},search:{local:function(e){var t,n=f.search.object(e,g.content);f.set.loading(),f.save.results(n),f.debug("Returned local search results",n),t=f.generateResults({results:n}),f.remove.loading(),f.addResults(t),f.inject.id(n),f.write.cache(e,{html:t,results:n})},remote:function(t,n){n=e.isFunction(n)?n:function(){},T.api("is loading")&&T.api("abort"),f.setup.api(t,n),T.api("query")},object:function(t,n,i){var o=[],r=[],a=t.toString().replace(m.escape,"\\$&"),s=new RegExp(m.beginsWith+a,"i"),l=function(t,n){var i=-1==e.inArray(n,o),a=-1==e.inArray(n,r);i&&a&&t.push(n)};return n=n||g.source,i=void 0!==i?i:g.searchFields,e.isArray(i)||(i=[i]),void 0===n||!1===n?(f.error(_.source),[]):(e.each(i,function(i,a){e.each(n,function(e,n){"string"==typeof n[a]&&(-1!==n[a].search(s)?l(o,n):g.searchFullText&&f.fuzzySearch(t,n[a])&&l(r,n))})}),e.merge(o,r))}},fuzzySearch:function(e,t){var n=t.length,i=e.length;if("string"!=typeof e)return!1;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var o=0,r=0;o<i;o++){for(var a=e.charCodeAt(o);r<n;)if(t.charCodeAt(r++)===a)continue e;return!1}return!0},parse:{response:function(e,t){var n=f.generateResults(e);f.verbose("Parsing server response",e),void 0!==e&&void 0!==t&&void 0!==e[v.results]&&(f.addResults(n),f.inject.id(e[v.results]),f.write.cache(t,{html:n,results:e[v.results]}),f.save.results(e[v.results]))}},cancel:{query:function(){f.can.useAPI()&&T.api("abort")}},has:{minimumCharacters:function(){return f.get.value().length>=g.minCharacters},results:function(){return 0!==E.length&&""!=E.html()}},clear:{cache:function(e){var t=T.data(h.cache);e?e&&t&&t[e]&&(f.debug("Removing value from cache",e),delete t[e],T.data(h.cache,t)):(f.debug("Clearing cache",e),T.removeData(h.cache))}},read:{cache:function(e){var t=T.data(h.cache);return!!g.cache&&(f.verbose("Checking cache for generated html for query",e),"object"==typeof t&&void 0!==t[e]&&t[e])}},create:{id:function(e,t){var n,i=e+1;return void 0!==t?(n=String.fromCharCode(97+t)+i,f.verbose("Creating category result id",n)):(n=i,f.verbose("Creating result id",n)),n},results:function(){0===E.length&&(E=e("<div />").addClass(p.results).appendTo(T))}},inject:{result:function(e,t,n){f.verbose("Injecting result into results");var i=void 0!==n?E.children().eq(n).children(b.result).eq(t):E.children(b.result).eq(t);f.verbose("Injecting results metadata",i),i.data(h.result,e)},id:function(t){f.debug("Injecting unique ids into results");var n=0,i=0;return"category"===g.type?e.each(t,function(t,o){i=0,e.each(o.results,function(e,t){var r=o.results[e];void 0===r.id&&(r.id=f.create.id(i,n)),f.inject.result(r,i,n),i++}),n++}):e.each(t,function(e,n){var o=t[e];void 0===o.id&&(o.id=f.create.id(i)),f.inject.result(o,i),i++}),t}},save:{results:function(e){f.verbose("Saving current search results to metadata",e),T.data(h.results,e)}},write:{cache:function(e,t){var n=void 0!==T.data(h.cache)?T.data(h.cache):{};g.cache&&(f.verbose("Writing generated html to cache",e,t),n[e]=t,T.data(h.cache,n))}},addResults:function(t){if(e.isFunction(g.onResultsAdd)&&!1===g.onResultsAdd.call(E,t))return f.debug("onResultsAdd callback cancelled default action"),!1;t?(E.html(t),f.refreshResults(),g.selectFirstResult&&f.select.firstResult(),f.showResults()):f.hideResults(function(){E.empty()})},showResults:function(t){t=e.isFunction(t)?t:function(){},O||!f.is.visible()&&f.has.results()&&(f.can.transition()?(f.debug("Showing results with css animations"),E.transition({animation:g.transition+" in",debug:g.debug,verbose:g.verbose,duration:g.duration,onComplete:function(){t()},queue:!0})):(f.debug("Showing results with javascript"),E.stop().fadeIn(g.duration,g.easing)),g.onResultsOpen.call(E))},hideResults:function(t){t=e.isFunction(t)?t:function(){},f.is.visible()&&(f.can.transition()?(f.debug("Hiding results with css animations"),E.transition({animation:g.transition+" out",debug:g.debug,verbose:g.verbose,duration:g.duration,onComplete:function(){t()},queue:!0})):(f.debug("Hiding results with javascript"),E.stop().fadeOut(g.duration,g.easing)),g.onResultsClose.call(E))},generateResults:function(t){f.debug("Generating html from response",t);var n=g.templates[g.type],i=e.isPlainObject(t[v.results])&&!e.isEmptyObject(t[v.results]),o=e.isArray(t[v.results])&&t[v.results].length>0,r="";return i||o?(g.maxResults>0&&(i?"standard"==g.type&&f.error(_.maxResults):t[v.results]=t[v.results].slice(0,g.maxResults)),e.isFunction(n)?r=n(t,v):f.error(_.noTemplate,!1)):g.showNoResults&&(r=f.displayMessage(_.noResults,"empty")),g.onResults.call(k,t),r},displayMessage:function(e,t){return t=t||"standard",f.debug("Displaying message",e,t),f.addResults(g.templates.message(e,t)),g.templates.message(e,t)},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(void 0===n)return g[t];g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===n)return f[t];f[t]=n}},debug:function(){!g.silent&&g.debug&&(g.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,g.name+":"),f.debug.apply(console,arguments)))},verbose:function(){!g.silent&&g.verbose&&g.debug&&(g.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),f.verbose.apply(console,arguments)))},error:function(){g.silent||(f.error=Function.prototype.bind.call(console.error,console,g.name+":"),f.error.apply(console,arguments))},performance:{log:function(e){var t,n;g.performance&&(n=(t=(new Date).getTime())-(s||t),s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:k,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=g.name+":",n=0;s=!1,clearTimeout(f.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),r.length>1&&(t+=" ("+r.length+")"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,i){var r,a,s,l=A;return n=n||d,i=k||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,i){var o=n!=r?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=r)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[i])||n==r)return void 0!==l[i]&&(a=l[i],!1);l=l[i]}})),e.isFunction(a)?s=a.apply(i,n):void 0!==a&&(s=a),e.isArray(o)?o.push(s):void 0!==o?o=[o,s]:void 0!==s&&(o=s),a}},c?(void 0===A&&f.initialize(),f.invoke(u)):(void 0!==A&&A.invoke("destroy"),f.initialize())}),void 0!==o?o:this},e.fn.search.settings={name:"Search",namespace:"search",silent:!1,debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,selectFirstResult:!1,apiSettings:!1,source:!1,searchOnFocus:!0,searchFields:["title","description"],displayField:"",searchFullText:!0,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,showNoResults:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(e){},onResults:function(e){},onResultsOpen:function(){},onResultsClose:function(){},className:{animating:"animating",active:"active",empty:"empty",focus:"focus",hidden:"hidden",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},fields:{categories:"results",categoryName:"name",categoryResults:"results",description:"description",image:"image",price:"price",results:"results",title:"title",url:"url",action:"action",actionText:"text",actionURL:"url"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",message:".results > .message",category:".category",result:".result",title:".title, .name"},templates:{escape:function(e){var t=/[&<>"'`]/g,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return/[&<>"'`]/.test(e)?e.replace(t,function(e){return n[e]}):e},message:function(e,t){var n="";return void 0!==e&&void 0!==t&&(n+='<div class="message '+t+'">',n+="empty"==t?'<div class="header">No Results</div class="header"><div class="description">'+e+'</div class="description">':' <div class="description">'+e+"</div>",n+="</div>"),n},category:function(t,n){var i="";return e.fn.search.settings.templates.escape,void 0!==t[n.categoryResults]&&(e.each(t[n.categoryResults],function(t,o){void 0!==o[n.results]&&o.results.length>0&&(i+='<div class="category">',void 0!==o[n.categoryName]&&(i+='<div class="name">'+o[n.categoryName]+"</div>"),e.each(o.results,function(e,t){t[n.url]?i+='<a class="result" href="'+t[n.url]+'">':i+='<a class="result">',void 0!==t[n.image]&&(i+='<div class="image"> <img src="'+t[n.image]+'"></div>'),i+='<div class="content">',void 0!==t[n.price]&&(i+='<div class="price">'+t[n.price]+"</div>"),void 0!==t[n.title]&&(i+='<div class="title">'+t[n.title]+"</div>"),void 0!==t[n.description]&&(i+='<div class="description">'+t[n.description]+"</div>"),i+="</div>",i+="</a>"}),i+="</div>")}),t[n.action]&&(i+='<a href="'+t[n.action][n.actionURL]+'" class="action">'+t[n.action][n.actionText]+"</a>"),i)},standard:function(t,n){var i="";return void 0!==t[n.results]&&(e.each(t[n.results],function(e,t){t[n.url]?i+='<a class="result" href="'+t[n.url]+'">':i+='<a class="result">',void 0!==t[n.image]&&(i+='<div class="image"> <img src="'+t[n.image]+'"></div>'),i+='<div class="content">',void 0!==t[n.price]&&(i+='<div class="price">'+t[n.price]+"</div>"),void 0!==t[n.title]&&(i+='<div class="title">'+t[n.title]+"</div>"),void 0!==t[n.description]&&(i+='<div class="description">'+t[n.description]+"</div>"),i+="</div>",i+="</a>"}),t[n.action]&&(i+='<a href="'+t[n.action][n.actionURL]+'" class="action">'+t[n.action][n.actionText]+"</a>"),i)}}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.shape=function(i){var o,r=e(this),a=(e("body"),(new Date).getTime()),s=[],l=arguments[0],u="string"==typeof l,c=[].slice.call(arguments,1),d=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return r.each(function(){var t,f,g,p=r.selector||"",h=e.isPlainObject(i)?e.extend(!0,{},e.fn.shape.settings,i):e.extend({},e.fn.shape.settings),m=h.namespace,v=h.selector,b=h.error,_=h.className,y="."+m,w="module-"+m,x=e(this),T=x.find(v.sides),S=x.find(v.side),C=!1,E=this,I=x.data(w);g={initialize:function(){g.verbose("Initializing module for",E),g.set.defaultSide(),g.instantiate()},instantiate:function(){g.verbose("Storing instance of module",g),I=g,x.data(w,I)},destroy:function(){g.verbose("Destroying previous module for",E),x.removeData(w).off(y)},refresh:function(){g.verbose("Refreshing selector cache for",E),x=e(E),T=e(this).find(v.shape),S=e(this).find(v.side)},repaint:function(){g.verbose("Forcing repaint event"),(T[0]||n.createElement("div")).offsetWidth},animate:function(e,n){g.verbose("Animating box with properties",e),n=n||function(e){g.verbose("Executing animation callback"),void 0!==e&&e.stopPropagation(),g.reset(),g.set.active()},h.beforeChange.call(f[0]),g.get.transitionEvent()?(g.verbose("Starting CSS animation"),x.addClass(_.animating),T.css(e).one(g.get.transitionEvent(),n),g.set.duration(h.duration),d(function(){x.addClass(_.animating),t.addClass(_.hidden)})):n()},queue:function(e){g.debug("Queueing animation of",e),T.one(g.get.transitionEvent(),function(){g.debug("Executing queued animation"),setTimeout(function(){x.shape(e)},0)})},reset:function(){g.verbose("Animating states reset"),x.removeClass(_.animating).attr("style","").removeAttr("style"),T.attr("style","").removeAttr("style"),S.attr("style","").removeAttr("style").removeClass(_.hidden),f.removeClass(_.animating).attr("style","").removeAttr("style")},is:{complete:function(){return S.filter("."+_.active)[0]==f[0]},animating:function(){return x.hasClass(_.animating)}},set:{defaultSide:function(){t=x.find("."+h.className.active),f=t.next(v.side).length>0?t.next(v.side):x.find(v.side).first(),C=!1,g.verbose("Active side set to",t),g.verbose("Next side set to",f)},duration:function(e){e="number"==typeof(e=e||h.duration)?e+"ms":e,g.verbose("Setting animation duration",e),(h.duration||0===h.duration)&&T.add(S).css({"-webkit-transition-duration":e,"-moz-transition-duration":e,"-ms-transition-duration":e,"-o-transition-duration":e,"transition-duration":e})},currentStageSize:function(){var e=x.find("."+h.className.active),t=e.outerWidth(!0),n=e.outerHeight(!0);x.css({width:t,height:n})},stageSize:function(){var e=x.clone().addClass(_.loading),t=e.find("."+h.className.active),n=C?e.find(v.side).eq(C):t.next(v.side).length>0?t.next(v.side):e.find(v.side).first(),i="next"==h.width?n.outerWidth(!0):"initial"==h.width?x.width():h.width,o="next"==h.height?n.outerHeight(!0):"initial"==h.height?x.height():h.height;t.removeClass(_.active),n.addClass(_.active),e.insertAfter(x),e.remove(),"auto"!=h.width&&(x.css("width",i+h.jitter),g.verbose("Specifying width during animation",i)),"auto"!=h.height&&(x.css("height",o+h.jitter),g.verbose("Specifying height during animation",o))},nextSide:function(e){C=e,f=S.filter(e),C=S.index(f),0===f.length&&(g.set.defaultSide(),g.error(b.side)),g.verbose("Next side manually set to",f)},active:function(){g.verbose("Setting new side to active",f),S.removeClass(_.active),f.addClass(_.active),h.onChange.call(f[0]),g.set.defaultSide()}},flip:{up:function(){if(!g.is.complete()||g.is.animating()||h.allowRepeats)if(g.is.animating())g.queue("flip up");else{g.debug("Flipping up",f);var e=g.get.transform.up();g.set.stageSize(),g.stage.above(),g.animate(e)}else g.debug("Side already visible",f)},down:function(){if(!g.is.complete()||g.is.animating()||h.allowRepeats)if(g.is.animating())g.queue("flip down");else{g.debug("Flipping down",f);var e=g.get.transform.down();g.set.stageSize(),g.stage.below(),g.animate(e)}else g.debug("Side already visible",f)},left:function(){if(!g.is.complete()||g.is.animating()||h.allowRepeats)if(g.is.animating())g.queue("flip left");else{g.debug("Flipping left",f);var e=g.get.transform.left();g.set.stageSize(),g.stage.left(),g.animate(e)}else g.debug("Side already visible",f)},right:function(){if(!g.is.complete()||g.is.animating()||h.allowRepeats)if(g.is.animating())g.queue("flip right");else{g.debug("Flipping right",f);var e=g.get.transform.right();g.set.stageSize(),g.stage.right(),g.animate(e)}else g.debug("Side already visible",f)},over:function(){!g.is.complete()||g.is.animating()||h.allowRepeats?g.is.animating()?g.queue("flip over"):(g.debug("Flipping over",f),g.set.stageSize(),g.stage.behind(),g.animate(g.get.transform.over())):g.debug("Side already visible",f)},back:function(){!g.is.complete()||g.is.animating()||h.allowRepeats?g.is.animating()?g.queue("flip back"):(g.debug("Flipping back",f),g.set.stageSize(),g.stage.behind(),g.animate(g.get.transform.back())):g.debug("Side already visible",f)}},get:{transform:{up:function(){var e={y:-(t.outerHeight(!0)-f.outerHeight(!0))/2,z:-t.outerHeight(!0)/2};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(-90deg)"}},down:function(){var e={y:-(t.outerHeight(!0)-f.outerHeight(!0))/2,z:-t.outerHeight(!0)/2};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(90deg)"}},left:function(){var e={x:-(t.outerWidth(!0)-f.outerWidth(!0))/2,z:-t.outerWidth(!0)/2};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(90deg)"}},right:function(){var e={x:-(t.outerWidth(!0)-f.outerWidth(!0))/2,z:-t.outerWidth(!0)/2};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(-90deg)"}},over:function(){return{transform:"translateX("+{x:-(t.outerWidth(!0)-f.outerWidth(!0))/2}.x+"px) rotateY(180deg)"}},back:function(){return{transform:"translateX("+{x:-(t.outerWidth(!0)-f.outerWidth(!0))/2}.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var e,t=n.createElement("element"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==t.style[e])return i[e]},nextSide:function(){return t.next(v.side).length>0?t.next(v.side):x.find(v.side).first()}},stage:{above:function(){var e={origin:(t.outerHeight(!0)-f.outerHeight(!0))/2,depth:{active:f.outerHeight(!0)/2,next:t.outerHeight(!0)/2}};g.verbose("Setting the initial animation position as above",f,e),T.css({transform:"translateZ(-"+e.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),f.addClass(_.animating).css({top:e.origin+"px",transform:"rotateX(90deg) translateZ("+e.depth.next+"px)"})},below:function(){var e={origin:(t.outerHeight(!0)-f.outerHeight(!0))/2,depth:{active:f.outerHeight(!0)/2,next:t.outerHeight(!0)/2}};g.verbose("Setting the initial animation position as below",f,e),T.css({transform:"translateZ(-"+e.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),f.addClass(_.animating).css({top:e.origin+"px",transform:"rotateX(-90deg) translateZ("+e.depth.next+"px)"})},left:function(){var e={active:t.outerWidth(!0),next:f.outerWidth(!0)},n={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};g.verbose("Setting the initial animation position as left",f,n),T.css({transform:"translateZ(-"+n.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+n.depth.active+"px)"}),f.addClass(_.animating).css({left:n.origin+"px",transform:"rotateY(-90deg) translateZ("+n.depth.next+"px)"})},right:function(){var e={active:t.outerWidth(!0),next:f.outerWidth(!0)},n={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};g.verbose("Setting the initial animation position as left",f,n),T.css({transform:"translateZ(-"+n.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+n.depth.active+"px)"}),f.addClass(_.animating).css({left:n.origin+"px",transform:"rotateY(90deg) translateZ("+n.depth.next+"px)"})},behind:function(){var e={active:t.outerWidth(!0),next:f.outerWidth(!0)},n={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};g.verbose("Setting the initial animation position as behind",f,n),t.css({transform:"rotateY(0deg)"}),f.addClass(_.animating).css({left:n.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(t,n){if(g.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===n)return h[t];e.isPlainObject(h[t])?e.extend(!0,h[t],n):h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(void 0===n)return g[t];g[t]=n}},debug:function(){!h.silent&&h.debug&&(h.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,h.name+":"),g.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),g.verbose.apply(console,arguments)))},error:function(){h.silent||(g.error=Function.prototype.bind.call(console.error,console,h.name+":"),g.error.apply(console,arguments))},performance:{log:function(e){var t,n;h.performance&&(n=(t=(new Date).getTime())-(a||t),a=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:E,"Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,500)},display:function(){var t=h.name+":",n=0;a=!1,clearTimeout(g.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",p&&(t+=" '"+p+"'"),r.length>1&&(t+=" ("+r.length+")"),(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,i){var r,a,s,l=I;return n=n||c,i=E||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,i){var o=n!=r?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=r)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[i])||n==r)return void 0!==l[i]&&(a=l[i],!1);l=l[i]}})),e.isFunction(a)?s=a.apply(i,n):void 0!==a&&(s=a),e.isArray(o)?o.push(s):void 0!==o?o=[o,s]:void 0!==s&&(o=s),a}},u?(void 0===I&&g.initialize(),g.invoke(l)):(void 0!==I&&I.invoke("destroy"),g.initialize())}),void 0!==o?o:this},e.fn.shape.settings={name:"Shape",silent:!1,debug:!1,verbose:!1,jitter:0,performance:!0,namespace:"shape",width:"initial",height:"initial",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:!1,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.sidebar=function(i){var o,r=e(this),a=e(t),s=e(n),l=e("html"),u=e("head"),c=r.selector||"",d=(new Date).getTime(),f=[],g=arguments[0],p="string"==typeof g,h=[].slice.call(arguments,1),m=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return r.each(function(){var r,v,b,_,y,w,x=e.isPlainObject(i)?e.extend(!0,{},e.fn.sidebar.settings,i):e.extend({},e.fn.sidebar.settings),T=x.selector,S=x.className,C=x.namespace,E=x.regExp,I=x.error,P="."+C,k="module-"+C,A=e(this),j=e(x.context),O=A.children(T.sidebar),M=j.children(T.fixed),R=j.children(T.pusher),D=this,N=A.data(k);w={initialize:function(){w.debug("Initializing sidebar",i),w.create.id(),y=w.get.transitionEvent(),x.delaySetup?m(w.setup.layout):w.setup.layout(),m(function(){w.setup.cache()}),w.instantiate()},instantiate:function(){w.verbose("Storing instance of module",w),N=w,A.data(k,w)},create:{id:function(){b=(Math.random().toString(16)+"000000000").substr(2,8),v="."+b,w.verbose("Creating unique id for element",b)}},destroy:function(){w.verbose("Destroying previous module for",A),A.off(P).removeData(k),w.is.ios()&&w.remove.ios(),j.off(v),a.off(v),s.off(v)},event:{clickaway:function(e){var t=R.find(e.target).length>0||R.is(e.target),n=j.is(e.target);t&&(w.verbose("User clicked on dimmed page"),w.hide()),n&&(w.verbose("User clicked on dimmable context (scaled out page)"),w.hide())},touch:function(e){},containScroll:function(e){D.scrollTop<=0&&(D.scrollTop=1),D.scrollTop+D.offsetHeight>=D.scrollHeight&&(D.scrollTop=D.scrollHeight-D.offsetHeight-1)},scroll:function(t){0===e(t.target).closest(T.sidebar).length&&t.preventDefault()}},bind:{clickaway:function(){w.verbose("Adding clickaway events to context",j),x.closable&&j.on("click"+v,w.event.clickaway).on("touchend"+v,w.event.clickaway)},scrollLock:function(){x.scrollLock&&(w.debug("Disabling page scroll"),a.on("DOMMouseScroll"+v,w.event.scroll)),w.verbose("Adding events to contain sidebar scroll"),s.on("touchmove"+v,w.event.touch),A.on("scroll"+P,w.event.containScroll)}},unbind:{clickaway:function(){w.verbose("Removing clickaway events from context",j),j.off(v)},scrollLock:function(){w.verbose("Removing scroll lock from page"),s.off(v),a.off(v),A.off("scroll"+P)}},add:{inlineCSS:function(){var t,n=w.cache.width||A.outerWidth(),i=w.cache.height||A.outerHeight(),o=w.is.rtl(),a=w.get.direction(),s={left:n,right:-n,top:i,bottom:-i};o&&(w.verbose("RTL detected, flipping widths"),s.left=-n,s.right=n),t="<style>","left"===a||"right"===a?(w.debug("Adding CSS rules for animation distance",n),t+=" .ui.visible."+a+".sidebar ~ .fixed, .ui.visible."+a+".sidebar ~ .pusher {   -webkit-transform: translate3d("+s[a]+"px, 0, 0);           transform: translate3d("+s[a]+"px, 0, 0); }"):"top"!==a&&"bottom"!=a||(t+=" .ui.visible."+a+".sidebar ~ .fixed, .ui.visible."+a+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+s[a]+"px, 0);           transform: translate3d(0, "+s[a]+"px, 0); }"),w.is.ie()&&("left"===a||"right"===a?(w.debug("Adding CSS rules for animation distance",n),t+=" body.pushable > .ui.visible."+a+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+s[a]+"px, 0, 0);           transform: translate3d("+s[a]+"px, 0, 0); }"):"top"!==a&&"bottom"!=a||(t+=" body.pushable > .ui.visible."+a+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+s[a]+"px, 0);           transform: translate3d(0, "+s[a]+"px, 0); }"),t+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),r=e(t+="</style>").appendTo(u),w.debug("Adding sizing css to head",r)}},refresh:function(){w.verbose("Refreshing selector cache"),j=e(x.context),O=j.children(T.sidebar),R=j.children(T.pusher),M=j.children(T.fixed),w.clear.cache()},refreshSidebars:function(){w.verbose("Refreshing other sidebars"),O=j.children(T.sidebar)},repaint:function(){w.verbose("Forcing repaint event"),D.style.display="none",D.offsetHeight,D.scrollTop=D.scrollTop,D.style.display=""},setup:{cache:function(){w.cache={width:A.outerWidth(),height:A.outerHeight(),rtl:"rtl"==A.css("direction")}},layout:function(){0===j.children(T.pusher).length&&(w.debug("Adding wrapper element for sidebar"),w.error(I.pusher),R=e('<div class="pusher" />'),j.children().not(T.omitted).not(O).wrapAll(R),w.refresh()),0!==A.nextAll(T.pusher).length&&A.nextAll(T.pusher)[0]===R[0]||(w.debug("Moved sidebar to correct parent element"),w.error(I.movedSidebar,D),A.detach().prependTo(j),w.refresh()),w.clear.cache(),w.set.pushable(),w.set.direction()}},attachEvents:function(t,n){var i=e(t);n=e.isFunction(w[n])?w[n]:w.toggle,i.length>0?(w.debug("Attaching sidebar events to element",t,n),i.on("click"+P,n)):w.error(I.notFound,t)},show:function(t){if(t=e.isFunction(t)?t:function(){},w.is.hidden()){if(w.refreshSidebars(),x.overlay&&(w.error(I.overlay),x.transition="overlay"),w.refresh(),w.othersActive())if(w.debug("Other sidebars currently visible"),x.exclusive){if("overlay"!=x.transition)return void w.hideOthers(w.show);w.hideOthers()}else x.transition="overlay";w.pushPage(function(){t.call(D),x.onShow.call(D)}),x.onChange.call(D),x.onVisible.call(D)}else w.debug("Sidebar is already visible")},hide:function(t){t=e.isFunction(t)?t:function(){},(w.is.visible()||w.is.animating())&&(w.debug("Hiding sidebar",t),w.refreshSidebars(),w.pullPage(function(){t.call(D),x.onHidden.call(D)}),x.onChange.call(D),x.onHide.call(D))},othersAnimating:function(){return O.not(A).filter("."+S.animating).length>0},othersVisible:function(){return O.not(A).filter("."+S.visible).length>0},othersActive:function(){return w.othersVisible()||w.othersAnimating()},hideOthers:function(e){var t=O.not(A).filter("."+S.visible),n=t.length,i=0;e=e||function(){},t.sidebar("hide",function(){++i==n&&e()})},toggle:function(){w.verbose("Determining toggled direction"),w.is.hidden()?w.show():w.hide()},pushPage:function(t){var n,i,o,r=w.get.transition(),a="overlay"===r||w.othersActive()?A:R;t=e.isFunction(t)?t:function(){},"scale down"==x.transition&&w.scrollToTop(),w.set.transition(r),w.repaint(),n=function(){w.bind.clickaway(),w.add.inlineCSS(),w.set.animating(),w.set.visible()},i=function(){w.set.dimmed()},o=function(e){e.target==a[0]&&(a.off(y+v,o),w.remove.animating(),w.bind.scrollLock(),t.call(D))},a.off(y+v),a.on(y+v,o),m(n),x.dimPage&&!w.othersVisible()&&m(i)},pullPage:function(t){var n,i,o=w.get.transition(),r="overlay"==o||w.othersActive()?A:R;t=e.isFunction(t)?t:function(){},w.verbose("Removing context push state",w.get.direction()),w.unbind.clickaway(),w.unbind.scrollLock(),n=function(){w.set.transition(o),w.set.animating(),w.remove.visible(),x.dimPage&&!w.othersVisible()&&R.removeClass(S.dimmed)},i=function(e){e.target==r[0]&&(r.off(y+v,i),w.remove.animating(),w.remove.transition(),w.remove.inlineCSS(),("scale down"==o||x.returnScroll&&w.is.mobile())&&w.scrollBack(),t.call(D))},r.off(y+v),r.on(y+v,i),m(n)},scrollToTop:function(){w.verbose("Scrolling to top of page to avoid animation issues"),_=e(t).scrollTop(),A.scrollTop(0),t.scrollTo(0,0)},scrollBack:function(){w.verbose("Scrolling back to original page position"),t.scrollTo(0,_)},clear:{cache:function(){w.verbose("Clearing cached dimensions"),w.cache={}}},set:{ios:function(){l.addClass(S.ios)},pushed:function(){j.addClass(S.pushed)},pushable:function(){j.addClass(S.pushable)},dimmed:function(){R.addClass(S.dimmed)},active:function(){A.addClass(S.active)},animating:function(){A.addClass(S.animating)},transition:function(e){e=e||w.get.transition(),A.addClass(e)},direction:function(e){e=e||w.get.direction(),A.addClass(S[e])},visible:function(){A.addClass(S.visible)},overlay:function(){A.addClass(S.overlay)}},remove:{inlineCSS:function(){w.debug("Removing inline css styles",r),r&&r.length>0&&r.remove()},ios:function(){l.removeClass(S.ios)},pushed:function(){j.removeClass(S.pushed)},pushable:function(){j.removeClass(S.pushable)},active:function(){A.removeClass(S.active)},animating:function(){A.removeClass(S.animating)},transition:function(e){e=e||w.get.transition(),A.removeClass(e)},direction:function(e){e=e||w.get.direction(),A.removeClass(S[e])},visible:function(){A.removeClass(S.visible)},overlay:function(){A.removeClass(S.overlay)}},get:{direction:function(){return A.hasClass(S.top)?S.top:A.hasClass(S.right)?S.right:A.hasClass(S.bottom)?S.bottom:S.left},transition:function(){var e,t=w.get.direction();return e=w.is.mobile()?"auto"==x.mobileTransition?x.defaultTransition.mobile[t]:x.mobileTransition:"auto"==x.transition?x.defaultTransition.computer[t]:x.transition,w.verbose("Determined transition",e),e},transitionEvent:function(){var e,t=n.createElement("element"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==t.style[e])return i[e]}},is:{ie:function(){var e=!t.ActiveXObject&&"ActiveXObject"in t,n="ActiveXObject"in t;return e||n},ios:function(){var e=navigator.userAgent,t=e.match(E.ios),n=e.match(E.mobileChrome);return!(!t||n||(w.verbose("Browser was found to be iOS",e),0))},mobile:function(){var e=navigator.userAgent;return e.match(E.mobile)?(w.verbose("Browser was found to be mobile",e),!0):(w.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!w.is.visible()},visible:function(){return A.hasClass(S.visible)},open:function(){return w.is.visible()},closed:function(){return w.is.hidden()},vertical:function(){return A.hasClass(S.top)},animating:function(){return j.hasClass(S.animating)},rtl:function(){return void 0===w.cache.rtl&&(w.cache.rtl="rtl"==A.css("direction")),w.cache.rtl}},setting:function(t,n){if(w.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,x,t);else{if(void 0===n)return x[t];e.isPlainObject(x[t])?e.extend(!0,x[t],n):x[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,w,t);else{if(void 0===n)return w[t];w[t]=n}},debug:function(){!x.silent&&x.debug&&(x.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,x.name+":"),w.debug.apply(console,arguments)))},verbose:function(){!x.silent&&x.verbose&&x.debug&&(x.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),w.verbose.apply(console,arguments)))},error:function(){x.silent||(w.error=Function.prototype.bind.call(console.error,console,x.name+":"),w.error.apply(console,arguments))},performance:{log:function(e){var t,n;x.performance&&(n=(t=(new Date).getTime())-(d||t),d=t,f.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:D,"Execution Time":n})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,500)},display:function(){var t=x.name+":",n=0;d=!1,clearTimeout(w.performance.timer),e.each(f,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",c&&(t+=" '"+c+"'"),(void 0!==console.group||void 0!==console.table)&&f.length>0&&(console.groupCollapsed(t),console.table?console.table(f):e.each(f,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(t,n,i){var r,a,s,l=N;return n=n||h,i=D||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,i){var o=n!=r?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=r)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[i])||n==r)return void 0!==l[i]?(a=l[i],!1):(w.error(I.method,t),!1);l=l[i]}})),e.isFunction(a)?s=a.apply(i,n):void 0!==a&&(s=a),e.isArray(o)?o.push(s):void 0!==o?o=[o,s]:void 0!==s&&(o=s),a}},p?(void 0===N&&w.initialize(),w.invoke(g)):(void 0!==N&&w.invoke("destroy"),w.initialize())}),void 0!==o?o:this},e.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",silent:!1,debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.sticky=function(i){var o,r=e(this),a=r.selector||"",s=(new Date).getTime(),l=[],u=arguments[0],c="string"==typeof u,d=[].slice.call(arguments,1);return r.each(function(){var r,f,g,p,h,m=e.isPlainObject(i)?e.extend(!0,{},e.fn.sticky.settings,i):e.extend({},e.fn.sticky.settings),v=m.className,b=m.namespace,_=m.error,y="."+b,w="module-"+b,x=e(this),T=e(t),S=e(m.scrollContext),C=(x.selector,x.data(w)),E=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},I=this;h={initialize:function(){h.determineContainer(),h.determineContext(),h.verbose("Initializing sticky",m,r),h.save.positions(),h.checkErrors(),h.bind.events(),m.observeChanges&&h.observeChanges(),h.instantiate()},instantiate:function(){h.verbose("Storing instance of module",h),C=h,x.data(w,h)},destroy:function(){h.verbose("Destroying previous instance"),h.reset(),g&&g.disconnect(),p&&p.disconnect(),T.off("load"+y,h.event.load).off("resize"+y,h.event.resize),S.off("scrollchange"+y,h.event.scrollchange),x.removeData(w)},observeChanges:function(){"MutationObserver"in t&&(g=new MutationObserver(h.event.documentChanged),p=new MutationObserver(h.event.changed),g.observe(n,{childList:!0,subtree:!0}),p.observe(I,{childList:!0,subtree:!0}),p.observe(f[0],{childList:!0,subtree:!0}),h.debug("Setting up mutation observer",p))},determineContainer:function(){r=m.container?e(m.container):x.offsetParent()},determineContext:function(){0!==(f=m.context?e(m.context):r).length||h.error(_.invalidContext,m.context,x)},checkErrors:function(){if(h.is.hidden()&&h.error(_.visible,x),h.cache.element.height>h.cache.context.height)return h.reset(),void h.error(_.elementSize,x)},bind:{events:function(){T.on("load"+y,h.event.load).on("resize"+y,h.event.resize),S.off("scroll"+y).on("scroll"+y,h.event.scroll).on("scrollchange"+y,h.event.scrollchange)}},event:{changed:function(e){clearTimeout(h.timer),h.timer=setTimeout(function(){h.verbose("DOM tree modified, updating sticky menu",e),h.refresh()},100)},documentChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==I||e(t).find(I).length>0)&&(h.debug("Element removed from DOM, tearing down events"),h.destroy())})})},load:function(){h.verbose("Page contents finished loading"),E(h.refresh)},resize:function(){h.verbose("Window resized"),E(h.refresh)},scroll:function(){E(function(){S.triggerHandler("scrollchange"+y,S.scrollTop())})},scrollchange:function(e,t){h.stick(t),m.onScroll.call(I)}},refresh:function(e){h.reset(),m.context||h.determineContext(),e&&h.determineContainer(),h.save.positions(),h.stick(),m.onReposition.call(I)},supports:{sticky:function(){var t=e("<div/>");return t[0],t.addClass(v.supported),t.css("position").match("sticky")}},save:{lastScroll:function(e){h.lastScroll=e},elementScroll:function(e){h.elementScroll=e},positions:function(){var e={height:S.height()},t={margin:{top:parseInt(x.css("margin-top"),10),bottom:parseInt(x.css("margin-bottom"),10)},offset:x.offset(),width:x.outerWidth(),height:x.outerHeight()},n={offset:f.offset(),height:f.outerHeight()};r.outerHeight(),h.is.standardScroll()||(h.debug("Non-standard scroll. Removing scroll offset from element offset"),e.top=S.scrollTop(),e.left=S.scrollLeft(),t.offset.top+=e.top,n.offset.top+=e.top,t.offset.left+=e.left,n.offset.left+=e.left),h.cache={fits:t.height+m.offset<=e.height,sameHeight:t.height==n.height,scrollContext:{height:e.height},element:{margin:t.margin,top:t.offset.top-t.margin.top,left:t.offset.left,width:t.width,height:t.height,bottom:t.offset.top+t.height},context:{top:n.offset.top,height:n.height,bottom:n.offset.top+n.height}},h.set.containerSize(),h.stick(),h.debug("Caching element positions",h.cache)}},get:{direction:function(e){var t="down";return e=e||S.scrollTop(),void 0!==h.lastScroll&&(h.lastScroll<e?t="down":h.lastScroll>e&&(t="up")),t},scrollChange:function(e){return e=e||S.scrollTop(),h.lastScroll?e-h.lastScroll:0},currentElementScroll:function(){return h.elementScroll?h.elementScroll:h.is.top()?Math.abs(parseInt(x.css("top"),10))||0:Math.abs(parseInt(x.css("bottom"),10))||0},elementScroll:function(e){e=e||S.scrollTop();var t=h.cache.element,n=h.cache.scrollContext,i=h.get.scrollChange(e),o=t.height-n.height+m.offset,r=h.get.currentElementScroll(),a=r+i;return r=h.cache.fits||a<0?0:a>o?o:a}},remove:{lastScroll:function(){delete h.lastScroll},elementScroll:function(e){delete h.elementScroll},minimumSize:function(){r.css("min-height","")},offset:function(){x.css("margin-top","")}},set:{offset:function(){h.verbose("Setting offset on element",m.offset),x.css("margin-top",m.offset)},containerSize:function(){var e=r.get(0).tagName;"HTML"===e||"body"==e?h.determineContainer():Math.abs(r.outerHeight()-h.cache.context.height)>m.jitter&&(h.debug("Context has padding, specifying exact height for container",h.cache.context.height),r.css({height:h.cache.context.height}))},minimumSize:function(){var e=h.cache.element;r.css("min-height",e.height)},scroll:function(e){h.debug("Setting scroll on element",e),h.elementScroll!=e&&(h.is.top()&&x.css("bottom","").css("top",-e),h.is.bottom()&&x.css("top","").css("bottom",e))},size:function(){0!==h.cache.element.height&&0!==h.cache.element.width&&(I.style.setProperty("width",h.cache.element.width+"px","important"),I.style.setProperty("height",h.cache.element.height+"px","important"))}},is:{standardScroll:function(){return S[0]==t},top:function(){return x.hasClass(v.top)},bottom:function(){return x.hasClass(v.bottom)},initialPosition:function(){return!h.is.fixed()&&!h.is.bound()},hidden:function(){return!x.is(":visible")},bound:function(){return x.hasClass(v.bound)},fixed:function(){return x.hasClass(v.fixed)}},stick:function(e){var t=e||S.scrollTop(),n=h.cache,i=n.fits,o=n.sameHeight,r=n.element,a=n.scrollContext,s=n.context,l=h.is.bottom()&&m.pushing?m.bottomOffset:m.offset,e={top:t+l,bottom:t+l+a.height},u=(h.get.direction(e.top),i?0:h.get.elementScroll(e.top)),c=!i;0!==r.height&&!o&&(h.is.initialPosition()?e.top>=s.bottom?(h.debug("Initial element position is bottom of container"),h.bindBottom()):e.top>r.top&&(r.height+e.top-u>=s.bottom?(h.debug("Initial element position is bottom of container"),h.bindBottom()):(h.debug("Initial element position is fixed"),h.fixTop())):h.is.fixed()?h.is.top()?e.top<=r.top?(h.debug("Fixed element reached top of container"),h.setInitialPosition()):r.height+e.top-u>=s.bottom?(h.debug("Fixed element reached bottom of container"),h.bindBottom()):c&&(h.set.scroll(u),h.save.lastScroll(e.top),h.save.elementScroll(u)):h.is.bottom()&&(e.bottom-r.height<=r.top?(h.debug("Bottom fixed rail has reached top of container"),h.setInitialPosition()):e.bottom>=s.bottom?(h.debug("Bottom fixed rail has reached bottom of container"),h.bindBottom()):c&&(h.set.scroll(u),h.save.lastScroll(e.top),h.save.elementScroll(u))):h.is.bottom()&&(e.top<=r.top?(h.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),h.setInitialPosition()):m.pushing?h.is.bound()&&e.bottom<=s.bottom&&(h.debug("Fixing bottom attached element to bottom of browser."),h.fixBottom()):h.is.bound()&&e.top<=s.bottom-r.height&&(h.debug("Fixing bottom attached element to top of browser."),h.fixTop())))},bindTop:function(){h.debug("Binding element to top of parent container"),h.remove.offset(),x.css({left:"",top:"",marginBottom:""}).removeClass(v.fixed).removeClass(v.bottom).addClass(v.bound).addClass(v.top),m.onTop.call(I),m.onUnstick.call(I)},bindBottom:function(){h.debug("Binding element to bottom of parent container"),h.remove.offset(),x.css({left:"",top:""}).removeClass(v.fixed).removeClass(v.top).addClass(v.bound).addClass(v.bottom),m.onBottom.call(I),m.onUnstick.call(I)},setInitialPosition:function(){h.debug("Returning to initial position"),h.unfix(),h.unbind()},fixTop:function(){h.debug("Fixing element to top of page"),m.setSize&&h.set.size(),h.set.minimumSize(),h.set.offset(),x.css({left:h.cache.element.left,bottom:"",marginBottom:""}).removeClass(v.bound).removeClass(v.bottom).addClass(v.fixed).addClass(v.top),m.onStick.call(I)},fixBottom:function(){h.debug("Sticking element to bottom of page"),m.setSize&&h.set.size(),h.set.minimumSize(),h.set.offset(),x.css({left:h.cache.element.left,bottom:"",marginBottom:""}).removeClass(v.bound).removeClass(v.top).addClass(v.fixed).addClass(v.bottom),m.onStick.call(I)},unbind:function(){h.is.bound()&&(h.debug("Removing container bound position on element"),h.remove.offset(),x.removeClass(v.bound).removeClass(v.top).removeClass(v.bottom))},unfix:function(){h.is.fixed()&&(h.debug("Removing fixed position on element"),h.remove.minimumSize(),h.remove.offset(),x.removeClass(v.fixed).removeClass(v.top).removeClass(v.bottom),m.onUnstick.call(I))},reset:function(){h.debug("Resetting elements position"),h.unbind(),h.unfix(),h.resetCSS(),h.remove.offset(),h.remove.lastScroll()},resetCSS:function(){x.css({width:"",height:""}),r.css({height:""})},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(void 0===n)return m[t];m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===n)return h[t];h[t]=n}},debug:function(){!m.silent&&m.debug&&(m.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,m.name+":"),h.debug.apply(console,arguments)))},verbose:function(){!m.silent&&m.verbose&&m.debug&&(m.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),h.verbose.apply(console,arguments)))},error:function(){m.silent||(h.error=Function.prototype.bind.call(console.error,console,m.name+":"),h.error.apply(console,arguments))},performance:{log:function(e){var t,n;m.performance&&(n=(t=(new Date).getTime())-(s||t),s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:I,"Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,0)},display:function(){var t=m.name+":",n=0;s=!1,clearTimeout(h.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,i){var r,a,s,l=C;return n=n||d,i=I||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,i){var o=n!=r?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=r)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[i])||n==r)return void 0!==l[i]&&(a=l[i],!1);l=l[i]}})),e.isFunction(a)?s=a.apply(i,n):void 0!==a&&(s=a),e.isArray(o)?o.push(s):void 0!==o?o=[o,s]:void 0!==s&&(o=s),a}},c?(void 0===C&&h.initialize(),h.invoke(u)):(void 0!==C&&C.invoke("destroy"),h.initialize())}),void 0!==o?o:this},e.fn.sticky.settings={name:"Sticky",namespace:"sticky",silent:!1,debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,container:!1,scrollContext:t,offset:0,bottomOffset:0,jitter:5,setSize:!0,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.tab=function(i){var o,r=e(e.isFunction(this)?t:this),a=r.selector||"",s=(new Date).getTime(),l=[],u=arguments[0],c="string"==typeof u,d=[].slice.call(arguments,1),f=!1;return r.each(function(){var g,p,h,m,v,b,_=e.isPlainObject(i)?e.extend(!0,{},e.fn.tab.settings,i):e.extend({},e.fn.tab.settings),y=_.className,w=_.metadata,x=_.selector,T=_.error,S="."+_.namespace,C="module-"+_.namespace,E=e(this),I={},P=!0,k=0,A=this,j=E.data(C);v={initialize:function(){v.debug("Initializing tab menu item",E),v.fix.callbacks(),v.determineTabs(),v.debug("Determining tabs",_.context,p),_.auto&&v.set.auto(),v.bind.events(),_.history&&!f&&(v.initializeHistory(),f=!0),v.instantiate()},instantiate:function(){v.verbose("Storing instance of module",v),j=v,E.data(C,v)},destroy:function(){v.debug("Destroying tabs",E),E.removeData(C).off(S)},bind:{events:function(){e.isWindow(A)||(v.debug("Attaching tab activation events to element",E),E.on("click"+S,v.event.click))}},determineTabs:function(){var t;"parent"===_.context?(E.closest(x.ui).length>0?(t=E.closest(x.ui),v.verbose("Using closest UI element as parent",t)):t=E,g=t.parent(),v.verbose("Determined parent element for creating context",g)):_.context?(g=e(_.context),v.verbose("Using selector for tab context",_.context,g)):g=e("body"),_.childrenOnly?(p=g.children(x.tabs),v.debug("Searching tab context children for tabs",g,p)):(p=g.find(x.tabs),v.debug("Searching tab context for tabs",g,p))},fix:{callbacks:function(){e.isPlainObject(i)&&(i.onTabLoad||i.onTabInit)&&(i.onTabLoad&&(i.onLoad=i.onTabLoad,delete i.onTabLoad,v.error(T.legacyLoad,i.onLoad)),i.onTabInit&&(i.onFirstLoad=i.onTabInit,delete i.onTabInit,v.error(T.legacyInit,i.onFirstLoad)),_=e.extend(!0,{},e.fn.tab.settings,i))}},initializeHistory:function(){if(v.debug("Initializing page state"),void 0===e.address)return v.error(T.state),!1;if("state"==_.historyType){if(v.debug("Using HTML5 to manage state"),!1===_.path)return v.error(T.path),!1;e.address.history(!0).state(_.path)}e.address.bind("change",v.event.history.change)},event:{click:function(t){var n=e(this).data(w.tab);void 0!==n?(_.history?(v.verbose("Updating page state",t),e.address.value(n)):(v.verbose("Changing tab",t),v.changeTab(n)),t.preventDefault()):v.debug("No tab specified")},history:{change:function(t){var n=t.pathNames.join("/")||v.get.initialPath(),i=_.templates.determineTitle(n)||!1;v.performance.display(),v.debug("History change event",n,t),b=t,void 0!==n&&v.changeTab(n),i&&e.address.title(i)}}},refresh:function(){h&&(v.debug("Refreshing tab",h),v.changeTab(h))},cache:{read:function(e){return void 0!==e&&I[e]},add:function(e,t){e=e||h,v.debug("Adding cached content for",e),I[e]=t},remove:function(e){e=e||h,v.debug("Removing cached content for",e),delete I[e]}},set:{auto:function(){var t="string"==typeof _.path?_.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";v.verbose("Setting up automatic tab retrieval from server",t),e.isPlainObject(_.apiSettings)?_.apiSettings.url=t:_.apiSettings={url:t}},loading:function(e){var t=v.get.tabElement(e);t.hasClass(y.loading)||(v.verbose("Setting loading state for",t),t.addClass(y.loading).siblings(p).removeClass(y.active+" "+y.loading),t.length>0&&_.onRequest.call(t[0],e))},state:function(t){e.address.value(t)}},changeTab:function(n){var i=t.history&&t.history.pushState&&_.ignoreFirstLoad&&P,o=_.auto||e.isPlainObject(_.apiSettings),r=o&&!i?v.utilities.pathToArray(n):v.get.defaultPathArray(n);n=v.utilities.arrayToPath(r),e.each(r,function(t,a){var s,l,u,c,d=r.slice(0,t+1),f=v.utilities.arrayToPath(d),p=v.is.tab(f),x=t+1==r.length,S=v.get.tabElement(f);if(v.verbose("Looking for tab",a),p){if(v.verbose("Tab was found",a),h=f,m=v.utilities.filterArray(r,d),x?c=!0:(l=r.slice(0,t+2),u=v.utilities.arrayToPath(l),(c=!v.is.tab(u))&&v.verbose("Tab parameters found",l)),c&&o)return i?(v.debug("Ignoring remote content on first tab load",f),P=!1,v.cache.add(n,S.html()),v.activate.all(f),_.onFirstLoad.call(S[0],f,m,b),_.onLoad.call(S[0],f,m,b)):(v.activate.navigation(f),v.fetch.content(f,n)),!1;v.debug("Opened local tab",f),v.activate.all(f),v.cache.read(f)||(v.cache.add(f,!0),v.debug("First time tab loaded calling tab init"),_.onFirstLoad.call(S[0],f,m,b)),_.onLoad.call(S[0],f,m,b)}else{if(-1!=n.search("/")||""===n)return v.error(T.missingTab,E,g,f),!1;if(s=e("#"+n+', a[name="'+n+'"]'),f=s.closest("[data-tab]").data(w.tab),S=v.get.tabElement(f),s&&s.length>0&&f)return v.debug("Anchor link used, opening parent tab",S,s),S.hasClass(y.active)||setTimeout(function(){v.scrollTo(s)},0),v.activate.all(f),v.cache.read(f)||(v.cache.add(f,!0),v.debug("First time tab loaded calling tab init"),_.onFirstLoad.call(S[0],f,m,b)),_.onLoad.call(S[0],f,m,b),!1}})},scrollTo:function(t){var i=!!(t&&t.length>0)&&t.offset().top;!1!==i&&(v.debug("Forcing scroll to an in-page link in a hidden tab",i,t),e(n).scrollTop(i))},update:{content:function(t,n,i){var o=v.get.tabElement(t),r=o[0];i=void 0!==i?i:_.evaluateScripts,"string"==typeof _.cacheType&&"dom"==_.cacheType.toLowerCase()&&"string"!=typeof n?o.empty().append(e(n).clone(!0)):i?(v.debug("Updating HTML and evaluating inline scripts",t,n),o.html(n)):(v.debug("Updating HTML",t,n),r.innerHTML=n)}},fetch:{content:function(t,n){var i,o,r=v.get.tabElement(t),a={dataType:"html",encodeParameters:!1,on:"now",cache:_.alwaysRefresh,headers:{"X-Remote":!0},onSuccess:function(e){"response"==_.cacheType&&v.cache.add(n,e),v.update.content(t,e),t==h?(v.debug("Content loaded",t),v.activate.tab(t)):v.debug("Content loaded in background",t),_.onFirstLoad.call(r[0],t,m,b),_.onLoad.call(r[0],t,m,b),_.loadOnce?v.cache.add(n,!0):"string"==typeof _.cacheType&&"dom"==_.cacheType.toLowerCase()&&r.children().length>0?setTimeout(function(){var e=r.children().clone(!0);e=e.not("script"),v.cache.add(n,e)},0):v.cache.add(n,r.html())},urlData:{tab:n}},s=r.api("get request")||!1,l=s&&"pending"===s.state();n=n||t,o=v.cache.read(n),_.cache&&o?(v.activate.tab(t),v.debug("Adding cached content",n),_.loadOnce||("once"==_.evaluateScripts?v.update.content(t,o,!1):v.update.content(t,o)),_.onLoad.call(r[0],t,m,b)):l?(v.set.loading(t),v.debug("Content is already loading",n)):void 0!==e.api?(i=e.extend(!0,{},_.apiSettings,a),v.debug("Retrieving remote content",n,i),v.set.loading(t),r.api(i)):v.error(T.api)}},activate:{all:function(e){v.activate.tab(e),v.activate.navigation(e)},tab:function(e){var t=v.get.tabElement(e),n="siblings"==_.deactivate?t.siblings(p):p.not(t),i=t.hasClass(y.active);v.verbose("Showing tab content for",t),i||(t.addClass(y.active),n.removeClass(y.active+" "+y.loading),t.length>0&&_.onVisible.call(t[0],e))},navigation:function(e){var t=v.get.navElement(e),n="siblings"==_.deactivate?t.siblings(r):r.not(t),i=t.hasClass(y.active);v.verbose("Activating tab navigation for",t,e),i||(t.addClass(y.active),n.removeClass(y.active+" "+y.loading))}},deactivate:{all:function(){v.deactivate.navigation(),v.deactivate.tabs()},navigation:function(){r.removeClass(y.active)},tabs:function(){p.removeClass(y.active+" "+y.loading)}},is:{tab:function(e){return void 0!==e&&v.get.tabElement(e).length>0}},get:{initialPath:function(){return r.eq(0).data(w.tab)||p.eq(0).data(w.tab)},path:function(){return e.address.value()},defaultPathArray:function(e){return v.utilities.pathToArray(v.get.defaultPath(e))},defaultPath:function(e){var t=r.filter("[data-"+w.tab+'^="'+e+'/"]').eq(0).data(w.tab)||!1;if(t){if(v.debug("Found default tab",t),k<_.maxDepth)return k++,v.get.defaultPath(t);v.error(T.recursion)}else v.debug("No default tabs found for",e,p);return k=0,e},navElement:function(e){return e=e||h,r.filter("[data-"+w.tab+'="'+e+'"]')},tabElement:function(e){var t,n,i,o;return e=e||h,i=v.utilities.pathToArray(e),o=v.utilities.last(i),t=p.filter("[data-"+w.tab+'="'+e+'"]'),n=p.filter("[data-"+w.tab+'="'+o+'"]'),t.length>0?t:n},tab:function(){return h}},utilities:{filterArray:function(t,n){return e.grep(t,function(t){return-1==e.inArray(t,n)})},last:function(t){return!!e.isArray(t)&&t[t.length-1]},pathToArray:function(e){return void 0===e&&(e=h),"string"==typeof e?e.split("/"):[e]},arrayToPath:function(t){return!!e.isArray(t)&&t.join("/")}},setting:function(t,n){if(v.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,_,t);else{if(void 0===n)return _[t];e.isPlainObject(_[t])?e.extend(!0,_[t],n):_[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,v,t);else{if(void 0===n)return v[t];v[t]=n}},debug:function(){!_.silent&&_.debug&&(_.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,_.name+":"),v.debug.apply(console,arguments)))},verbose:function(){!_.silent&&_.verbose&&_.debug&&(_.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,_.name+":"),v.verbose.apply(console,arguments)))},error:function(){_.silent||(v.error=Function.prototype.bind.call(console.error,console,_.name+":"),v.error.apply(console,arguments))},performance:{log:function(e){var t,n;_.performance&&(n=(t=(new Date).getTime())-(s||t),s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:A,"Execution Time":n})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,500)},display:function(){var t=_.name+":",n=0;s=!1,clearTimeout(v.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,i){var r,a,s,l=j;return n=n||d,i=A||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,i){var o=n!=r?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=r)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[i])||n==r)return void 0!==l[i]?(a=l[i],!1):(v.error(T.method,t),!1);l=l[i]}})),e.isFunction(a)?s=a.apply(i,n):void 0!==a&&(s=a),e.isArray(o)?o.push(s):void 0!==o?o=[o,s]:void 0!==s&&(o=s),a}},c?(void 0===j&&v.initialize(),v.invoke(u)):(void 0!==j&&j.invoke("destroy"),v.initialize())}),void 0!==o?o:this},e.tab=function(){e(t).tab.apply(this,arguments)},e.fn.tab.settings={name:"Tab",namespace:"tab",silent:!1,debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,deactivate:"siblings",alwaysRefresh:!1,cache:!0,loadOnce:!1,cacheType:"response",ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:"once",onFirstLoad:function(e,t,n){},onLoad:function(e,t,n){},onVisible:function(e,t,n){},onRequest:function(e,t,n){},templates:{determineTitle:function(e){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found. Tabs are case-sensitive.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.transition=function(){var i,o=e(this),r=o.selector||"",a=(new Date).getTime(),s=[],l=arguments,u=l[0],c=[].slice.call(arguments,1),d="string"==typeof u;return t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame,o.each(function(t){var f,g,p,h,m,v,b,_,y,w=e(this),x=this;(y={initialize:function(){f=y.get.settings.apply(x,l),h=f.className,p=f.error,m=f.metadata,_="."+f.namespace,b="module-"+f.namespace,g=w.data(b)||y,v=y.get.animationEndEvent(),d&&(d=y.invoke(u)),!1===d&&(y.verbose("Converted arguments into settings object",f),f.interval?y.delay(f.animate):y.animate(),y.instantiate())},instantiate:function(){y.verbose("Storing instance of module",y),g=y,w.data(b,g)},destroy:function(){y.verbose("Destroying previous module for",x),w.removeData(b)},refresh:function(){y.verbose("Refreshing display type on next animation"),delete y.displayType},forceRepaint:function(){y.verbose("Forcing element repaint");var e=w.parent(),t=w.next();0===t.length?w.detach().appendTo(e):w.detach().insertBefore(t)},repaint:function(){y.verbose("Repainting element"),x.offsetWidth},delay:function(e){var n,i=y.get.animationDirection();i||(i=y.can.transition()?y.get.direction():"static"),e=void 0!==e?e:f.interval,n="auto"==f.reverse&&i==h.outward||1==f.reverse?(o.length-t)*f.interval:t*f.interval,y.debug("Delaying animation by",n),setTimeout(y.animate,n)},animate:function(e){if(f=e||f,!y.is.supported())return y.error(p.support),!1;if(y.debug("Preparing animation",f.animation),y.is.animating()){if(f.queue)return!f.allowRepeats&&y.has.direction()&&y.is.occurring()&&!0!==y.queuing?y.debug("Animation is currently occurring, preventing queueing same animation",f.animation):y.queue(f.animation),!1;if(!f.allowRepeats&&y.is.occurring())return y.debug("Animation is already occurring, will not execute repeated animation",f.animation),!1;y.debug("New animation started, completing previous early",f.animation),g.complete()}y.can.animate()?y.set.animating(f.animation):y.error(p.noAnimation,f.animation,x)},reset:function(){y.debug("Resetting animation to beginning conditions"),y.remove.animationCallbacks(),y.restore.conditions(),y.remove.animating()},queue:function(e){y.debug("Queueing animation of",e),y.queuing=!0,w.one(v+".queue"+_,function(){y.queuing=!1,y.repaint(),y.animate.apply(this,f)})},complete:function(e){y.debug("Animation complete",f.animation),y.remove.completeCallback(),y.remove.failSafe(),y.is.looping()||(y.is.outward()?(y.verbose("Animation is outward, hiding element"),y.restore.conditions(),y.hide()):y.is.inward()?(y.verbose("Animation is outward, showing element"),y.restore.conditions(),y.show()):(y.verbose("Static animation completed"),y.restore.conditions(),f.onComplete.call(x)))},force:{visible:function(){var e=w.attr("style"),t=y.get.userStyle(),n=y.get.displayType(),i=t+"display: "+n+" !important;",o=w.css("display"),r=void 0===e||""===e;o!==n?(y.verbose("Overriding default display to show element",n),w.attr("style",i)):r&&w.removeAttr("style")},hidden:function(){var e=w.attr("style"),t=w.css("display"),n=void 0===e||""===e;"none"===t||y.is.hidden()?n&&w.removeAttr("style"):(y.verbose("Overriding default display to hide element"),w.css("display","none"))}},has:{direction:function(t){var n=!1;return"string"==typeof(t=t||f.animation)&&(t=t.split(" "),e.each(t,function(e,t){t!==h.inward&&t!==h.outward||(n=!0)})),n},inlineDisplay:function(){var t=w.attr("style")||"";return e.isArray(t.match(/display.*?;/,""))}},set:{animating:function(e){var t;y.remove.completeCallback(),e=e||f.animation,t=y.get.animationClass(e),y.save.animation(t),y.force.visible(),y.remove.hidden(),y.remove.direction(),y.start.animation(t)},duration:function(e,t){((t="number"==typeof(t=t||f.duration)?t+"ms":t)||0===t)&&(y.verbose("Setting animation duration",t),w.css({"animation-duration":t}))},direction:function(e){(e=e||y.get.direction())==h.inward?y.set.inward():y.set.outward()},looping:function(){y.debug("Transition set to loop"),w.addClass(h.looping)},hidden:function(){w.addClass(h.transition).addClass(h.hidden)},inward:function(){y.debug("Setting direction to inward"),w.removeClass(h.outward).addClass(h.inward)},outward:function(){y.debug("Setting direction to outward"),w.removeClass(h.inward).addClass(h.outward)},visible:function(){w.addClass(h.transition).addClass(h.visible)}},start:{animation:function(e){e=e||y.get.animationClass(),y.debug("Starting tween",e),w.addClass(e).one(v+".complete"+_,y.complete),f.useFailSafe&&y.add.failSafe(),y.set.duration(f.duration),f.onStart.call(x)}},save:{animation:function(e){y.cache||(y.cache={}),y.cache.animation=e},displayType:function(e){"none"!==e&&w.data(m.displayType,e)},transitionExists:function(t,n){e.fn.transition.exists[t]=n,y.verbose("Saving existence of transition",t,n)}},restore:{conditions:function(){var e=y.get.currentAnimation();e&&(w.removeClass(e),y.verbose("Removing animation class",y.cache)),y.remove.duration()}},add:{failSafe:function(){var e=y.get.duration();y.timer=setTimeout(function(){w.triggerHandler(v)},e+f.failSafeDelay),y.verbose("Adding fail safe timer",y.timer)}},remove:{animating:function(){w.removeClass(h.animating)},animationCallbacks:function(){y.remove.queueCallback(),y.remove.completeCallback()},queueCallback:function(){w.off(".queue"+_)},completeCallback:function(){w.off(".complete"+_)},display:function(){w.css("display","")},direction:function(){w.removeClass(h.inward).removeClass(h.outward)},duration:function(){w.css("animation-duration","")},failSafe:function(){y.verbose("Removing fail safe timer",y.timer),y.timer&&clearTimeout(y.timer)},hidden:function(){w.removeClass(h.hidden)},visible:function(){w.removeClass(h.visible)},looping:function(){y.debug("Transitions are no longer looping"),y.is.looping()&&(y.reset(),w.removeClass(h.looping))},transition:function(){w.removeClass(h.visible).removeClass(h.hidden)}},get:{settings:function(t,n,i){return"object"==typeof t?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,onComplete:i,duration:n}):"string"==typeof n||"number"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,duration:n}):"object"==typeof n?e.extend({},e.fn.transition.settings,n,{animation:t}):"function"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n}):e.extend({},e.fn.transition.settings,{animation:t})},animationClass:function(e){var t=e||f.animation,n=y.can.transition()&&!y.has.direction()?y.get.direction()+" ":"";return h.animating+" "+h.transition+" "+n+t},currentAnimation:function(){return!(!y.cache||void 0===y.cache.animation)&&y.cache.animation},currentDirection:function(){return y.is.inward()?h.inward:h.outward},direction:function(){return y.is.hidden()||!y.is.visible()?h.inward:h.outward},animationDirection:function(t){var n;return"string"==typeof(t=t||f.animation)&&(t=t.split(" "),e.each(t,function(e,t){t===h.inward?n=h.inward:t===h.outward&&(n=h.outward)})),n||!1},duration:function(e){return!1===(e=e||f.duration)&&(e=w.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(e){return e=void 0===e||e,f.displayType?f.displayType:(e&&void 0===w.data(m.displayType)&&y.can.transition(!0),w.data(m.displayType))},userStyle:function(e){return(e=e||w.attr("style")||"").replace(/display.*?;/,"")},transitionExists:function(t){return e.fn.transition.exists[t]},animationStartEvent:function(){var e,t=n.createElement("div"),i={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in i)if(void 0!==t.style[e])return i[e];return!1},animationEndEvent:function(){var e,t=n.createElement("div"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(void 0!==t.style[e])return i[e];return!1}},can:{transition:function(t){var n,i,o,r,a,s,l=f.animation,u=y.get.transitionExists(l),c=y.get.displayType(!1);if(void 0===u||t){if(y.verbose("Determining whether animation exists"),n=w.attr("class"),i=w.prop("tagName"),o=e("<"+i+" />").addClass(n).insertAfter(w),r=o.addClass(l).removeClass(h.inward).removeClass(h.outward).addClass(h.animating).addClass(h.transition).css("animationName"),a=o.addClass(h.inward).css("animationName"),c||(c=o.attr("class",n).removeAttr("style").removeClass(h.hidden).removeClass(h.visible).show().css("display"),y.verbose("Determining final display state",c),y.save.displayType(c)),o.remove(),r!=a)y.debug("Direction exists for animation",l),s=!0;else{if("none"==r||!r)return void y.debug("No animation defined in css",l);y.debug("Static animation found",l,c),s=!1}y.save.transitionExists(l,s)}return void 0!==u?u:s},animate:function(){return void 0!==y.can.transition()}},is:{animating:function(){return w.hasClass(h.animating)},inward:function(){return w.hasClass(h.inward)},outward:function(){return w.hasClass(h.outward)},looping:function(){return w.hasClass(h.looping)},occurring:function(e){return e=e||f.animation,e="."+e.replace(" ","."),w.filter(e).length>0},visible:function(){return w.is(":visible")},hidden:function(){return"hidden"===w.css("visibility")},supported:function(){return!1!==v}},hide:function(){y.verbose("Hiding element"),y.is.animating()&&y.reset(),x.blur(),y.remove.display(),y.remove.visible(),y.set.hidden(),y.force.hidden(),f.onHide.call(x),f.onComplete.call(x)},show:function(e){y.verbose("Showing element",e),y.remove.hidden(),y.set.visible(),y.force.visible(),f.onShow.call(x),f.onComplete.call(x)},toggle:function(){y.is.visible()?y.hide():y.show()},stop:function(){y.debug("Stopping current animation"),w.triggerHandler(v)},stopAll:function(){y.debug("Stopping all animation"),y.remove.queueCallback(),w.triggerHandler(v)},clear:{queue:function(){y.debug("Clearing animation queue"),y.remove.queueCallback()}},enable:function(){y.verbose("Starting animation"),w.removeClass(h.disabled)},disable:function(){y.debug("Stopping animation"),w.addClass(h.disabled)},setting:function(t,n){if(y.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===n)return f[t];e.isPlainObject(f[t])?e.extend(!0,f[t],n):f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(void 0===n)return y[t];y[t]=n}},debug:function(){!f.silent&&f.debug&&(f.performance?y.performance.log(arguments):(y.debug=Function.prototype.bind.call(console.info,console,f.name+":"),y.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?y.performance.log(arguments):(y.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),y.verbose.apply(console,arguments)))},error:function(){f.silent||(y.error=Function.prototype.bind.call(console.error,console,f.name+":"),y.error.apply(console,arguments))},performance:{log:function(e){var t,n;f.performance&&(n=(t=(new Date).getTime())-(a||t),a=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:x,"Execution Time":n})),clearTimeout(y.performance.timer),y.performance.timer=setTimeout(y.performance.display,500)},display:function(){var t=f.name+":",n=0;a=!1,clearTimeout(y.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),o.length>1&&(t+=" ("+o.length+")"),(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var r,a,s,l=g;return n=n||c,o=x||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,i){var o=n!=r?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=r)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[i])||n==r)return void 0!==l[i]&&(a=l[i],!1);l=l[i]}})),e.isFunction(a)?s=a.apply(o,n):void 0!==a&&(s=a),e.isArray(i)?i.push(s):void 0!==i?i=[i,s]:void 0!==s&&(i=s),void 0!==a&&a}}).initialize()}),void 0!==i?i:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(e,t,n,i){"use strict";var t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();e.api=e.fn.api=function(n){var i,o=e(e.isFunction(this)?t:this),r=o.selector||"",a=(new Date).getTime(),s=[],l=arguments[0],u="string"==typeof l,c=[].slice.call(arguments,1);return o.each(function(){var o,d,f,g,p,h=e.isPlainObject(n)?e.extend(!0,{},e.fn.api.settings,n):e.extend({},e.fn.api.settings),m=h.namespace,v=h.metadata,b=h.selector,_=h.error,y=h.className,w="."+m,x="module-"+m,T=e(this),S=T.closest(b.form),C=h.stateContext?e(h.stateContext):T,E=this,I=C[0],P=T.data(x);p={initialize:function(){u||p.bind.events(),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),P=p,T.data(x,P)},destroy:function(){p.verbose("Destroying previous module for",E),T.removeData(x).off(w)},bind:{events:function(){var e=p.get.event();e?(p.verbose("Attaching API events to element",e),T.on(e+w,p.event.trigger)):"now"==h.on&&(p.debug("Querying API endpoint immediately"),p.query())}},decode:{json:function(e){if(void 0!==e&&"string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}},read:{cachedResponse:function(e){var n;if(void 0!==t.Storage)return n=sessionStorage.getItem(e),p.debug("Using cached response",e,n),n=p.decode.json(n);p.error(_.noStorage)}},write:{cachedResponse:function(n,i){i&&""===i?p.debug("Response empty, not caching",i):void 0!==t.Storage?(e.isPlainObject(i)&&(i=JSON.stringify(i)),sessionStorage.setItem(n,i),p.verbose("Storing cached response for url",n,i)):p.error(_.noStorage)}},query:function(){if(p.is.disabled())p.debug("Element is disabled API request aborted");else{if(p.is.loading()){if(!h.interruptRequests)return void p.debug("Cancelling request, previous request is still pending");p.debug("Interrupting previous request"),p.abort()}if(h.defaultData&&e.extend(!0,h.urlData,p.get.defaultData()),h.serializeForm&&(h.data=p.add.formData(h.data)),!1===(d=p.get.settings()))return p.cancelled=!0,void p.error(_.beforeSend);if(p.cancelled=!1,(f=p.get.templatedURL())||p.is.mocked()){if((f=p.add.urlData(f))||p.is.mocked()){if(d.url=h.base+f,o=e.extend(!0,{},h,{type:h.method||h.type,data:void 0,url:h.base+f,beforeSend:h.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),p.debug("Querying URL",o.url),p.verbose("Using AJAX settings",o),"local"===h.cache&&p.read.cachedResponse(f))return p.debug("Response returned from local cache"),p.request=p.create.request(),void p.request.resolveWith(I,[p.read.cachedResponse(f)]);h.throttle?h.throttleFirstRequest||p.timer?(p.debug("Throttling request",h.throttle),clearTimeout(p.timer),p.timer=setTimeout(function(){p.timer&&delete p.timer,p.debug("Sending throttled request",void 0,o.method),p.send.request()},h.throttle)):(p.debug("Sending request",void 0,o.method),p.send.request(),p.timer=setTimeout(function(){},h.throttle)):(p.debug("Sending request",void 0,o.method),p.send.request())}}else p.error(_.missingURL)}},should:{removeError:function(){return!0===h.hideError||"auto"===h.hideError&&!p.is.form()}},is:{disabled:function(){return T.filter(b.disabled).length>0},expectingJSON:function(){return"json"===h.dataType||"jsonp"===h.dataType},form:function(){return T.is("form")||C.is("form")},mocked:function(){return h.mockResponse||h.mockResponseAsync||h.response||h.responseAsync},input:function(){return T.is("input")},loading:function(){return!!p.request&&"pending"==p.request.state()},abortedRequest:function(e){return e&&void 0!==e.readyState&&0===e.readyState?(p.verbose("XHR request determined to be aborted"),!0):(p.verbose("XHR request was not aborted"),!1)},validResponse:function(t){return p.is.expectingJSON()&&e.isFunction(h.successTest)?(p.debug("Checking JSON returned success",h.successTest,t),h.successTest(t)?(p.debug("Response passed success test",t),!0):(p.debug("Response failed success test",t),!1)):(p.verbose("Response is not JSON, skipping validation",h.successTest,t),!0)}},was:{cancelled:function(){return p.cancelled||!1},succesful:function(){return p.request&&"resolved"==p.request.state()},failure:function(){return p.request&&"rejected"==p.request.state()},complete:function(){return p.request&&("resolved"==p.request.state()||"rejected"==p.request.state())}},add:{urlData:function(t,n){var i,o;return t&&(i=t.match(h.regExp.required),o=t.match(h.regExp.optional),n=n||h.urlData,i&&(p.debug("Looking for required URL variables",i),e.each(i,function(i,o){var r=-1!==o.indexOf("$")?o.substr(2,o.length-3):o.substr(1,o.length-2),a=e.isPlainObject(n)&&void 0!==n[r]?n[r]:void 0!==T.data(r)?T.data(r):void 0!==C.data(r)?C.data(r):n[r];if(void 0===a)return p.error(_.requiredParameter,r,t),t=!1,!1;p.verbose("Found required variable",r,a),a=h.encodeParameters?p.get.urlEncodedValue(a):a,t=t.replace(o,a)})),o&&(p.debug("Looking for optional URL variables",i),e.each(o,function(i,o){var r=-1!==o.indexOf("$")?o.substr(3,o.length-4):o.substr(2,o.length-3),a=e.isPlainObject(n)&&void 0!==n[r]?n[r]:void 0!==T.data(r)?T.data(r):void 0!==C.data(r)?C.data(r):n[r];void 0!==a?(p.verbose("Optional variable Found",r,a),t=t.replace(o,a)):(p.verbose("Optional variable not found",r),t=-1!==t.indexOf("/"+o)?t.replace("/"+o,""):t.replace(o,""))}))),t},formData:function(t){var n=void 0!==e.fn.serializeObject,i=n?S.serializeObject():S.serialize();return t=t||h.data,e.isPlainObject(t)?n?(p.debug("Extending existing data with form data",t,i),t=e.extend(!0,{},t,i)):(p.error(_.missingSerialize),p.debug("Cant extend data. Replacing data with form data",t,i),t=i):(p.debug("Adding form data",i),t=i),t}},send:{request:function(){p.set.loading(),p.request=p.create.request(),p.is.mocked()?p.mockedXHR=p.create.mockedXHR():p.xhr=p.create.xhr(),h.onRequest.call(I,p.request,p.xhr)}},event:{trigger:function(e){p.query(),"submit"!=e.type&&"click"!=e.type||e.preventDefault()},xhr:{always:function(){},done:function(t,n,i){var o=this,r=(new Date).getTime()-g,a=h.loadingDuration-r,s=!!e.isFunction(h.onResponse)&&(p.is.expectingJSON()?h.onResponse.call(o,e.extend(!0,{},t)):h.onResponse.call(o,t));a=a>0?a:0,s&&(p.debug("Modified API response in onResponse callback",h.onResponse,s,t),t=s),a>0&&p.debug("Response completed early delaying state change by",a),setTimeout(function(){p.is.validResponse(t)?p.request.resolveWith(o,[t,i]):p.request.rejectWith(o,[i,"invalid"])},a)},fail:function(e,t,n){var i=this,o=(new Date).getTime()-g,r=h.loadingDuration-o;(r=r>0?r:0)>0&&p.debug("Response completed early delaying state change by",r),setTimeout(function(){p.is.abortedRequest(e)?p.request.rejectWith(i,[e,"aborted",n]):p.request.rejectWith(i,[e,"error",t,n])},r)}},request:{done:function(e,t){p.debug("Successful API Response",e),"local"===h.cache&&f&&(p.write.cachedResponse(f,e),p.debug("Saving server response locally",p.cache)),h.onSuccess.call(I,e,T,t)},complete:function(e,t){var n,i;p.was.succesful()?(i=e,n=t):(n=e,i=p.get.responseFromXHR(n)),p.remove.loading(),h.onComplete.call(I,i,T,n)},fail:function(e,t,n){var i=p.get.responseFromXHR(e),r=p.get.errorFromRequest(i,t,n);if("aborted"==t)return p.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",t,n),h.onAbort.call(I,t,T,e),!0;"invalid"==t?p.debug("JSON did not pass success test. A server-side error has most likely occurred",i):"error"==t&&void 0!==e&&(p.debug("XHR produced a server error",t,n),200!=e.status&&void 0!==n&&""!==n&&p.error(_.statusMessage+n,o.url),h.onError.call(I,r,T,e)),h.errorDuration&&"aborted"!==t&&(p.debug("Adding error state"),p.set.error(),p.should.removeError()&&setTimeout(p.remove.error,h.errorDuration)),p.debug("API Request failed",r,e),h.onFailure.call(I,i,T,e)}}},create:{request:function(){return e.Deferred().always(p.event.request.complete).done(p.event.request.done).fail(p.event.request.fail)},mockedXHR:function(){var t,n,i,o=h.mockResponse||h.response,r=h.mockResponseAsync||h.responseAsync;return i=e.Deferred().always(p.event.xhr.complete).done(p.event.xhr.done).fail(p.event.xhr.fail),o?(e.isFunction(o)?(p.debug("Using specified synchronous callback",o),n=o.call(I,d)):(p.debug("Using settings specified response",o),n=o),i.resolveWith(I,[n,!1,{responseText:n}])):e.isFunction(r)&&(t=function(e){p.debug("Async callback returned response",e),e?i.resolveWith(I,[e,!1,{responseText:e}]):i.rejectWith(I,[{responseText:e},!1,!1])},p.debug("Using specified async response callback",r),r.call(I,d,t)),i},xhr:function(){var t;return t=e.ajax(o).always(p.event.xhr.always).done(p.event.xhr.done).fail(p.event.xhr.fail),p.verbose("Created server request",t,o),t}},set:{error:function(){p.verbose("Adding error state to element",C),C.addClass(y.error)},loading:function(){p.verbose("Adding loading state to element",C),C.addClass(y.loading),g=(new Date).getTime()}},remove:{error:function(){p.verbose("Removing error state from element",C),C.removeClass(y.error)},loading:function(){p.verbose("Removing loading state from element",C),C.removeClass(y.loading)}},get:{responseFromXHR:function(t){return!!e.isPlainObject(t)&&(p.is.expectingJSON()?p.decode.json(t.responseText):t.responseText)},errorFromRequest:function(t,n,i){return e.isPlainObject(t)&&void 0!==t.error?t.error:void 0!==h.error[n]?h.error[n]:i},request:function(){return p.request||!1},xhr:function(){return p.xhr||!1},settings:function(){var t;return(t=h.beforeSend.call(I,h))&&(void 0!==t.success&&(p.debug("Legacy success callback detected",t),p.error(_.legacyParameters,t.success),t.onSuccess=t.success),void 0!==t.failure&&(p.debug("Legacy failure callback detected",t),p.error(_.legacyParameters,t.failure),t.onFailure=t.failure),void 0!==t.complete&&(p.debug("Legacy complete callback detected",t),p.error(_.legacyParameters,t.complete),t.onComplete=t.complete)),void 0===t&&p.error(_.noReturnedValue),!1===t?t:void 0!==t?e.extend(!0,{},t):e.extend(!0,{},h)},urlEncodedValue:function(e){var n=t.decodeURIComponent(e),i=t.encodeURIComponent(e);return n!==e?(p.debug("URL value is already encoded, avoiding double encoding",e),e):(p.verbose("Encoding value using encodeURIComponent",e,i),i)},defaultData:function(){var t={};return e.isWindow(E)||(p.is.input()?t.value=T.val():p.is.form()||(t.text=T.text())),t},event:function(){return e.isWindow(E)||"now"==h.on?(p.debug("API called without element, no events attached"),!1):"auto"==h.on?T.is("input")?void 0!==E.oninput?"input":void 0!==E.onpropertychange?"propertychange":"keyup":T.is("form")?"submit":"click":h.on},templatedURL:function(e){if(e=e||T.data(v.action)||h.action||!1,f=T.data(v.url)||h.url||!1)return p.debug("Using specified url",f),f;if(e){if(p.debug("Looking up url for action",e,h.api),void 0===h.api[e]&&!p.is.mocked())return void p.error(_.missingAction,h.action,h.api);f=h.api[e]}else p.is.form()&&(f=T.attr("action")||C.attr("action")||!1,p.debug("No url or action specified, defaulting to form action",f));return f}},abort:function(){var e=p.get.xhr();e&&"resolved"!==e.state()&&(p.debug("Cancelling API request"),e.abort())},reset:function(){p.remove.error(),p.remove.loading()},setting:function(t,n){if(p.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===n)return h[t];e.isPlainObject(h[t])?e.extend(!0,h[t],n):h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(void 0===n)return p[t];p[t]=n}},debug:function(){!h.silent&&h.debug&&(h.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,h.name+":"),p.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),p.verbose.apply(console,arguments)))},error:function(){h.silent||(p.error=Function.prototype.bind.call(console.error,console,h.name+":"),p.error.apply(console,arguments))},performance:{log:function(e){var t,n;h.performance&&(n=(t=(new Date).getTime())-(a||t),a=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,500)},display:function(){var t=h.name+":",n=0;a=!1,clearTimeout(p.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var r,a,s,l=P;return n=n||c,o=E||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,i){var o=n!=r?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=r)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[i])||n==r)return void 0!==l[i]?(a=l[i],!1):(p.error(_.method,t),!1);l=l[i]}})),e.isFunction(a)?s=a.apply(o,n):void 0!==a&&(s=a),e.isArray(i)?i.push(s):void 0!==i?i=[i,s]:void 0!==s&&(i=s),a}},u?(void 0===P&&p.initialize(),p.invoke(l)):(void 0!==P&&P.invoke("destroy"),p.initialize())}),void 0!==i?i:this},e.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2e3,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,response:!1,responseAsync:!1,beforeSend:function(e){return e},beforeXHR:function(e){},onRequest:function(e,t){},onResponse:!1,onSuccess:function(e,t){},onComplete:function(e,t){},onFailure:function(e,t){},onError:function(e,t){},onAbort:function(e,t){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.state=function(t){var i,o=e(this),r=o.selector||"",a=(n.documentElement,(new Date).getTime()),s=[],l=arguments[0],u="string"==typeof l,c=[].slice.call(arguments,1);return o.each(function(){var n,d=e.isPlainObject(t)?e.extend(!0,{},e.fn.state.settings,t):e.extend({},e.fn.state.settings),f=d.error,g=d.metadata,p=d.className,h=d.namespace,m=d.states,v=d.text,b="."+h,_=h+"-module",y=e(this),w=this,x=y.data(_);n={initialize:function(){n.verbose("Initializing module"),d.automatic&&n.add.defaults(),d.context&&""!==r?e(d.context).on(r,"mouseenter"+b,n.change.text).on(r,"mouseleave"+b,n.reset.text).on(r,"click"+b,n.toggle.state):y.on("mouseenter"+b,n.change.text).on("mouseleave"+b,n.reset.text).on("click"+b,n.toggle.state),n.instantiate()},instantiate:function(){n.verbose("Storing instance of module",n),x=n,y.data(_,n)},destroy:function(){n.verbose("Destroying previous module",x),y.off(b).removeData(_)},refresh:function(){n.verbose("Refreshing selector cache"),y=e(w)},add:{defaults:function(){var i=t&&e.isPlainObject(t.states)?t.states:{};e.each(d.defaults,function(t,o){void 0!==n.is[t]&&n.is[t]()&&(n.verbose("Adding default states",t,w),e.extend(d.states,o,i))})}},is:{active:function(){return y.hasClass(p.active)},loading:function(){return y.hasClass(p.loading)},inactive:function(){return!y.hasClass(p.active)},state:function(e){return void 0!==p[e]&&y.hasClass(p[e])},enabled:function(){return!y.is(d.filter.active)},disabled:function(){return y.is(d.filter.active)},textEnabled:function(){return!y.is(d.filter.text)},button:function(){return y.is(".button:not(a, .submit)")},input:function(){return y.is("input")},progress:function(){return y.is(".ui.progress")}},allow:function(e){n.debug("Now allowing state",e),m[e]=!0},disallow:function(e){n.debug("No longer allowing",e),m[e]=!1},allows:function(e){return m[e]||!1},enable:function(){y.removeClass(p.disabled)},disable:function(){y.addClass(p.disabled)},setState:function(e){n.allows(e)&&y.addClass(p[e])},removeState:function(e){n.allows(e)&&y.removeClass(p[e])},toggle:{state:function(){var t;if(n.allows("active")&&n.is.enabled()){if(n.refresh(),void 0!==e.fn.api)if(t=y.api("get request"),y.api("was cancelled"))n.debug("API Request cancelled by beforesend"),d.activateTest=function(){return!1},d.deactivateTest=function(){return!1};else if(t)return void n.listenTo(t);n.change.state()}}},listenTo:function(t){n.debug("API request detected, waiting for state signal",t),t&&(v.loading&&n.update.text(v.loading),e.when(t).then(function(){"resolved"==t.state()?(n.debug("API request succeeded"),d.activateTest=function(){return!0},d.deactivateTest=function(){return!0}):(n.debug("API request failed"),d.activateTest=function(){return!1},d.deactivateTest=function(){return!1}),n.change.state()}))},change:{state:function(){n.debug("Determining state change direction"),n.is.inactive()?n.activate():n.deactivate(),d.sync&&n.sync(),d.onChange.call(w)},text:function(){n.is.textEnabled()&&(n.is.disabled()?(n.verbose("Changing text to disabled text",v.hover),n.update.text(v.disabled)):n.is.active()?v.hover?(n.verbose("Changing text to hover text",v.hover),n.update.text(v.hover)):v.deactivate&&(n.verbose("Changing text to deactivating text",v.deactivate),n.update.text(v.deactivate)):v.hover?(n.verbose("Changing text to hover text",v.hover),n.update.text(v.hover)):v.activate&&(n.verbose("Changing text to activating text",v.activate),n.update.text(v.activate)))}},activate:function(){d.activateTest.call(w)&&(n.debug("Setting state to active"),y.addClass(p.active),n.update.text(v.active),d.onActivate.call(w))},deactivate:function(){d.deactivateTest.call(w)&&(n.debug("Setting state to inactive"),y.removeClass(p.active),n.update.text(v.inactive),d.onDeactivate.call(w))},sync:function(){n.verbose("Syncing other buttons to current state"),n.is.active()?o.not(y).state("activate"):o.not(y).state("deactivate")},get:{text:function(){return d.selector.text?y.find(d.selector.text).text():y.html()},textFor:function(e){return v[e]||!1}},flash:{text:function(e,t,i){var o=n.get.text();n.debug("Flashing text message",e,t),e=e||d.text.flash,t=t||d.flashDuration,i=i||function(){},n.update.text(e),setTimeout(function(){n.update.text(o),i.call(w)},t)}},reset:{text:function(){var e=v.active||y.data(g.storedText),t=v.inactive||y.data(g.storedText);n.is.textEnabled()&&(n.is.active()&&e?(n.verbose("Resetting active text",e),n.update.text(e)):t&&(n.verbose("Resetting inactive text",e),n.update.text(t)))}},update:{text:function(e){var t=n.get.text();e&&e!==t?(n.debug("Updating text",e),d.selector.text?y.data(g.storedText,e).find(d.selector.text).text(e):y.data(g.storedText,e).html(e)):n.debug("Text is already set, ignoring update",e)}},setting:function(t,i){if(n.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,d,t);else{if(void 0===i)return d[t];e.isPlainObject(d[t])?e.extend(!0,d[t],i):d[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,n,t);else{if(void 0===i)return n[t];n[t]=i}},debug:function(){!d.silent&&d.debug&&(d.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,d.name+":"),n.debug.apply(console,arguments)))},verbose:function(){!d.silent&&d.verbose&&d.debug&&(d.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),n.verbose.apply(console,arguments)))},error:function(){d.silent||(n.error=Function.prototype.bind.call(console.error,console,d.name+":"),n.error.apply(console,arguments))},performance:{log:function(e){var t,i;d.performance&&(i=(t=(new Date).getTime())-(a||t),a=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:w,"Execution Time":i})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,500)},display:function(){var t=d.name+":",i=0;a=!1,clearTimeout(n.performance.timer),e.each(s,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",r&&(t+=" '"+r+"'"),(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,o,r){var a,s,l,u=x;return o=o||c,r=w||r,"string"==typeof t&&void 0!==u&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(i,o){var r=i!=a?o+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(u[r])&&i!=a)u=u[r];else{if(void 0!==u[r])return s=u[r],!1;if(!e.isPlainObject(u[o])||i==a)return void 0!==u[o]?(s=u[o],!1):(n.error(f.method,t),!1);u=u[o]}})),e.isFunction(s)?l=s.apply(r,o):void 0!==s&&(l=s),e.isArray(i)?i.push(l):void 0!==i?i=[i,l]:void 0!==l&&(i=l),s}},u?(void 0===x&&n.initialize(),n.invoke(l)):(void 0!==x&&x.invoke("destroy"),n.initialize())}),void 0!==i?i:this},e.fn.state.settings={name:"State",debug:!1,verbose:!1,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.visibility=function(i){var o,r=e(this),a=r.selector||"",s=(new Date).getTime(),l=[],u=arguments[0],c="string"==typeof u,d=[].slice.call(arguments,1),f=r.length,g=0;return r.each(function(){var r,p,h,m,v=e.isPlainObject(i)?e.extend(!0,{},e.fn.visibility.settings,i):e.extend({},e.fn.visibility.settings),b=v.className,_=v.namespace,y=v.error,w=v.metadata,x="."+_,T="module-"+_,S=e(t),C=e(this),E=e(v.context),I=(C.selector,C.data(T)),P=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},k=this,A=!1;m={initialize:function(){m.debug("Initializing",v),m.setup.cache(),m.should.trackChanges()&&("image"==v.type&&m.setup.image(),"fixed"==v.type&&m.setup.fixed(),v.observeChanges&&m.observeChanges(),m.bind.events()),m.save.position(),m.is.visible()||m.error(y.visible,C),v.initialCheck&&m.checkVisibility(),m.instantiate()},instantiate:function(){m.debug("Storing instance",m),C.data(T,m),I=m},destroy:function(){m.verbose("Destroying previous module"),h&&h.disconnect(),p&&p.disconnect(),S.off("load"+x,m.event.load).off("resize"+x,m.event.resize),E.off("scroll"+x,m.event.scroll).off("scrollchange"+x,m.event.scrollchange),"fixed"==v.type&&(m.resetFixed(),m.remove.placeholder()),C.off(x).removeData(T)},observeChanges:function(){"MutationObserver"in t&&(p=new MutationObserver(m.event.contextChanged),h=new MutationObserver(m.event.changed),p.observe(n,{childList:!0,subtree:!0}),h.observe(k,{childList:!0,subtree:!0}),m.debug("Setting up mutation observer",h))},bind:{events:function(){m.verbose("Binding visibility events to scroll and resize"),v.refreshOnLoad&&S.on("load"+x,m.event.load),S.on("resize"+x,m.event.resize),E.off("scroll"+x).on("scroll"+x,m.event.scroll).on("scrollchange"+x,m.event.scrollchange)}},event:{changed:function(e){m.verbose("DOM tree modified, updating visibility calculations"),m.timer=setTimeout(function(){m.verbose("DOM tree modified, updating sticky menu"),m.refresh()},100)},contextChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==k||e(t).find(k).length>0)&&(m.debug("Element removed from DOM, tearing down events"),m.destroy())})})},resize:function(){m.debug("Window resized"),v.refreshOnResize&&P(m.refresh)},load:function(){m.debug("Page finished loading"),P(m.refresh)},scroll:function(){v.throttle?(clearTimeout(m.timer),m.timer=setTimeout(function(){E.triggerHandler("scrollchange"+x,[E.scrollTop()])},v.throttle)):P(function(){E.triggerHandler("scrollchange"+x,[E.scrollTop()])})},scrollchange:function(e,t){m.checkVisibility(t)}},precache:function(t,i){t instanceof Array||(t=[t]);for(var o=t.length,r=0,a=[],s=n.createElement("img"),l=function(){++r>=t.length&&e.isFunction(i)&&i()};o--;)(s=n.createElement("img")).onload=l,s.onerror=l,s.src=t[o],a.push(s)},enableCallbacks:function(){m.debug("Allowing callbacks to occur"),A=!1},disableCallbacks:function(){m.debug("Disabling all callbacks temporarily"),A=!0},should:{trackChanges:function(){return c?(m.debug("One time query, no need to bind events"),!1):(m.debug("Callbacks being attached"),!0)}},setup:{cache:function(){m.cache={occurred:{},screen:{},element:{}}},image:function(){var e=C.data(w.src);e&&(m.verbose("Lazy loading image",e),v.once=!0,v.observeChanges=!1,v.onOnScreen=function(){m.debug("Image on screen",k),m.precache(e,function(){m.set.image(e,function(){++g==f&&v.onAllLoaded.call(this),v.onLoad.call(this)})})})},fixed:function(){m.debug("Setting up fixed"),v.once=!1,v.observeChanges=!1,v.initialCheck=!0,v.refreshOnLoad=!0,i.transition||(v.transition=!1),m.create.placeholder(),m.debug("Added placeholder",r),v.onTopPassed=function(){m.debug("Element passed, adding fixed position",C),m.show.placeholder(),m.set.fixed(),v.transition&&void 0!==e.fn.transition&&C.transition(v.transition,v.duration)},v.onTopPassedReverse=function(){m.debug("Element returned to position, removing fixed",C),m.hide.placeholder(),m.remove.fixed()}}},create:{placeholder:function(){m.verbose("Creating fixed position placeholder"),r=C.clone(!1).css("display","none").addClass(b.placeholder).insertAfter(C)}},show:{placeholder:function(){m.verbose("Showing placeholder"),r.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){m.verbose("Hiding placeholder"),r.css("display","none").css("visibility","")}},set:{fixed:function(){m.verbose("Setting element to fixed position"),C.addClass(b.fixed).css({position:"fixed",top:v.offset+"px",left:"auto",zIndex:v.zIndex}),v.onFixed.call(k)},image:function(t,n){if(C.attr("src",t),v.transition)if(void 0!==e.fn.transition){if(C.hasClass(b.visible))return void m.debug("Transition already occurred on this image, skipping animation");C.transition(v.transition,v.duration,n)}else C.fadeIn(v.duration,n);else C.show()}},is:{onScreen:function(){return m.get.elementCalculations().onScreen},offScreen:function(){return m.get.elementCalculations().offScreen},visible:function(){return!(!m.cache||!m.cache.element||0===m.cache.element.width&&0===m.cache.element.offset.top)},verticallyScrollableContext:function(){var e=E.get(0)!==t&&E.css("overflow-y");return"auto"==e||"scroll"==e},horizontallyScrollableContext:function(){var e=E.get(0)!==t&&E.css("overflow-x");return"auto"==e||"scroll"==e}},refresh:function(){m.debug("Refreshing constants (width/height)"),"fixed"==v.type&&m.resetFixed(),m.reset(),m.save.position(),v.checkOnRefresh&&m.checkVisibility(),v.onRefresh.call(k)},resetFixed:function(){m.remove.fixed(),m.remove.occurred()},reset:function(){m.verbose("Resetting all cached values"),e.isPlainObject(m.cache)&&(m.cache.screen={},m.cache.element={})},checkVisibility:function(e){m.verbose("Checking visibility of element",m.cache.element),!A&&m.is.visible()&&(m.save.scroll(e),m.save.calculations(),m.passed(),m.passingReverse(),m.topVisibleReverse(),m.bottomVisibleReverse(),m.topPassedReverse(),m.bottomPassedReverse(),m.onScreen(),m.offScreen(),m.passing(),m.topVisible(),m.bottomVisible(),m.topPassed(),m.bottomPassed(),v.onUpdate&&v.onUpdate.call(k,m.get.elementCalculations()))},passed:function(t,n){var i=m.get.elementCalculations();if(t&&n)v.onPassed[t]=n;else{if(void 0!==t)return m.get.pixelsPassed(t)>i.pixelsPassed;i.passing&&e.each(v.onPassed,function(e,t){i.bottomVisible||i.pixelsPassed>m.get.pixelsPassed(e)?m.execute(t,e):v.once||m.remove.occurred(t)})}},onScreen:function(e){var t=m.get.elementCalculations(),n=e||v.onOnScreen;if(e&&(m.debug("Adding callback for onScreen",e),v.onOnScreen=e),t.onScreen?m.execute(n,"onScreen"):v.once||m.remove.occurred("onScreen"),void 0!==e)return t.onOnScreen},offScreen:function(e){var t=m.get.elementCalculations(),n=e||v.onOffScreen;if(e&&(m.debug("Adding callback for offScreen",e),v.onOffScreen=e),t.offScreen?m.execute(n,"offScreen"):v.once||m.remove.occurred("offScreen"),void 0!==e)return t.onOffScreen},passing:function(e){var t=m.get.elementCalculations(),n=e||v.onPassing;if(e&&(m.debug("Adding callback for passing",e),v.onPassing=e),t.passing?m.execute(n,"passing"):v.once||m.remove.occurred("passing"),void 0!==e)return t.passing},topVisible:function(e){var t=m.get.elementCalculations(),n=e||v.onTopVisible;if(e&&(m.debug("Adding callback for top visible",e),v.onTopVisible=e),t.topVisible?m.execute(n,"topVisible"):v.once||m.remove.occurred("topVisible"),void 0===e)return t.topVisible},bottomVisible:function(e){var t=m.get.elementCalculations(),n=e||v.onBottomVisible;if(e&&(m.debug("Adding callback for bottom visible",e),v.onBottomVisible=e),t.bottomVisible?m.execute(n,"bottomVisible"):v.once||m.remove.occurred("bottomVisible"),void 0===e)return t.bottomVisible},topPassed:function(e){var t=m.get.elementCalculations(),n=e||v.onTopPassed;if(e&&(m.debug("Adding callback for top passed",e),v.onTopPassed=e),t.topPassed?m.execute(n,"topPassed"):v.once||m.remove.occurred("topPassed"),void 0===e)return t.topPassed},bottomPassed:function(e){var t=m.get.elementCalculations(),n=e||v.onBottomPassed;if(e&&(m.debug("Adding callback for bottom passed",e),v.onBottomPassed=e),t.bottomPassed?m.execute(n,"bottomPassed"):v.once||m.remove.occurred("bottomPassed"),void 0===e)return t.bottomPassed},passingReverse:function(e){var t=m.get.elementCalculations(),n=e||v.onPassingReverse;if(e&&(m.debug("Adding callback for passing reverse",e),v.onPassingReverse=e),t.passing?v.once||m.remove.occurred("passingReverse"):m.get.occurred("passing")&&m.execute(n,"passingReverse"),void 0!==e)return!t.passing},topVisibleReverse:function(e){var t=m.get.elementCalculations(),n=e||v.onTopVisibleReverse;if(e&&(m.debug("Adding callback for top visible reverse",e),v.onTopVisibleReverse=e),t.topVisible?v.once||m.remove.occurred("topVisibleReverse"):m.get.occurred("topVisible")&&m.execute(n,"topVisibleReverse"),void 0===e)return!t.topVisible},bottomVisibleReverse:function(e){var t=m.get.elementCalculations(),n=e||v.onBottomVisibleReverse;if(e&&(m.debug("Adding callback for bottom visible reverse",e),v.onBottomVisibleReverse=e),t.bottomVisible?v.once||m.remove.occurred("bottomVisibleReverse"):m.get.occurred("bottomVisible")&&m.execute(n,"bottomVisibleReverse"),void 0===e)return!t.bottomVisible},topPassedReverse:function(e){var t=m.get.elementCalculations(),n=e||v.onTopPassedReverse;if(e&&(m.debug("Adding callback for top passed reverse",e),v.onTopPassedReverse=e),t.topPassed?v.once||m.remove.occurred("topPassedReverse"):m.get.occurred("topPassed")&&m.execute(n,"topPassedReverse"),void 0===e)return!t.onTopPassed},bottomPassedReverse:function(e){var t=m.get.elementCalculations(),n=e||v.onBottomPassedReverse;if(e&&(m.debug("Adding callback for bottom passed reverse",e),v.onBottomPassedReverse=e),t.bottomPassed?v.once||m.remove.occurred("bottomPassedReverse"):m.get.occurred("bottomPassed")&&m.execute(n,"bottomPassedReverse"),void 0===e)return!t.bottomPassed},execute:function(e,t){var n=m.get.elementCalculations(),i=m.get.screenCalculations();(e=e||!1)&&(v.continuous?(m.debug("Callback being called continuously",t,n),e.call(k,n,i)):m.get.occurred(t)||(m.debug("Conditions met",t,n),e.call(k,n,i))),m.save.occurred(t)},remove:{fixed:function(){m.debug("Removing fixed position"),C.removeClass(b.fixed).css({position:"",top:"",left:"",zIndex:""}),v.onUnfixed.call(k)},placeholder:function(){m.debug("Removing placeholder content"),r&&r.remove()},occurred:function(e){if(e){var t=m.cache.occurred;void 0!==t[e]&&!0===t[e]&&(m.debug("Callback can now be called again",e),m.cache.occurred[e]=!1)}else m.cache.occurred={}}},save:{calculations:function(){m.verbose("Saving all calculations necessary to determine positioning"),m.save.direction(),m.save.screenCalculations(),m.save.elementCalculations()},occurred:function(e){e&&(void 0!==m.cache.occurred[e]&&!0===m.cache.occurred[e]||(m.verbose("Saving callback occurred",e),m.cache.occurred[e]=!0))},scroll:function(e){e=e+v.offset||E.scrollTop()+v.offset,m.cache.scroll=e},direction:function(){var e,t=m.get.scroll(),n=m.get.lastScroll();return e=t>n&&n?"down":t<n&&n?"up":"static",m.cache.direction=e,m.cache.direction},elementPosition:function(){var e=m.cache.element,t=m.get.screenSize();return m.verbose("Saving element position"),e.fits=e.height<t.height,e.offset=C.offset(),e.width=C.outerWidth(),e.height=C.outerHeight(),m.is.verticallyScrollableContext()&&(e.offset.top+=E.scrollTop()-E.offset().top),m.is.horizontallyScrollableContext()&&(e.offset.left+=E.scrollLeft-E.offset().left),m.cache.element=e,e},elementCalculations:function(){var e=m.get.screenCalculations(),t=m.get.elementPosition();return v.includeMargin?(t.margin={},t.margin.top=parseInt(C.css("margin-top"),10),t.margin.bottom=parseInt(C.css("margin-bottom"),10),t.top=t.offset.top-t.margin.top,t.bottom=t.offset.top+t.height+t.margin.bottom):(t.top=t.offset.top,t.bottom=t.offset.top+t.height),t.topPassed=e.top>=t.top,t.bottomPassed=e.top>=t.bottom,t.topVisible=e.bottom>=t.top&&!t.bottomPassed,t.bottomVisible=e.bottom>=t.bottom&&!t.topPassed,t.pixelsPassed=0,t.percentagePassed=0,t.onScreen=t.topVisible&&!t.bottomPassed,t.passing=t.topPassed&&!t.bottomPassed,t.offScreen=!t.onScreen,t.passing&&(t.pixelsPassed=e.top-t.top,t.percentagePassed=(e.top-t.top)/t.height),m.cache.element=t,m.verbose("Updated element calculations",t),t},screenCalculations:function(){var e=m.get.scroll();return m.save.direction(),m.cache.screen.top=e,m.cache.screen.bottom=e+m.cache.screen.height,m.cache.screen},screenSize:function(){m.verbose("Saving window position"),m.cache.screen={height:E.height()}},position:function(){m.save.screenSize(),m.save.elementPosition()}},get:{pixelsPassed:function(e){var t=m.get.elementCalculations();return e.search("%")>-1?t.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return void 0!==m.cache.occurred&&(m.cache.occurred[e]||!1)},direction:function(){return void 0===m.cache.direction&&m.save.direction(),m.cache.direction},elementPosition:function(){return void 0===m.cache.element&&m.save.elementPosition(),m.cache.element},elementCalculations:function(){return void 0===m.cache.element&&m.save.elementCalculations(),m.cache.element},screenCalculations:function(){return void 0===m.cache.screen&&m.save.screenCalculations(),m.cache.screen},screenSize:function(){return void 0===m.cache.screen&&m.save.screenSize(),m.cache.screen},scroll:function(){return void 0===m.cache.scroll&&m.save.scroll(),m.cache.scroll},lastScroll:function(){return void 0===m.cache.screen?(m.debug("First scroll event, no last scroll could be found"),!1):m.cache.screen.top}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,v,t);else{if(void 0===n)return v[t];v[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(void 0===n)return m[t];m[t]=n}},debug:function(){!v.silent&&v.debug&&(v.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,v.name+":"),m.debug.apply(console,arguments)))},verbose:function(){!v.silent&&v.verbose&&v.debug&&(v.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,v.name+":"),m.verbose.apply(console,arguments)))},error:function(){v.silent||(m.error=Function.prototype.bind.call(console.error,console,v.name+":"),m.error.apply(console,arguments))},performance:{log:function(e){var t,n;v.performance&&(n=(t=(new Date).getTime())-(s||t),s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:k,"Execution Time":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var t=v.name+":",n=0;s=!1,clearTimeout(m.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,i){var r,a,s,l=I;return n=n||d,i=k||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,i){var o=n!=r?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=r)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[i])||n==r)return void 0!==l[i]?(a=l[i],!1):(m.error(y.method,t),!1);l=l[i]}})),e.isFunction(a)?s=a.apply(i,n):void 0!==a&&(s=a),e.isArray(o)?o.push(s):void 0!==o?o=[o,s]:void 0!==s&&(o=s),a}},c?(void 0===I&&m.initialize(),I.save.scroll(),I.save.calculations(),m.invoke(u)):(void 0!==I&&I.invoke("destroy"),m.initialize())}),void 0!==o?o:this},e.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:t,throttle:!1,type:!1,zIndex:"10",transition:"fade in",duration:1e3,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onLoad:function(){},onAllLoaded:function(){},onFixed:function(){},onUnfixed:function(){},onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder",visible:"visible"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document),$.fn.NewWaterfall=function(e){var t={width:360,delay:60,repeatShow:!1},n=$.extend({},t,e),i=this,o=function(e){$(window).scrollTop()+$(window).height()>$(e).offset().top?$(e).addClass("show"):$(window).scrollTop()+$(window).height()<$(e).offset().top&&n.repeatShow&&$(e).removeClass("show")},r=function(){if(!(i.length<=0)){i.css({position:"relative"});var e=$(i).children("li");if(!(e.length<=0)){var t=$(i).width(),r=parseInt(t/n.width);e.length<r&&(r=e.length);var a=(t-r*n.width)/2;if(r>0){$(i).removeClass("min"),e.css({position:"absolute",width:n.width});for(var s=0,l=[],u=[],c=0;c<e.length;c++)l.push({index:c,bottom:0,height:$(e[c]).height()});for(c=0;c<r;c++)u.push([]);for(c=0;c<e.length;c++)if(c<r)l[c].bottom=l[c].height,u[c].push(l[c]);else{for(var d=0,f=0,g=0;g<r;g++){var p=u[g][u[g].length-1].bottom+l[c].height;(0==d||p<d)&&(d=p,f=g)}l[c].bottom=d,u[f].push(l[c])}for(c=0;c<u.length;c++)for(g=0;g<u[c].length;g++)$(e[u[c][g].index]).css({left:c*n.width+a,top:u[c][g].bottom-u[c][g].height});for(c=0;c<u.length;c++){var h=u[c][u[c].length-1].bottom;s<h&&(s=h)}$(i).css("height",s)}else e.attr("style",""),i.attr("style",""),$(i).addClass("min");for(c=0;c<e.length;c++)o(e[c])}}};r(),setInterval(r,n.delay)};var $jscomp={scope:{},findInternal:function(e,t,n){e instanceof String&&(e=String(e));for(var i=e.length,o=0;o<i;o++){var r=e[o];if(t.call(n,r,o,e))return{i:o,v:r}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,n,i){if(t){for(n=$jscomp.global,e=e.split("."),i=0;i<e.length-1;i++){var o=e[i];o in n||(n[o]={}),n=n[o]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&$jscomp.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.find",function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}},"es6-impl","es3"),function(e,t,n){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(t||n)}(function(e){var t=function(t,n,i){var o={invalid:[],getCaret:function(){try{var e,n=0,i=t.get(0),r=document.selection,a=i.selectionStart;return r&&-1===navigator.appVersion.indexOf("MSIE 10")?((e=r.createRange()).moveStart("character",-o.val().length),n=e.text.length):(a||"0"===a)&&(n=a),n}catch(e){}},setCaret:function(e){try{if(t.is(":focus")){var n,i=t.get(0);i.setSelectionRange?i.setSelectionRange(e,e):((n=i.createTextRange()).collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select())}}catch(e){}},events:function(){t.on("keydown.mask",function(e){t.data("mask-keycode",e.keyCode||e.which),t.data("mask-previus-value",t.val()),t.data("mask-previus-caret-pos",o.getCaret()),o.maskDigitPosMapOld=o.maskDigitPosMap}).on(e.jMaskGlobals.useInput?"input.mask":"keyup.mask",o.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){t.keydown().keyup()},100)}).on("change.mask",function(){t.data("changed",!0)}).on("blur.mask",function(){s===o.val()||t.data("changed")||t.trigger("change"),t.data("changed",!1)}).on("blur.mask",function(){s=o.val()}).on("focus.mask",function(t){!0===i.selectOnFocus&&e(t.target).select()}).on("focusout.mask",function(){i.clearIfNotMatch&&!r.test(o.val())&&o.val("")})},getRegexMask:function(){for(var e,t,i,o,r=[],s=0;s<n.length;s++)(e=a.translation[n.charAt(s)])?(t=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),i=e.optional,(e=e.recursive)?(r.push(n.charAt(s)),o={digit:n.charAt(s),pattern:t}):r.push(i||e?t+"?":t)):r.push(n.charAt(s).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return r=r.join(""),o&&(r=r.replace(new RegExp("("+o.digit+"(.*"+o.digit+")?)"),"($1)?").replace(new RegExp(o.digit,"g"),o.pattern)),new RegExp(r)},destroyEvents:function(){t.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(e){var n=t.is("input")?"val":"text";return 0<arguments.length?(t[n]()!==e&&t[n](e),n=t):n=t[n](),n},calculateCaretPosition:function(){var e=t.data("mask-previus-value")||"",n=o.getMasked(),i=o.getCaret();if(e!==n){var r,a=t.data("mask-previus-caret-pos")||0,n=n.length,s=e.length,l=e=0,u=0,c=0;for(r=i;r<n&&o.maskDigitPosMap[r];r++)l++;for(r=i-1;0<=r&&o.maskDigitPosMap[r];r--)e++;for(r=i-1;0<=r;r--)o.maskDigitPosMap[r]&&u++;for(r=a-1;0<=r;r--)o.maskDigitPosMapOld[r]&&c++;i>s?i=n:a>=i&&a!==s?o.maskDigitPosMapOld[i]||(a=i,i=i-(c-u)-e,o.maskDigitPosMap[i]&&(i=a)):i>a&&(i=i+(u-c)+l)}return i},behaviour:function(n){n=n||window.event,o.invalid=[];i=t.data("mask-keycode");if(-1===e.inArray(i,a.byPassKeys)){var i=o.getMasked(),r=o.getCaret();return setTimeout(function(){o.setCaret(o.calculateCaretPosition())},10),o.val(i),o.setCaret(r),o.callbacks(n)}},getMasked:function(e,t){var r,s,l=[],u=void 0===t?o.val():t+"",c=0,d=n.length,f=0,g=u.length,p=1,h="push",m=-1,v=0,b=[];i.reverse?(h="unshift",p=-1,r=0,c=d-1,f=g-1,s=function(){return-1<c&&-1<f}):(r=d-1,s=function(){return c<d&&f<g});for(var _;s();){var y=n.charAt(c),w=u.charAt(f),x=a.translation[y];x?(w.match(x.pattern)?(l[h](w),x.recursive&&(-1===m?m=c:c===r&&(c=m-p),r===m&&(c-=p)),c+=p):w===_?(v--,_=void 0):x.optional?(c+=p,f-=p):x.fallback?(l[h](x.fallback),c+=p,f-=p):o.invalid.push({p:f,v:w,e:x.pattern}),f+=p):(e||l[h](y),w===y?(b.push(f),f+=p):(_=y,b.push(f+v),v++),c+=p)}return u=n.charAt(r),d!==g+1||a.translation[u]||l.push(u),l=l.join(""),o.mapMaskdigitPositions(l,b,g),l},mapMaskdigitPositions:function(e,t,n){for(e=i.reverse?e.length-n:0,o.maskDigitPosMap={},n=0;n<t.length;n++)o.maskDigitPosMap[t[n]+e]=1},callbacks:function(e){var r=o.val(),a=r!==s,l=[r,e,t,i],u=function(e,t,n){"function"==typeof i[e]&&t&&i[e].apply(this,n)};u("onChange",!0===a,l),u("onKeyPress",!0===a,l),u("onComplete",r.length===n.length,l),u("onInvalid",0<o.invalid.length,[r,e,t,o.invalid,i])}};t=e(t);var r,a=this,s=o.val();n="function"==typeof n?n(o.val(),void 0,t,i):n,a.mask=n,a.options=i,a.remove=function(){var e=o.getCaret();return o.destroyEvents(),o.val(a.getCleanVal()),o.setCaret(e),t},a.getCleanVal=function(){return o.getMasked(!0)},a.getMaskedVal=function(e){return o.getMasked(!1,e)},a.init=function(s){if(s=s||!1,i=i||{},a.clearIfNotMatch=e.jMaskGlobals.clearIfNotMatch,a.byPassKeys=e.jMaskGlobals.byPassKeys,a.translation=e.extend({},e.jMaskGlobals.translation,i.translation),a=e.extend(!0,{},a,i),r=o.getRegexMask(),s)o.events(),o.val(o.getMasked());else{i.placeholder&&t.attr("placeholder",i.placeholder),t.data("mask")&&t.attr("autocomplete","off"),s=0;for(var l=!0;s<n.length;s++){var u=a.translation[n.charAt(s)];if(u&&u.recursive){l=!1;break}}l&&t.attr("maxlength",n.length),o.destroyEvents(),o.events(),s=o.getCaret(),o.val(o.getMasked()),o.setCaret(s)}},a.init(!t.is("input"))};e.maskWatchers={};var n=function(){var n=e(this),o={},r=n.attr("data-mask");if(n.attr("data-mask-reverse")&&(o.reverse=!0),n.attr("data-mask-clearifnotmatch")&&(o.clearIfNotMatch=!0),"true"===n.attr("data-mask-selectonfocus")&&(o.selectOnFocus=!0),i(n,r,o))return n.data("mask",new t(this,r,o))},i=function(t,n,i){i=i||{};var o=e(t).data("mask"),r=JSON.stringify;t=e(t).val()||e(t).text();try{return"function"==typeof n&&(n=n(t)),"object"!=typeof o||r(o.options)!==r(i)||o.mask!==n}catch(e){}},o=function(e){var t,n=document.createElement("div");return e="on"+e,(t=e in n)||(n.setAttribute(e,"return;"),t="function"==typeof n[e]),t};e.fn.mask=function(n,o){o=o||{};var r=this.selector,a=(s=e.jMaskGlobals).watchInterval,s=o.watchInputs||s.watchInputs,l=function(){if(i(this,n,o))return e(this).data("mask",new t(this,n,o))};return e(this).each(l),r&&""!==r&&s&&(clearInterval(e.maskWatchers[r]),e.maskWatchers[r]=setInterval(function(){e(document).find(r).each(l)},a)),this},e.fn.masked=function(e){return this.data("mask").getMaskedVal(e)},e.fn.unmask=function(){return clearInterval(e.maskWatchers[this.selector]),delete e.maskWatchers[this.selector],this.each(function(){var t=e(this).data("mask");t&&t.remove().removeData("mask")})},e.fn.cleanVal=function(){return this.data("mask").getCleanVal()},e.applyDataMask=function(t){((t=t||e.jMaskGlobals.maskElements)instanceof e?t:e(t)).filter(e.jMaskGlobals.dataMaskAttr).each(n)},o={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&o("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}},e.jMaskGlobals=e.jMaskGlobals||{},(o=e.jMaskGlobals=e.extend(!0,{},o,e.jMaskGlobals)).dataMask&&e.applyDataMask(),setInterval(function(){e.jMaskGlobals.watchDataMask&&e.applyDataMask()},o.watchInterval)},window.jQuery,window.Zepto);var g_ugFunctions=new UGFunctions;!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var a=t||window.event,s=l.call(arguments,1),u=0,c=0,d=0,f=0;if(t=e.event.fix(a),t.type="mousewheel","detail"in a&&(d=-1*a.detail),"wheelDelta"in a&&(d=a.wheelDelta),"wheelDeltaY"in a&&(d=a.wheelDeltaY),"wheelDeltaX"in a&&(c=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(c=-1*d,d=0),u=0===d?c:d,"deltaY"in a&&(d=-1*a.deltaY,u=d),"deltaX"in a&&(c=a.deltaX,0===d&&(u=-1*c)),0!==d||0!==c){if(1===a.deltaMode){var g=e.data(this,"mousewheel-line-height");u*=g,d*=g,c*=g}else if(2===a.deltaMode){var p=e.data(this,"mousewheel-page-height");u*=p,d*=p,c*=p}return f=Math.max(Math.abs(d),Math.abs(c)),(!r||r>f)&&(r=f,i(a,f)&&(r/=40)),i(a,f)&&(u/=40,c/=40,d/=40),u=Math[u>=1?"floor":"ceil"](u/r),c=Math[c>=1?"floor":"ceil"](c/r),d=Math[d>=1?"floor":"ceil"](d/r),t.deltaX=c,t.deltaY=d,t.deltaFactor=r,t.deltaMode=0,s.unshift(t,u,c,d),o&&clearTimeout(o),o=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){r=null}function i(e,t){return c.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var o,r,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var u=a.length;u;)e.event.fixHooks[a[--u]]=e.event.mouseHooks;var c=e.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",c.getLineHeight(this)),e.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=s.length;e;)this.removeEventListener(s[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(t){return parseInt(e(t)["offsetParent"in e.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof module&&"object"==typeof module.exports?exports=e(require("jquery")):e(jQuery)}(function(e){function t(e){var t=7.5625,n=2.75;return 1/n>e?t*e*e:2/n>e?t*(e-=1.5/n)*e+.75:2.5/n>e?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375}e.easing.jswing=e.easing.swing;var n=Math.pow,i=Math.sqrt,o=Math.sin,r=Math.cos,a=Math.PI,s=1.70158,l=1.525*s,u=s+1,c=2*a/3,d=2*a/4.5;e.extend(e.easing,{def:"easeOutQuad",swing:function(t){return e.easing[e.easing.def](t)},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return.5>e?2*e*e:1-n(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-n(1-e,3)},easeInOutCubic:function(e){return.5>e?4*e*e*e:1-n(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-n(1-e,4)},easeInOutQuart:function(e){return.5>e?8*e*e*e*e:1-n(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-n(1-e,5)},easeInOutQuint:function(e){return.5>e?16*e*e*e*e*e:1-n(-2*e+2,5)/2},easeInSine:function(e){return 1-r(e*a/2)},easeOutSine:function(e){return o(e*a/2)},easeInOutSine:function(e){return-(r(a*e)-1)/2},easeInExpo:function(e){return 0===e?0:n(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-n(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:.5>e?n(2,20*e-10)/2:(2-n(2,-20*e+10))/2},easeInCirc:function(e){return 1-i(1-n(e,2))},easeOutCirc:function(e){return i(1-n(e-1,2))},easeInOutCirc:function(e){return.5>e?(1-i(1-n(2*e,2)))/2:(i(1-n(-2*e+2,2))+1)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-n(2,10*e-10)*o((10*e-10.75)*c)},easeOutElastic:function(e){return 0===e?0:1===e?1:n(2,-10*e)*o((10*e-.75)*c)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:.5>e?-n(2,20*e-10)*o((20*e-11.125)*d)/2:n(2,-20*e+10)*o((20*e-11.125)*d)/2+1},easeInBack:function(e){return u*e*e*e-s*e*e},easeOutBack:function(e){return 1+u*n(e-1,3)+s*n(e-1,2)},easeInOutBack:function(e){return.5>e?n(2*e,2)*(2*(l+1)*e-l)/2:(n(2*e-2,2)*((l+1)*(2*e-2)+l)+2)/2},easeInBounce:function(e){return 1-t(1-e)},easeOutBounce:t,easeInOutBounce:function(e){return.5>e?(1-t(1-2*e))/2:(1+t(2*e-1))/2}})}),function(e,t){function n(e,t,n){var i=c[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:i.max<e?i.max:e)}function i(t){var n=l(),i=n._rgba=[];return t=t.toLowerCase(),g(s,function(e,o){var r,a=o.re.exec(t),s=a&&o.parse(a),l=o.space||"rgba";return s?(r=n[l](s),n[u[l].cache]=r[u[l].cache],i=n._rgba=r._rgba,!1):void 0}),i.length?("0,0,0,0"===i.join()&&e.extend(i,r.transparent),n):r[t]}function o(e,t,n){return 1>6*(n=(n+1)%1)?e+(t-e)*n*6:1>2*n?t:2>3*n?e+(t-e)*(2/3-n)*6:e}if(void 0===e.cssHooks)return!1;var r,a=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,n,i,o){return new e.Color.fn.parse(t,n,i,o)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},f=e("<p>")[0],g=e.each;f.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=f.style.backgroundColor.indexOf("rgba")>-1,g(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(o,a,s,c){if(o===t)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=e(o).css(a),a=t);var d=this,f=e.type(o),p=this._rgba=[];return a!==t&&(o=[o,a,s,c],f="array"),"string"===f?this.parse(i(o)||r._default):"array"===f?(g(u.rgba.props,function(e,t){p[t.idx]=n(o[t.idx],t)}),this):"object"===f?(o instanceof l?g(u,function(e,t){o[t.cache]&&(d[t.cache]=o[t.cache].slice())}):g(u,function(t,i){var r=i.cache;g(i.props,function(e,t){if(!d[r]&&i.to){if("alpha"===e||null==o[e])return;d[r]=i.to(d._rgba)}d[r][t.idx]=n(o[e],t,!0)}),d[r]&&e.inArray(null,d[r].slice(0,3))<0&&(d[r][3]=1,i.from&&(d._rgba=i.from(d[r])))}),this):void 0},is:function(e){var t=l(e),n=!0,i=this;return g(u,function(e,o){var r,a=t[o.cache];return a&&(r=i[o.cache]||o.to&&o.to(i._rgba)||[],g(o.props,function(e,t){return null!=a[t.idx]?n=a[t.idx]===r[t.idx]:void 0})),n}),n},_space:function(){var e=[],t=this;return g(u,function(n,i){t[i.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var i=l(e),o=i._space(),r=u[o],a=0===this.alpha()?l("transparent"):this,s=a[r.cache]||r.to(a._rgba),d=s.slice();return i=i[r.cache],g(r.props,function(e,o){var r=o.idx,a=s[r],l=i[r],u=c[o.type]||{};null!==l&&(null===a?d[r]=l:(u.mod&&(l-a>u.mod/2?a+=u.mod:a-l>u.mod/2&&(a-=u.mod)),d[r]=n((l-a)*t+a,o)))}),this[o](d)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),o=l(t)._rgba;return l(e.map(n,function(e,t){return(1-i)*o[t]+i*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+e.map(n,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,o=e[1]/255,r=e[2]/255,a=e[3],s=Math.max(i,o,r),l=Math.min(i,o,r),u=s-l,c=s+l,d=.5*c;return t=l===s?0:i===s?60*(o-r)/u+360:o===s?60*(r-i)/u+120:60*(i-o)/u+240,n=0===u?0:.5>=d?u/c:u/(2-c),[Math.round(t)%360,n,d,null==a?1:a]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],r=e[3],a=.5>=i?i*(1+n):i+n-i*n,s=2*i-a;return[Math.round(255*o(s,a,t+1/3)),Math.round(255*o(s,a,t)),Math.round(255*o(s,a,t-1/3)),r]},g(u,function(i,o){var r=o.props,s=o.cache,u=o.to,c=o.from;l.fn[i]=function(i){if(u&&!this[s]&&(this[s]=u(this._rgba)),i===t)return this[s].slice();var o,a=e.type(i),d="array"===a||"object"===a?i:arguments,f=this[s].slice();return g(r,function(e,t){var i=d["object"===a?e:t.idx];null==i&&(i=f[t.idx]),f[t.idx]=n(i,t)}),c?(o=l(c(f)),o[s]=f,o):l(f)},g(r,function(t,n){l.fn[t]||(l.fn[t]=function(o){var r,s=e.type(o),l="alpha"===t?this._hsla?"hsla":"rgba":i,u=this[l](),c=u[n.idx];return"undefined"===s?c:("function"===s&&(o=o.call(this,c),s=e.type(o)),null==o&&n.empty?this:("string"===s&&(r=a.exec(o))&&(o=c+parseFloat(r[2])*("+"===r[1]?1:-1)),u[n.idx]=o,this[l](u)))})})}),l.hook=function(t){var n=t.split(" ");g(n,function(t,n){e.cssHooks[n]={set:function(t,o){var r,a,s="";if("transparent"!==o&&("string"!==e.type(o)||(r=i(o)))){if(o=l(r||o),!d.rgba&&1!==o._rgba[3]){for(a="backgroundColor"===n?t.parentNode:t;(""===s||"transparent"===s)&&a&&a.style;)try{s=e.css(a,"backgroundColor"),a=a.parentNode}catch(e){}o=o.blend(s&&"transparent"!==s?s:"_default")}o=o.toRgbaString()}try{t.style[n]=o}catch(e){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=l(t.elem,n),t.end=l(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return g(["Top","Right","Bottom","Left"],function(n,i){t["border"+i+"Color"]=e}),t}},r=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(e){function t(){try{var n=this===document?e(this):e(this).contents()}catch(e){return!1}n.mousemove(function(t){e.mlp={x:t.pageX,y:t.pageY}}),n.find("iframe").on("load",t)}e.mlp={x:0,y:0},e(t),e.fn.ismouseover=function(){var t=!1;return this.eq(0).each(function(){var n=e(this).is("iframe")?e(this).contents().find("body"):e(this),i=n.offset();t=i.left<=e.mlp.x&&i.left+n.outerWidth()>e.mlp.x&&i.top<=e.mlp.y&&i.top+n.outerHeight()>e.mlp.y}),t}}(jQuery);var g_ugYoutubeAPI=new UGYoutubeAPI,g_ugVimeoAPI=new UGVimeoAPI,g_ugHtml5MediaAPI=new UGHtml5MediaAPI,g_ugSoundCloudAPI=new UGSoundCloudAPI,g_ugWistiaAPI=new UGWistiaAPI;jQuery.fn.unitegallery=function(e){var t="#"+jQuery(this).attr("id");if(!e)var e={};var n=new UniteGalleryMain;return n.run(t,e),new UG_API(n)},void 0!==g_ugFunctions?g_ugFunctions.registerTheme("default"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("default")}),function(e){var t="day",n="hour",i="minute",o="second",r={d:t,h:n,m:i,s:o},a={list:[o,i,n,t],next:function(e){var t=this.list.indexOf(e);return t<this.list.length&&this.list[t+1]},prev:function(e){var t=this.list.indexOf(e);return t>0&&this.list[t-1]}},s={year:2014,month:7,day:31,hour:0,minute:0,second:0,timeZone:"local",ignoreTransferTime:!1,layout:"dhms",periodic:!1,periodInterval:7,periodUnit:"d",doubleNumbers:!0,effectType:"none",lang:"eng",headTitle:"",footTitle:"",afterDeadline:function(e){e.bodyBlock.html('<p style="font-size: 1.2em;">The countdown is finished!</p>')}},l={second:!1,minute:!1,hour:!1,day:!1},u={init:function(t){var n=e.extend({},s,t||{});n.itemTypes=c.getItemTypesByLayout(n.layout),n._itemsHas=e.extend({},l);for(var i=0;i<n.itemTypes.length;i++)n._itemsHas[n.itemTypes[i]]=!0;return this.each(function(){e(this).data("syotimer-options",n),u._render.apply(this,[]),u._perSecondHandler.apply(this,[])})},_render:function(){for(var t=e(this),n=t.data("syotimer-options"),i=c.getTimerItem(),o=e("<div/>",{class:"syotimer__head"}).html(n.headTitle),r=e("<div/>",{class:"syotimer__body"}),a=e("<div/>",{class:"syotimer__footer"}).html(n.footTitle),s={},l=0;l<n.itemTypes.length;l++){var u=i.clone();u.addClass("syotimer-cell_type_"+n.itemTypes[l]),r.append(u),s[n.itemTypes[l]]=u}var d={headBlock:o,bodyBlock:r,footBlock:a};t.data("syotimer-blocks",d).data("syotimer-items",s).addClass("syotimer").append(o).append(r).append(a)},_perSecondHandler:function(){var t=e(this),n=t.data("syotimer-options");e(".syotimer-cell > .syotimer-cell__value",t).css("opacity",1);var i=new Date,o=new Date(n.year,n.month-1,n.day,n.hour,n.minute,n.second),r=c.getDifferenceWithTimezone(i,o,n),a=c.getSecondsToDeadLine(r,n);a>=0?(u._refreshUnitsDom.apply(this,[a]),u._applyEffectSwitch.apply(this,[n.effectType])):(t=e.extend(t,t.data("syotimer-blocks")),n.afterDeadline(t))},_refreshUnitsDom:function(n){var i=e(this),o=i.data("syotimer-options"),r=i.data("syotimer-items"),a=o.itemTypes,s=c.getUnitsToDeadLine(n);o._itemsHas.day||(s.hour+=24*s.day),o._itemsHas.hour||(s.minute+=60*s.hour),o._itemsHas.minute||(s.second+=60*s.minute);for(var l=0;l<a.length;l++){var u=a[l],d=s[u],f=r[u];f.data("syotimer-unit-value",d),e(".syotimer-cell__value",f).html(c.format2(d,u!==t&&o.doubleNumbers)),e(".syotimer-cell__unit",f).html(e.syotimerLang.getNumeral(d,o.lang,u))}},_applyEffectSwitch:function(t,n){n=n||o;var i=this,r=e(i);if("none"===t)setTimeout(function(){u._perSecondHandler.apply(i,[])},1e3);else if("opacity"===t){var s=r.data("syotimer-items")[n];if(s){var l=a.next(n),c=s.data("syotimer-unit-value");e(".syotimer-cell__value",s).animate({opacity:.1},1e3,"linear",function(){u._perSecondHandler.apply(i,[])}),l&&0===c&&u._applyEffectSwitch.apply(i,[t,l])}}}},c={getTimerItem:function(){var t=e("<div/>",{class:"syotimer-cell__value",text:"0"}),n=e("<div/>",{class:"syotimer-cell__unit"}),i=e("<div/>",{class:"syotimer-cell"});return i.append(t).append(n),i},getItemTypesByLayout:function(e){for(var t=[],n=0;n<e.length;n++)t.push(r[e[n]]);return t},getSecondsToDeadLine:function(e,t){var n,i=e/1e3;if(i=Math.floor(i),t.periodic){var o,r,a=c.getPeriodUnit(t.periodUnit),s=e/(1e3*a);s=Math.ceil(s),s=Math.abs(s),i>=0?(r=s%t.periodInterval,r=0===r?t.periodInterval:r,r-=1):r=t.periodInterval-s%t.periodInterval,0===(o=i%a)&&i<0&&r--,n=Math.abs(r*a+o)}else n=i;return n},getUnitsToDeadLine:function(e){var n=t,i={};do{var o=c.getPeriodUnit(n);i[n]=Math.floor(e/o),e%=o}while(n=a.prev(n));return i},getPeriodUnit:function(e){switch(e){case"d":case t:return 86400;case"h":case n:return 3600;case"m":case i:return 60;case"s":case o:return 1}},getDifferenceWithTimezone:function(e,t,o){var r,a=t.getTime()-e.getTime(),s=0,l=0;return"local"!==o.timeZone&&(s=1e3*(parseFloat(o.timeZone)*c.getPeriodUnit(n)- -e.getTimezoneOffset()*c.getPeriodUnit(i))),o.ignoreTransferTime&&(l=1e3*(-e.getTimezoneOffset()*c.getPeriodUnit(i)- -t.getTimezoneOffset()*c.getPeriodUnit(i))),r=s+l,a-r},format2:function(e,t){return t=!1!==t,e<=9&&t?"0"+e:""+e}},d={setOption:function(t,n){var i=e(this),o=i.data("syotimer-options");o.hasOwnProperty(t)&&(o[t]=n,i.data("syotimer-options",o))}};e.fn.syotimer=function(t){if("string"==typeof t&&"setOption"===t){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){d[t].apply(this,n)})}return null===t||"object"==typeof t?u.init.apply(this,[t]):void e.error("SyoTimer. Error in call methods: methods is not exist")},e.syotimerLang={rus:{second:["секунда","секунды","секунд"],minute:["минута","минуты","минут"],hour:["час","часа","часов"],day:["день","дня","дней"],handler:"rusNumeral"},eng:{second:["second","seconds"],minute:["minute","minutes"],hour:["hour","hours"],day:["day","days"]},por:{second:["segundo","segundos"],minute:["minuto","minutos"],hour:["hora","horas"],day:["dia","dias"]},spa:{second:["segundo","segundos"],minute:["minuto","minutos"],hour:["hora","horas"],day:["día","días"]},heb:{second:["שניה","שניות"],minute:["דקה","דקות"],hour:["שעה","שעות"],day:["יום","ימים"]},universal:function(e){return 1===e?0:1},rusNumeral:function(e){var t=[2,0,1,1,1,2];return e%100>4&&e%100<20?2:t[e%10<5?e%10:5]},getNumeral:function(t,n,i){var o=this[e.syotimerLang[n].handler||"universal"](t);return e.syotimerLang[n][i][o]}}}(jQuery),function(){var e,t;e=this.jQuery||window.jQuery,t=e(window),e.fn.stick_in_parent=function(n){var i,o,r,a,s,l,u,c,d,f,g;for(null==n&&(n={}),g=n.sticky_class,s=n.inner_scrolling,f=n.recalc_every,d=n.parent,c=n.offset_top,u=n.spacer,o=n.bottoming,null==c&&(c=0),null==d&&(d=void 0),null==s&&(s=!0),null==g&&(g="is_stuck"),i=e(document),null==o&&(o=!0),r=function(n,r,a,l,p,h,m,v){var b,_,y,w,x,T,S,C,E,I,P,k;if(!n.data("sticky_kit")){if(n.data("sticky_kit",!0),x=i.height(),S=n.parent(),null!=d&&(S=S.closest(d)),!S.length)throw"failed to find stick parent";if(b=y=!1,(P=null!=u?u&&n.closest(u):e("<div />"))&&P.css("position",n.css("position")),(C=function(){var e,t,o;if(!v&&(x=i.height(),e=parseInt(S.css("border-top-width"),10),t=parseInt(S.css("padding-top"),10),r=parseInt(S.css("padding-bottom"),10),a=S.offset().top+e+t,l=S.height(),y&&(b=y=!1,null==u&&(n.insertAfter(P),P.detach()),n.css({position:"",top:"",width:"",bottom:""}).removeClass(g),o=!0),p=n.offset().top-(parseInt(n.css("margin-top"),10)||0)-c,h=n.outerHeight(!0),m=n.css("float"),P&&P.css({width:n.outerWidth(!0),height:h,display:n.css("display"),"vertical-align":n.css("vertical-align"),float:m}),o))return k()})(),h!==l)return w=void 0,T=c,I=f,k=function(){var e,d,_,E;if(!v&&(_=!1,null!=I&&0>=--I&&(I=f,C(),_=!0),_||i.height()===x||C(),_=t.scrollTop(),null!=w&&(d=_-w),w=_,y?(o&&(E=_+h+T>l+a,b&&!E&&(b=!1,n.css({position:"fixed",bottom:"",top:T}).trigger("sticky_kit:unbottom"))),_<p&&(y=!1,T=c,null==u&&("left"!==m&&"right"!==m||n.insertAfter(P),P.detach()),e={position:"",width:"",top:""},n.css(e).removeClass(g).trigger("sticky_kit:unstick")),s&&(e=t.height(),h+c>e&&!b&&(T-=d,T=Math.max(e-h,T),T=Math.min(c,T),y&&n.css({top:T+"px"})))):_>p&&(y=!0,e={position:"fixed",top:T},e.width="border-box"===n.css("box-sizing")?n.outerWidth()+"px":n.width()+"px",n.css(e).addClass(g),null==u&&(n.after(P),"left"!==m&&"right"!==m||P.append(n)),n.trigger("sticky_kit:stick")),y&&o&&(null==E&&(E=_+h+T>l+a),!b&&E)))return b=!0,"static"===S.css("position")&&S.css({position:"relative"}),n.css({position:"absolute",bottom:r,top:"auto"}).trigger("sticky_kit:bottom")},E=function(){return C(),k()},_=function(){if(v=!0,t.off("touchmove",k),t.off("scroll",k),t.off("resize",E),e(document.body).off("sticky_kit:recalc",E),n.off("sticky_kit:detach",_),n.removeData("sticky_kit"),n.css({position:"",bottom:"",top:"",width:""}),S.position("position",""),y)return null==u&&("left"!==m&&"right"!==m||n.insertAfter(P),P.remove()),n.removeClass(g)},t.on("touchmove",k),t.on("scroll",k),t.on("resize",E),e(document.body).on("sticky_kit:recalc",E),n.on("sticky_kit:detach",_),setTimeout(k,0)}},a=0,l=this.length;a<l;a++)n=this[a],r(e(n));return this}}.call(this),$(document).ready(function(){function e(e){$("body").append('<div class="ui negative message noty">\n    <div class="header">\n'+e+"\n    </div>\n</div>");var t=$(".noty");t.animate({opacity:"1"},500),setTimeout(function(){t.fadeOut(500)},2500),setTimeout(function(){t.remove()},3500)}$(".dropdown").dropdown(),$("#clear_button").click(function(){$("#category, #city, #district").dropdown("clear"),$("#district").addClass("disabled"),$("#min_price, #min_walls, #max_walls, #max_price, #min_square, #max_square, #min_floor, #max_floor").val("")}),$(".special.cards .image").dimmer({on:"hover"}),$(".currency-filter").click(function(){$(".currency-filter").dropdown("set value",$(this).dropdown("get value")).dropdown("set text",$(this).dropdown("get text"))}),$("#profile_button").popup({preserve:!0,on:"click",closable:!0,position:"bottom center",delay:{show:300,hide:300}}),$("#sign_in_modal").modal(),$("#ad_modal").modal(),$("#delete_ad_modal").modal(),$("#history_modal").modal(),$("#settings_modal").modal({onHidden:function(){$("#profile_first_name").attr("readonly",!0),$("#profile_last_name").attr("readonly",!0),$("#profile_username").attr("readonly",!0),$("#profile_email").attr("readonly",!0),$(".edit-buttons").addClass("hidden"),$(".buttons-wrapper-form").removeClass("hidden")}}),$("#sign_in").click(function(){$("#sign_in_modal").modal("show"),$("#profile_button").popup("hide")}),$("#settings_button").click(function(){$("#settings_modal").modal("show"),$("#profile_button").popup("hide")}),$("#history_button").click(function(){$("#history_modal").modal("show"),$("#profile_button").popup("hide")}),$("#change_profile").click(function(){$("#profile_first_name").attr("readonly",!1),$("#profile_last_name").attr("readonly",!1),$("#profile_phone").attr("readonly",!1),$("#profile_email").attr("readonly",!1),$(".buttons-wrapper-form").addClass("hidden"),$(".edit-buttons").removeClass("hidden")}),$("#cancel_change_profile").click(function(){$(".edit-buttons").addClass("hidden"),$(".buttons-wrapper-form").removeClass("hidden"),$("#profile_first_name").attr("readonly",!0),$("#profile_last_name").attr("readonly",!0),$("#profile_phone").attr("readonly",!0),$("#profile_email").attr("readonly",!0)}),$("#phone_number").mask("+38-(000)-000-00-00"),$("#profile_phone").mask("+38-(000)-000-00-00"),$("#sign_in_form").form({fields:{email:{identifier:"email",rules:[{type:"empty",prompt:"Введите E-mail адрес"}]},password:{identifier:"password",rules:[{type:"empty",prompt:"Введите пароль"},{type:"minLength[6]",prompt:"Длина пароля должна быть больше {ruleValue} символов"}]}}}),$("#sign_up_form").form({fields:{first_name:{identifier:"first_name",rules:[{type:"empty",prompt:"Введите имя"}]},second_name:{identifier:"second_name",rules:[{type:"empty",prompt:"Введите фамилию"}]},username:{identifier:"username",rules:[{type:"empty",prompt:"Введите логин"}]},email:{identifier:"email",rules:[{type:"empty",prompt:"Введите E-mail"}]},password1:{identifier:"password1",rules:[{type:"empty",prompt:"Введите пароль"},{type:"minLength[6]",prompt:"Длина пароля должна быть больше {ruleValue} символов"}]},password2:{identifier:"password2",rules:[{type:"empty",prompt:"Введите пароль"},{type:"match[password1]",prompt:"Пароли не совпадают"}]},phone:{identifier:"phone",rules:[{type:"empty",prompt:"Введите номер телефона"}]},user_type:{identifier:"user_type",rules:[{type:"empty",prompt:"Укажите тип пользователя"}]}}}),$("#add_ad_form").form({fields:{title:{identifier:"title",rules:[{type:"empty",prompt:"Введите заголовок"}]},ad_type:{identifier:"ad_type",rules:[{type:"empty",prompt:"Выберите рубрику"}]},description:{identifier:"description",rules:[{type:"empty",prompt:"Введите описание"}]},price:{identifier:"estate_price",rules:[{type:"empty",prompt:"Укажите цену"}]},rooms:{identifier:"rooms_count",rules:[{type:"empty",prompt:"Укажите количество комнат"}]},square:{identifier:"square",rules:[{type:"empty",prompt:"Укажите площадь"}]},city:{identifier:"estate_city",rules:[{type:"empty",prompt:"Выберите город"}]},district:{identifier:"estate_district",rules:[{type:"empty",prompt:"Выберите район"}]}}}),$("#estate_currency").dropdown("set selected","0"),$("#add_ad").click(function(){$("#ad_modal").modal("show")}),$("#hidden-new-file1").on("change",function(){$("#test1").attr("src",$("#hidden-new-file1").val())}),$("#sign_up").click(function(){e("Войдите или зарегистрируйтесь")}),$("#waterfall").NewWaterfall(),$("#gallery").unitegallery({theme_enable_text_panel:!1,slider_scale_mode:"down"}),$("#get_number").popup({on:"click"}),$("#syo").syotimer({lang:"rus",year:2017,month:10,day:7,hour:15,minute:0}),$("#global-page .menu .item").tab({context:$("#global-page")}),$("#account-wtrfl").NewWaterfall(),$("#closed-wtrfl").NewWaterfall(),$("#ad-wtrfl").NewWaterfall(),$("#delete_form").form({fields:{reason:{identifier:"reason",rules:[{type:"empty",prompt:"Выберите причину удаления"}]},comment:{identifier:"commentary",rules:[{type:"empty",prompt:"Напишите комментарий"}]}}}),$("#close_ad").click(function(){$("#delete_ad_modal").modal("show")}),$("#city").dropdown({onChange:function(e){$("#district-list div").not(":first").remove(),""!==e&&"-1"!==e&&$.ajax({url:"/api/districts/",type:"GET",data:{city_id:e},dataType:"json",success:function(e){$("#district").removeClass("disabled");for(var t=0;t<e.length;t++)$("#district-list").append('<div class="item" data-value=" '+e.id+' ">'+e.name+"</div>")}}),"-1"===e&&$("#district").addClass("disabled")}}).dropdown("set selected",-1),$("#estate_city").dropdown({onChange:function(e){console.log(e),$("#estate_district option").remove(),""!==e&&$.ajax({url:"/api/districts/",type:"GET",data:{city_id:e},dataType:"json",success:function(e){$("#estate_district").removeClass("disabled");for(var t=0;t<e.length;t++)$("#estate_district").append($("<option>",{value:e.id,text:e.name}))}})}}),$("#district").dropdown("set selected",-1),$("#category").dropdown("set selected",-1),$(".currency-filter").dropdown("set selected","0"),$("#sticky").stick_in_parent()});